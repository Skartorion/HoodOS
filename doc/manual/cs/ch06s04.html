<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>6.4. Nahrání chybějícího firmwaru</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Debian GNU/Linux — instalační příručka">
<link rel="up" href="ch06.html" title="Kapitola 6. Používáme instalační program Debianu">
<link rel="prev" href="ch06s03.html" title="6.3. Použití jednotlivých komponent">
<link rel="next" href="ch06s05.html" title="6.5. Customization">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">6.4. Nahrání chybějícího firmwaru</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch06s03.html"><img src="images/prev.png" alt="Předcházející"></a> </td>
<th width="60%" align="center">Kapitola 6. Používáme instalační program Debianu</th>
<td width="20%" align="right"> <a accesskey="n" href="ch06s05.html"><img src="images/next.png" alt="Další"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="loading-firmware"></a>6.4. Nahrání chybějícího firmwaru</h2></div></div></div>
<p>Jak je zmíněno v <a class="xref" href="ch02s02.html" title="2.2. Ovladače vyžadující firmware">2.2 – „Ovladače vyžadující firmware“</a>, některá zařízení vyžadují pro svou práci kromě ovladače zařízení také firmware. Ve většině případů znamená chybějící firmware nefunkční zařízení. Existují však výjimky, kdy zařízení bez firmwaru funguje alespoň v základním režimu a firmware je potřeba až pro povolení speciálních vlastností. </p>
<p>Starting with Debian GNU/Linux 12.0, following the <a class="ulink" href="https://www.debian.org/vote/2022/vote_003" target="_top">2022 General Resolution about non-free firmware</a>, official installation images (like netinst) can include non-free firmware packages. Even with those firmware packages available, some firmware files might still be missing. Or one might be using netboot files, which don't include firmware packages. </p>
<p>Pokud ovladač zařízení vyžaduje firmware, který není k dispozici, <code class="classname">debian-installer</code> nabídne jeho nahrání z výměnných médií. Budete-li souhlasit, <code class="classname">debian-installer</code> prozkoumá dostupná zařízení, na kterých hledá buď samotné soubory s firmwarem, nebo balíky obsahující firmware. Je-li firmware nalezen, nakopíruje se do <code class="filename">/lib/firmware</code> a příslušný modul je znovu zaveden. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png"></td>
<th align="left">Poznámka</th>
</tr>
<tr><td align="left" valign="top"><p>Which devices are scanned and which file systems are supported depends on the architecture, the installation method and the stage of the installation. Especially during the early stages of the installation, loading the firmware is most likely to succeed from a FAT-formatted USB stick. <span class="phrase">On i386 and amd64 firmware can also be loaded from an MMC or SD card.</span> </p></td></tr>
</table></div>
<p>Pokud víte, že zařízení není pro instalaci potřeba, nebo pokud zařízení funguje i bez firmwaru, můžete zavedení firmwaru přeskočit. </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="id3483"></a>6.4.1. Příprava média</h3></div></div></div>
<p>The most common method to load such firmware is from some removable medium such as a USB stick. To prepare a USB stick (or other medium like a hard drive partition), the firmware files or packages must be placed in either the root directory or a directory named <code class="filename">/firmware</code> of the file system on the medium. The recommended file system to use is FAT as that is most certain to be supported during the early stages of the installation. </p>
<p>Tarballs and zip files containing current packages for the most common firmware, and the associated metadata to ensure a proper detection by the installer (<code class="filename">dep11</code> directory), are available from: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> <a class="ulink" href="https://cdimage.debian.org/cdimage/firmware/trixie/" target="_top">https://cdimage.debian.org/cdimage/firmware/trixie/</a> </p></li></ul></div>
<p> Just download the tarball or zip file for the correct release and unpack it to the file system on the medium. </p>
<p>Na médium je také možné zkopírovat jednotlivé soubory s firmwarem (tzn. ne balíky). Takovéto soubory můžete obvykle získat z již instalovaného systému, nebo od dodavatele hardwaru. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="id3494"></a>6.4.2. Firmware a instalovaný systém</h3></div></div></div>
<p>Any firmware loaded during the installation will be copied automatically to the installed system. In most cases this will ensure that the device that requires the firmware will also work correctly after the system is rebooted into the installed system. However, if the installed system runs a different kernel version than the installer, there is a slight chance that the firmware cannot be loaded due to version skew. </p>
<p>If the firmware was loaded from a firmware package, <code class="classname">debian-installer</code> will also install this package for the installed system and will automatically add the non-free-firmware section of the package archive in APT's <code class="filename">sources.list</code>. This has the advantage that the firmware should be updated automatically if a new version becomes available. </p>
<p>Jestliže jste při instalaci přeskočili možnost nahrání firmwaru, nebude dané zařízení nejspíš fungovat ani v nainstalovaném systému. Pro jeho zprovoznění budete muset doinstalovat firmware ručně. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Poznámka]" src="images/note.png"></td>
<th align="left">Poznámka</th>
</tr>
<tr><td align="left" valign="top"><p>If the firmware was loaded from loose firmware files, the firmware copied to the installed system will <span class="emphasis"><em>not</em></span> be automatically updated unless the corresponding firmware package (if available) is installed after the installation is completed. </p></td></tr>
</table></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="completing-installed-system"></a>6.4.3. Completing the Installed System</h3></div></div></div>
<p>Depending on how the installation was performed, it might be that the need for some firmware was not detected during installation, that the relevant firmware was not available, or that one chose not to install some firmware at that time. In some cases, a successful installation can still end up in a black screen or a garbled display when rebooting into the installed system. When that happens, the following workarounds can be tried: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Pass the <code class="code">nomodeset</code> option on the kernel command line. This might help boot into a <span class="quote">„<span class="quote">fallback graphics</span>“</span> mode.</p></li>
<li class="listitem"><p>Use the <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Alt</strong></span>+<span class="keycap"><strong>F2</strong></span> key combination to switch to VT2, which might offer a functional login prompt.</p></li>
</ul></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch06s03.html"><img src="images/prev.png" alt="Předcházející"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch06.html"><img src="images/up.png" alt="Nahoru"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch06s05.html"><img src="images/next.png" alt="Další"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">6.3. Použití jednotlivých komponent </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Domů"></a></td>
<td width="40%" align="right" valign="top"> 6.5. Customization</td>
</tr>
</table>
</div>
</body>
</html>
