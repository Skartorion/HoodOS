Debian GNU/Linux Installationsguide

Copyright © 2004 - 2025 Debian Installer-teamet

Den här handboken är fri programvara; du kan distribuera den och/eller
modifiera den under villkoren för GNU General Public License. Referera till
licensen i Appendix F, GNU General Public License.

Bygg version av denna manual: 20250803+deb13u1.

Sammanfattning

Det här dokumentet innehåller installationsinstruktioner för Debian GNU/Linux
13 system (kodnamn "trixie") för arkitekturen 64-bit PC ("amd64"). Den
innehåller även referenser till mer information och information om hur du får
ut det mesta av ditt nya Debian-system.

Översatt av Daniel Nylander <po@danielnylander.se> Luna Jernberg <
droidbittin@gmail.com. Stort tack till Anders Lennartsson för
korrekturläsningen. GNU General Public License översattes av Mikael Pawlo.
Skicka synpunkter på översättningen till <debian-l10n-swedish@lists.debian.org>
eller <tp-sv@listor.tp-sv.se>.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Innehållsförteckning

Installation av Debian GNU/Linux 13 för amd64
1. Välkommen till Debian
    1.1. Vad är Debian?
    1.2. Vad är GNU/Linux?
    1.3. Vad är Debian GNU/Linux?
    1.4. Vad är Debian-installatören?
    1.5. Få tag på Debian
    1.6. Få tag på senaste versionen av det här dokumentet
    1.7. Organisering av det här dokumentet
    1.8. Om copyright och programvarulicenser
2. Systemkrav
    2.1. Maskinvara som stöds
        2.1.1. Arkitekturer som stöds
        2.1.2. CPU-stöd
        2.1.3. Bärbara datorer
        2.1.4. Flera processorer
        2.1.5. Stöd för grafikhårdvara
        2.1.6. Maskinvara för anslutning till nätverk
        2.1.7. Punktskriftsskärmar
        2.1.8. Talsyntes (maskinvara)
        2.1.9. Kringutrustning och annan maskinvara
    2.2. Enheter som kräver fast programvara
    2.3. Köpa maskinvara specifikt för GNU/Linux
        2.3.1. Undvik proprietär eller sluten maskinvara
    2.4. Installationsmedia
        2.4.1. Cd-rom/Dvd-rom/Bd-rom
        2.4.2. USB-minne
        2.4.3. Nätverk
        2.4.4. Hårddisk
        2.4.5. Un*x eller GNU-system
        2.4.6. Lagringssystem som stöds
    2.5. Krav för minne och diskplats
3. Före installation av Debian GNU/Linux
    3.1. Översikt av installationsprocessen
    3.2. Säkerhetskopiera dina befintliga data!
    3.3. Information du behöver
        3.3.1. Dokumentation
        3.3.2. Hitta informationskällor för maskinvara
        3.3.3. Maskinvarukompatibilitet
        3.3.4. Nätverksinställningar
    3.4. Matcha minimikrav för maskinvara
    3.5. Förpartionering för system med flera operativsystem
    3.6. Inställning av maskinvara och operativsystem före installation
        3.6.1. Starta BIOS/UEFI-inställningsmenyn
        3.6.2. Val av uppstartsenhet
        3.6.3. System med UEFI firmware
        3.6.4. Säker uppstart
        3.6.5. Inaktivera Windows "snabbuppstart"/"snabbstart" funktion
        3.6.6. Maskinvaruproblem att se upp för
4. Få tag på installationsmedia
    4.1. Officiella Debian GNU/Linux installationsavbildningar
    4.2. Hämta filer från Debian-speglar
        4.2.1. Var man får tag på installationsfiler
    4.3. Förbereda filer för uppstart med USB-minne
        4.3.1. Förbereder ett USB-minne med en hybrid CD/DVD-avbildning
    4.4. Förbereda filer för uppstart med hårddisk
        4.4.1. Starta upp hårddiskinstalleraren från Linux med GRUB
    4.5. Förbered filerna för nätverksuppstart via TFTP
        4.5.1. Konfigurering av DHCP-server
        4.5.2. Konfigurera en BOOTP-server
        4.5.3. Aktivering av TFTP-server
        4.5.4. Flytta TFTP-avbildningarna till rätt plats
    4.6. Automatisk installation
        4.6.1. Automatisk installation med Debian Installer
    4.7. Verifiera integriteten för installationsfiler
5. Starta upp installationssystemet
    5.1. Starta upp installationsprogrammet på 64-bit PC
        5.1.1. Uppstart från USB-minne
        5.1.2. Starta upp från optiskt media (CD/DVD)
        5.1.3. Uppstart från Linux med GRUB
        5.1.4. Uppstart via TFTP
        5.1.5. Uppstartsskärmen
        5.1.6. Det grafiska installationsprogrammet
    5.2. Hjälpmedel
        5.2.1. Installationsprogrammets frontend
        5.2.2. Punktskriftsskärmar med USB
        5.2.3. Punktskriftsskärmar med seriekabel
        5.2.4. Talsynteser (mjukvara)
        5.2.5. Talsyntes (maskinvara)
        5.2.6. Brädenheter
        5.2.7. Tema med hög kontrast
        5.2.8. Zooma
        5.2.9. Expertinstallation, räddningsläge, automatisk installation
        5.2.10. Tillgänglighet för det installerade systemet
    5.3. Uppstartsparametrar
        5.3.1. Boot serial console
        5.3.2. Parametrar för Debian Installer
        5.3.3. Använding av uppstartsparametrar för att besvara frågor
        5.3.4. Skicka parametrar till kärnmoduler
        5.3.5. Svartlistning av kärnmoduler
    5.4. Felsök installationsprocessen
        5.4.1. Tillförlitligheten för optiska medier
        5.4.2. Uppstartskonfiguration
        5.4.3. Talsynteser (mjukvara)
        5.4.4. Vanliga 64-bit PC Installationsproblem
        5.4.5. Tolkning av kärnans uppstartsmeddelanden
        5.4.6. Rapportering av installationsproblem
        5.4.7. Skicka installationsrapporter
6. Användning av Debian Installer
    6.1. Hur installationsprogrammet fungerar
        6.1.1. Användning av det grafiska installationsprogrammet
    6.2. Introduktion till komponenter
    6.3. Användning av individuella komponenter
        6.3.1. Konfiguration av Debians installationsprogram och maskinvara
        6.3.2. Skapa användare och lösenord
        6.3.3. Konfigurera klockan och tidszon
        6.3.4. Partitionering och val av monteringspunkter
        6.3.5. Installation av grundsystemet
        6.3.6. Installera ytterligare programvara
        6.3.7. Gör ditt system klart för uppstart
        6.3.8. Färdigställ installationen
        6.3.9. Felsökning
        6.3.10. Installation över network-console
    6.4. Läsa in saknad fast programvara
        6.4.1. Förbereda ett media
        6.4.2. Fast programvara och det installerade systemet
        6.4.3. Slutför det installerade systemet
    6.5. Anpassningar
        6.5.1. Installera ett alternativt init system
7. Starta upp ditt nya Debian-system
    7.1. Sanningens minut
    7.2. Montering av krypterade volymer
        7.2.1. Felsökning
    7.3. Logga in
8. Nästa steg och hur man ska gå vidare
    8.1. Stänga av systemet
    8.2. Orientera dig runt i Debian
        8.2.1. Debians paketsystem
        8.2.2. Ytterligare mjukvara tillgängligt för Debian
        8.2.3. Hantera programversioner
        8.2.4. Hantera cronjobb
    8.3. Ytterligare läsning och information
    8.4. Konfigurera ditt system att använda e-post
        8.4.1. Standardkonfiguration för e-post
        8.4.2. Skicka e-post utanför systemet
        8.4.3. Konfigurera e-postservern Exim4
    8.5. Bygg en ny kärna
    8.6. Återställning av ett trasigt system
A. Installationshjälp
    A.1. Förberedelser
    A.2. Starta upp installationsprogrammet
        A.2.1. Optisk skiva
        A.2.2. USB-minne
        A.2.3. Uppstart från nätverk
        A.2.4. Uppstart från hårddisk
    A.3. Installation
    A.4. Sänd oss en installationsrapport
    A.5. Och till slut...
B. Automatiserad installation med förinställningar
    B.1. Introduktion
        B.1.1. Metoder för förinställning
        B.1.2. Begränsningar
    B.2. Användning av förinställningar
        B.2.1. Inläsning av förkonfigurationsfilen
        B.2.2. Användning av uppstartsparametrar för att förinställa frågor
        B.2.3. Auto-läget
        B.2.4. Användbara alias vid förinställning
        B.2.5. Exempel på förinställning av uppstartsprompt
        B.2.6. Använd en DHCP-server för att ange förkonfigurationsfiler
    B.3. Skapa en förkonfigurationsfil
    B.4. Innehållet av en förkonfigurationsfil (för trixie)
        B.4.1. Lokalanpassning
        B.4.2. Speech synthesis
        B.4.3. Nätverkskonfiguration
        B.4.4. Nätverkskonsoll
        B.4.5. Spegelinställningar
        B.4.6. Kontoinställning
        B.4.7. Inställning av klocka och tidszon
        B.4.8. Partitionering
        B.4.9. Installation av grundsystem
        B.4.10. Apt-inställning
        B.4.11. Paketval
        B.4.12. Installation av starthanteraren
        B.4.13. Färdigställande av installationen
        B.4.14. Förinställning av andra paket
    B.5. Avancerade inställningar
        B.5.1. Kör anpassade kommandon under installationen
        B.5.2. Användning av förinställningar för att ändra på standardvärden
        B.5.3. Kedjeinläsning av förkonfigurationsfiler
C. Partitionera för Debian
    C.1. Bestämma Debian-partitioner och storlekar
    C.2. Katalogträdet
    C.3. Rekommenderad partitionstabell
    C.4. Enhetsnamn i Linux
    C.5. Debians partitioneringsprogram
        C.5.1. Partitionera för 64-bit PC
D. Diverse bitar
    D.1. Linux-enheter
        D.1.1. Konfigurera din mus
    D.2. Nödvändig diskplats för funktioner
    D.3. Installera Debian GNU/Linux från ett Unix/Linux-system
        D.3.1. Påbörja arbetet
        D.3.2. Installera debootstrap
        D.3.3. Kör debootstrap
        D.3.4. Konfigurera grundsystemet
        D.3.5. Installera en kärna
        D.3.6. Ställ in starthanteraren
        D.3.7. Fjärråtkomst: installera SSH och konfigurera åtkomst
        D.3.8. Slutgiltiga justeringar
    D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)
        D.4.1. Krav
        D.4.2. Ställ in källor
        D.4.3. Installera måldatorn
    D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)
E. Administrivia
    E.1. Om det här dokumentet
    E.2. Bidrag till det här dokumentet
    E.3. Stora bidragsgivare
    E.4. Varumärken
F. GNU General Public License

Tabellförteckning

3.1. Maskinvaruinformation som som kan vara hjälpfulla för en installation
3.2. Rekommenderade minimala systemkrav

Installation av Debian GNU/Linux 13 för amd64

Vi är glada att du har valt att prova Debian och är säkra på att du kommer att
tycka att utgåvan av Debian GNU/Linux är unik. Debian GNU/Linux sammanför
högkvalitativa fria programvaror från hela världen och integrerar dem i en
sammanhängande helhet. Vi tror att du kommer att tycka att resultatet verkligen
är mer än summan av delarna.

Vi förstår att många av er vill installera Debian utan att läsa den här
handboken och Debian Installer är designad för att göra det möjligt. Om du inte
har tid att läsa hela installationsguiden just nu rekommenderar vi att du läser
installationshjälpen som går igenom den grundläggande installationsprocessen
och länkar till manualen för mer avancerade ämnen eller när saker går fel.
Installationshjälpen kan du hitta i Appendix A, Installationshjälp.

Med det sagt hoppas vi att du får tid att läsa större delen av den här
handboken och genom att göra det bli mer informerad och få positiva
erfarenheter av installationen.

Kapitel 1. Välkommen till Debian

Innehållsförteckning

1.1. Vad är Debian?
1.2. Vad är GNU/Linux?
1.3. Vad är Debian GNU/Linux?
1.4. Vad är Debian-installatören?
1.5. Få tag på Debian
1.6. Få tag på senaste versionen av det här dokumentet
1.7. Organisering av det här dokumentet
1.8. Om copyright och programvarulicenser

Det här kapitlet ger en överblick av Debian-projektet och Debian GNU/Linux. Om
du redan känner till historien bakom Debian-projektet och Debian GNU/
Linux-utgåvan kan du hoppa till nästa kapitel.

1.1. Vad är Debian?

Debian är en frivilligorganisation som är engagerad med att utveckla fri
programvara och främja idealen för Free Software Foundation. Debian-projektet
startade 1993 när Ian Murdock skickade ut en öppen inbjudan till
programvaruutvecklare om att bidra till en komplett och sammanhållen
programvaruutgåva baserad på den då relativt nya Linux-kärnan. Den relativt
lilla skaran av dedicerade entusiaster, ursprungligen finansierade av Free
Software Foundation och påverkade av GNU:s filosofi, har över åren som gått
växt till en organisation på ungefär 1000 Debian-utvecklare.

Debian-utvecklare är involverade i en uppsjö av aktiviteter såsom
administration av webbplatsen och FTP-servern, grafisk design, juridiska
aspekter för programvarulicenser, dokumentation samt, så klart, underhåll av
programvarupaketen.

Med avsikt att kommunicera vår filosofi och attrahera utvecklare som tror på
principerna som Debian står för har Debian-projektet publicerat ett antal
dokument som pekar ut våra värderingar och fungerar som guider till vad det
betyder att vara en Debian-utvecklare:

  • Debians sociala kontrakt är ett resultat av Debians engagemang för
    användare och utvecklare av fri programvara. Alla som godtar att följa det
    sociala kontraktet kan bli en underhållare. Alla underhållare kan
    introducera ny programvara i Debian -- om programvaran tillgodoser våra
    kriterier för att vara fritt och att paketet följer våra
    kvalitetsstandarder.

  • Debians riktlinjer för fri programvara (DFSG) är klara och koncisa regler
    för Debians kriterier för fri programvara. DFSG är ett mycket
    inflytelserikt dokument i den fria programvarurörelsen och var grundstenen
    för The Open Source Definition.

  • Debians Policymanual är en omfattande specifikation av Debian-projektets
    kvalitetsstandarder.

Debian-utvecklarna är också involverade i ett antal andra projekt, vissa
specifika till Debian, andra involverar några eller alla Linux-relaterade
projekt. Några exempel är:

  • Filesystem Hierarchy Standard (FHS) är ett försök att standardisera
    organiseringen av filsystemet för Linux. FHS kommer att tillåta
    programvaruutvecklare att fokusera på att utveckla program utan att behöva
    oroa sig för hur paketen kommer att installeras i olika utgåvor av GNU/
    Linux.

  • Debian Jr. är ett internt projekt vars mål är att göra Debian attraktivt
    även för unga användare.

För mer allmän information om Debian, se Debian GNU/Linux FAQ.

1.2. Vad är GNU/Linux?

GNU/Linux är ett operativsystem: ett antal program som låter dig interagera med
din dator och köra andra program.

Ett operativsystem innehåller olika fundamentala program som behövs för att din
dator så att den kan kommunicera och ta emot instruktioner från användare; läs
och skriva data till hårddiskar, band och skrivare; kontrollera användningen av
minne; och köra annan programvara. Den viktigaste delen av ett operativsystem
är kärnan. I ett GNU/Linux-system är Linux kärnkomponenten. Resten av systemet
innehåller andra program, många av dem skrevs av eller för GNU-projektet. För
att Linux-kärnan själv inte utgör ett fungerande operativsystem har vi
föredragit att använda termen "GNU/Linux" för att referera till system som
många personer vardagligen refererar till som "Linux".

GNU/Linux är modellerad efter ett Unix-operativsystem. Från början var GNU/
Linux designad att vara ett parallellbearbetande fleranvändarsystem. Dessa
fakta är tillräckliga att göra GNU/Linux olikt från andra välkända
operativsystem. Dock är GNU/Linux ännu mer olik än du kanske tror. I kontrast
till andra operativsystem äger ingen GNU/Linux. Mycket av dess utveckling är
gjord av obetalda frivilliga.

Utvecklingen av vad senare blev GNU/Linux började 1984 när Free Software
Foundation började utvecklingen av ett fritt Unix-liknande operativsystem
kallat GNU.

GNU-projektet har utvecklat en omfattande samling av fria programverktyg för
att användas med Unix (tm) och Unix-liknande operativsystem såsom GNU/Linux.
Dessa verktyg ger användarna möjligheten att utföra vardagliga uppgifter (såsom
kopiering och borttagning av filer från systemet) till det mystiska (såsom
skriva och bygga program eller göra sofistikerad redigering i ett antal olika
dokumentformat).

Även om många grupper och individer har bidragit till GNU/Linux är den största
enskilda bidragsgivaren fortfarande Free Software Foundation som har skapat
inte bara de flesta av verktygen som används i GNU/Linux men även filosofin och
gemenskapen som gjorde GNU/Linux möjlig.

Linux-kärnan dök ursprungligen upp 1991 när en finsk systemvetare vid namn
Linus Torvalds tillkännagav en tidig version av ett alternativ till Minix till
en diskussionsgrupp på Usenet kallad comp.os.minix. Se Linux Internationals
sida om Linux historia.

Linux Torvalds fortsätter än idag att koordinera arbetet för flera hundra
utvecklare med hjälp av ett antal delansvariga. Det finns en officiell
webbplats för Linux-kärnan. Information om sändlistan linux-kernel kan hittas
på linux-kernel mailing list FAQ.

GNU/Linux-användare har ofantlig frihet att välja sin programvara. Till exempel
kan dom välja från ett dussintal olika kommandoradsskal och flertalet grafiska
skrivbordsmiljöer. Det här urvalet är ofta förvillande för användare av andra
operativsystem som inte är vana att tänka att kommandoraden eller
skrivbordsmiljön faktiskt är något de kan ändra.

GNU/Linux är också mindre benägen att krascha, bättre på att köra fler än ett
program samtidigt och säkrare än många andra operativsystem. Med dessa fördelar
är Linux det snabbast växande operativsystemet på servermarknaden. På senare
tid har också Linux börjat bli populärt hos hem- och företagsanvändare.

1.3. Vad är Debian GNU/Linux?

Kombinationen av Debians filosofi, metodik, GNU-verktygen, Linux-kärnan och
andra viktiga fria programvaror formar en unik utgåva av programvaror kallad
Debian GNU/Linux. Den här utgåvan är uppbyggd av ett större antal av
programvarupaket. Varje paket i utgåvan innehåller exekverbara filer, skript,
dokumentation och konfigurationsinformation och har en paketansvarig som är
primärt ansvarig för att hålla paketen uppdaterade, hantera felrapporter och
kommunicera med den ursprungliga upphovsmannen/männen för den paketerade
programvaran. Vår extremt stora användarbas, kombinerad med vårt
felhanteringssystem ser till att problem hittas och löses snabbt.

Debians beaktande av detaljer gör att vi kan skapa en högkvalitativ, stabil och
skalbar utgåva. Installationer kan lätt konfigureras för att hantera olika
roller, från bantade installationer för brandväggar till arbetsstationer för
vetenskapliga ändamål eller högprestandaservrar.

Debian är speciellt populär bland erfarna användare för dess tekniska
förträfflighet och sitt djupa engagemang för behov och förväntningar hos
användare och utvecklare av Linux. Debian har också introducerat många
funktioner till Linux som nu är vardagsmat.

Till exempel var Debian den första Linux-utgåvan som inkluderade ett
pakethanteringssystem för enkel installation och borttagning av programvara.
Den var också den första Linux-utgåvan som kunde bli uppgraderad utan att kräva
ominstallation.

Debian fortsätter att vara ledande inom Linux-utvecklingen. Dess
utvecklingsprocess är ett exempel på hur bra utvecklingsmodellen för öppen
källkod kan fungera -- även för mycket komplexa uppgifter såsom byggnation och
underhåll av ett komplett operativsystem.

Funktionen som mest utmärker Debian från de andra Linux-utgåvorna är dess
pakethanteringssystem. Dessa verktyg ger administratören för Debian-systemet
total kontroll över paketen som installeras på ett system inklusive möjligheten
att installera enstaka paket eller automatiskt uppdatering av hela
operativsystemet. Individuella paket kan också skyddas från att uppdateras. Du
kan även tala om för pakethanteringssystemet om programvara du själv har byggt
och vilka beroenden de uppfyller.

För att skydda ditt system mot "trojanska hästar" och annan ondsint programvara
verifierar Debians servrar att uppskickade paket verkligen kommer från dess
registrerade Debian-ansvarige. Debian-paketerare är också noggranna med att
deras paket konfigureras på ett säkert sätt. Om säkerhetsproblem upptäcks i
utsända paket kommer normalt sett rättningar på problemen mycket snabbt. Men
Debians enkla uppdateringsmöjligheter kan säkerhetsrättningar hämtas och
installeras automatiskt över hela Internet.

Den primära, och bästa, metoden att få support för ditt Debian GNU/Linux-system
och kommunicera med Debians utvecklare är genom de många sändlistor som
underhålls av Debian-projektet (det är mer än 334 listor när det här skrivs).
Det enklaste sättet att prenumerera på en eller flera av dessa listor är att
besöka Prenumerera på Debians sändlistor och fylla i formuläret du hittar där.

1.4. Vad är Debian-installatören?

Debian Installer, även känd som "d-i", är programvaran för att installera ett
grundläggande fungerande Debian-system. Ett stort antal hårdvara som inbäddade
enheter, bärbara datorer, stationära datorer och servermaskiner stöds och en
stor uppsättning gratis programvara för många ändamål erbjuds.

Installationen utförs genom att besvara en grundläggande uppsättning frågor.
Det finns också ett expertläge som gör det möjligt att styra alla aspekter av
installationen och en avancerad funktion för att utföra automatiserade
installationer. Det installerade systemet kan användas som det är eller
anpassas ytterligare. Installationen kan utföras från en mängd källor: USB, CD/
DVD/Blu-Ray eller nätverket. Installationsprogrammet stöder lokaliserade
installationer på mer än 80 språk.

Installationsprogrammet har sitt ursprung i boot-floppies-projektet och det var
förstnämnda av Joey Hess 2000. Sedan dess har installationssystemet
kontinuerligt utvecklats av volontärer som förbättrar och lägger till fler
funktioner.

Mer information finns på Debian Installer-sida, på Wiki och på e-postlista för
debian-boot.

1.5. Få tag på Debian

För information om hur man hämtar Debian GNU/Linux från Internet eller från var
man kan köpa officiella Debian installationsmedia, se webbsidan Få tag på
Debian. Webbsidan Hämta Debian från Internet innehåller en full lista av
officiella Debian-speglar så du lätt kan hitta den närmaste.

Debian kan efter installationen uppgraderas på ett enkelt sätt.
Installationsprocessen kommer att hjälpa till att ställa in systemet så att du
kan göra dessa uppgraderingar när installation är klar, om det behövs.

1.6. Få tag på senaste versionen av det här dokumentet

Det här dokumentet är under konstant omarbetning. Se på webbsidorna för Debian
13 efter den absolut senaste information om 13-utgåvan av Debian GNU/
Linux-systemet. Uppdaterade versioner av den här installationshandboken finns
också tillgängliga från officiella installationshandboken.

1.7. Organisering av det här dokumentet

Det här dokumentet är tänkt att fungera som en handbok för nybörjare av Debian.
Den försöker göra så få antaganden som möjligt om din kunskapsnivå. Dock antar
vi att du har en allmän uppfattning av hur maskinvaran i din dator fungerar.

Expertanvändare kan också hitta intressant referensinformation i det här
dokumentet inklusive minimistorlek för installation, detaljer om vilken
maskinvara som stöds av Debians installationssystem och så vidare. Vi
uppmuntrar expertanvändare att hoppa runt i dokumentet.

I allmänhet är handboken uppbyggd i en linjär form som tar dig genom
installationsprocessen från början till slut. Här är stegen som krävs för att
installera Debian GNU/Linux och avsnitten i det här dokumentet som motsvarar
varje steg:

 1. Ta reda på om din maskinvara möter kraven för att använda
    installationssystemet i Kapitel 2, Systemkrav.

 2. Säkerhetskopiering av ditt system, all nödvändig planering och
    maskinvarukonfigurering före du installerar Debian finns i Kapitel 3, Före
    installation av Debian GNU/Linux. Om du förbereder ett system med flera
    operativsystem kan du behöva skapa ytterligare partitioner på din hårddisk
    som Debian kan användas för.

 3. I Kapitel 4, Få tag på installationsmedia kan du hitta de nödvändiga
    installationsfilerna för din installationsmetod.

 4. Nästa Kapitel 5, Starta upp installationssystemet beskriver uppstart av
    installationssystemet. Det här kapitlet diskuterar också procedurer för
    problemlösning om du har problem med det här steget.

 5. Perform the actual installation according to Kapitel 6, Användning av
    Debian Installer. This involves choosing your language, configuring
    peripheral driver modules, configuring your network connection, so that
    remaining installation files can be obtained directly from a Debian server
    (if you are not installing from a set of DVD installation images),
    partitioning your hard drives and installation of a base system, then
    selection and installation of tasks. (Some background about setting up the
    partitions for your Debian system is explained in Appendix C, Partitionera
    för Debian.)

 6. Starta upp ditt nyinstallerade grundsystem, från Kapitel 7, Starta upp ditt
    nya Debian-system.

När du har fått ditt system installerat kan du läsa Kapitel 8, Nästa steg och
hur man ska gå vidare. Det här kapitlet förklarar var man letar för att finna
mer information om Unix och Debian och hur du ersätter din kärna.

Till slut, information om det här dokumentet och hur man bidrar till det kan
hittas i Appendix E, Administrivia.

1.8. Om copyright och programvarulicenser

Vi är säkra på att du läst några av licenserna som kommer med de flesta
kommersiella programvaror -- de säger normalt sett att du bara kan använda en
kopia av programvaran på en enda dator. Licensen för det här systemet är inte
alls som sådan. Vi uppmuntrar dig att lägga en kopia av Debian GNU/Linux på
varje dator i din skola eller arbetsplats. Låna ut ditt installationsmedium
till dina vänner och hjälp dem att installera det på deras datorer! Du kan även
göra tusentals kopior och sälja dem -- dock med några få restriktioner. Din
frihet att installera och använda systemet kommer direkt från att Debian är
baserad på fri programvara.

Att kalla programvara för fri betyder inte att programvaran inte är
upphovsrättsskyddad och det betyder inte att installationsmedia som innehåller
den programvaran måste distribueras gratis. Fri programvara, i den bemärkelsen
betyder att licenser för individuella program inte kräver att du betalar för
rättigheten att distribuera eller använda de programmen. Fri programvara
betyder också att alla inte bara kan utöka, justera och ändra programvaran men
också att du kan distribuera resultatet av sådant arbete.

Notera

Debian-projektet gör som ett praktiskt tillmötesgående mot sina användare vissa
paket med programvara tillgängliga, vilka inte uppfyller våra kriterier för att
vara fria. Dessa paket är dock inte en del av den officiella utgåvan och är
bara tillgängliga från områdena contrib eller non-free av Debian-speglarna
eller på tredjeparts cd/dvd-skivor, se Debian GNU/Linux FAQ under "Debians
FTP-arkiv" för mer information om utseendet och innehåller av arkiven.

Många av programmen i system är licensierade under GNU General Public License
och refereras ofta till som "GPL". GPL kräver att du gör källkoden av
programmen tillgängliga när du distribuerar en binär kopia av programmet; det
villkoret av licensen ser till att alla användare har möjligheten att modifiera
programvaran. På grund av det här villkoret är källkoden^[1] för alla sådana
program är tillgänglig i Debian-systemet.

Det finns ytterligare flera olika copyrightvillkor och programvarulicenser som
används av programmen i Debian. Du kan hitta information om copyright och
licenser för varje installerat paket på ditt system genom att se i filen /usr/
share/doc/paketnamn/copyright .

För mer information om licenser och hur Debian fastställer om programvaran är
tillräckligt fri för att inkluderas i huvudutgåvan, se Debians riktlinjer för
fri programvara.

Den mest viktiga juridiska informationen är att den här programvaran kommer 
utan garanti. Programmerarna som har skapat denna programvara har gjort det som
förmån för gemenskapen. Ingen garanti lämnas för anpassningen av programvaran
för vilket ändamål som helst. Dock, eftersom programvaran är fri, är du
berättigad att modifiera så programvaran passar dina behov -- och att njuta av
fördelarna av de ändringar gjorda av andra som har utökat programvaran på det
här sättet.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[1] För information om hur man hittar, packar upp och bygger binärer från
Debians källkodspaket, se Debian GNU/Linux FAQ under "Grunder för Debians
pakethanteringssystem".

Kapitel 2. Systemkrav

Innehållsförteckning

2.1. Maskinvara som stöds
    2.1.1. Arkitekturer som stöds
    2.1.2. CPU-stöd
    2.1.3. Bärbara datorer
    2.1.4. Flera processorer
    2.1.5. Stöd för grafikhårdvara
    2.1.6. Maskinvara för anslutning till nätverk
    2.1.7. Punktskriftsskärmar
    2.1.8. Talsyntes (maskinvara)
    2.1.9. Kringutrustning och annan maskinvara
2.2. Enheter som kräver fast programvara
2.3. Köpa maskinvara specifikt för GNU/Linux
    2.3.1. Undvik proprietär eller sluten maskinvara
2.4. Installationsmedia
    2.4.1. Cd-rom/Dvd-rom/Bd-rom
    2.4.2. USB-minne
    2.4.3. Nätverk
    2.4.4. Hårddisk
    2.4.5. Un*x eller GNU-system
    2.4.6. Lagringssystem som stöds
2.5. Krav för minne och diskplats

Det här avsnittet innehåller information om vilken maskinvara du behöver för
att börja med Debian. Du kommer också att hitta länkar till ytterligare
information om vilken maskinvara som stöds av GNU och Linux.

2.1. Maskinvara som stöds

Debian ställer inga maskinvarukrav utöver kraven ställda för Linux kärnan och
GNU:s verktyg. Därför kan alla arkitekturer eller plattformar till vilka
Linuxkärnan, libc, gcc och så vidare, blivit porterade, och för vilken en
portering till Debian finns, köra Debian. Referera till ports-sidorna på https:
//www.debian.org/ports/amd64/ för mera detaljer om 64-bit PC-arkitektursystem
som har blivit testade med Debian GNU/Linux.

Hellre än att försöka att beskriva alla de olika maskinvarukonfigurationerna
som finns stöd för i 64-bit PC innehåller det här avsnittet allmän information
och pekar till källor för ytterligare information.

2.1.1. Arkitekturer som stöds

Debian GNU/Linux 13 har stöd för 6 större arkitekturer och ett flertal
variationer av varje arkitektur kända som "varianter".

┌───────────────────────┬─────────────────┬──────────────────────────┬────────┐
│      Arkitektur       │Debian-beteckning│     Underarkitektur      │Variant │
├───────────────────────┼─────────────────┼──────────────────────────┼────────┤
│AMD64 & Intel 64       │amd64            │                          │        │
├───────────────────────┼─────────────────┼──────────────────────────┼────────┤
│ARM med hårdvara FPU   │armhf            │multiplatform             │armmp   │
├───────────────────────┼─────────────────┼──────────────────────────┼────────┤
│64bit ARM              │arm64            │                          │        │
├───────────────────────┼─────────────────┼──────────────────────────┼────────┤
│Power Systems          │ppc64el          │IBM POWER8 eller nyare    │        │
│                       │                 │maskiner                  │        │
├───────────────────────┼─────────────────┼──────────────────────────┼────────┤
│64bit RISC-V           │riscv64          │                          │        │
│(little-endian)        │                 │                          │        │
├───────────────────────┼─────────────────┼──────────────────────────┼────────┤
│64bit IBM S/390        │s390x            │IPL från VM-läsare och    │generisk│
│                       │                 │DASD                      │        │
└───────────────────────┴─────────────────┴──────────────────────────┴────────┘

Det här dokumentet täcker in installationen för 64-bit PC--arkitekturen med 
Linux-kärnan. Om du letar efter information om någon av de andra arkitekturerna
som Debian stöder kan du se på sidorna för Debian-porteringar.

2.1.2. CPU-stöd

Både AMD64 och Intel 64-processorer stöds.

2.1.3. Bärbara datorer

Ur teknisk synvinkel är bärbara datorer vanliga datorer, så all information om
PC-system gäller även för bärbara datorer. Installationer på bärbara datorer
fungerar numera vanligtvis direkt, inklusive saker som att automatiskt stänga
av systemet när du stänger locket och specifika hårdvaruknappar för bärbar
dator som de för att inaktivera wifi-gränssnitten ("flygplansläge"). Icke desto
mindre använder hårdvaruleverantörerna ibland specialiserad eller proprietär
hårdvara för vissa bärbara datorspecifika funktioner som kanske inte stöds. För
att se om just din bärbara dator fungerar bra med GNU/Linux, se till exempel
Linux Laptop-sidorna.

2.1.4. Flera processorer

Stöd för flera processorer -- även kallad "symmetrisk multiprocessing" eller
SMP -- är tillgänglig för denna arkitektur. Standard Debian 13 kärnavbildningen
har kompilerats med stöd för SMP-alternativ. Detta innebär att kärnan kommer
att upptäcka antalet processorer (eller processorkärnor) och automatiskt
inaktivera SMP på en processorsystem.

Att ha flera processorer i en dator var ursprungligen bara ett problem för
avancerade serversystem men har blivit vanligt på senare år nästan överallt med
introduktionen av så kallade "fler kärniga"-processorer. Dessa innehåller två
eller flera processorenheter, kallade "kärnor", i ett fysiskt chip.

2.1.5. Stöd för grafikhårdvara

Debians stöd för grafiska gränssnitt bestäms av det underliggande stödet som
finns i X.Orgs X11-system och kärnan. Grundläggande framebuffer-grafik
tillhandahålls av kärnan, medan skrivbordsmiljöer använder X11. Huruvida
avancerade grafikkortsfunktioner som 3D-hårdvaruacceleration eller
hårdvaruaccelererad video är tillgängliga beror på den faktiska grafikhårdvaran
som används i systemet och i vissa fall på installationen av ytterligare
blobbar för "fast programvara" (se Avsnitt 2.2, "Enheter som kräver fast
programvara").

På moderna datorer fungerar det oftast direkt att ha en grafisk skärm. För
ganska mycket hårdvara fungerar 3D-acceleration också bra direkt, men det finns
fortfarande en del hårdvara som behöver binära blobbar för fast programvara för
att fungera bra. I vissa fall har det förekommit rapporter om hårdvara där
installation av ytterligare grafikkorts fastprogramvara krävdes även för
grundläggande grafikstöd.

Detaljer om grafikhårdvaraoch pekenheter kan hittas på https://
wiki.freedesktop.org/xorg/. Debian 13 skickar med X.Org version 7.7.

2.1.6. Maskinvara för anslutning till nätverk

Nästan alla nätverkskort (NIC) som stöds av Linux-kärnan stöds även av
installationssystemet; modulära drivrutiner ska vanligtvis läsas in
automatiskt. Det här inkluderat de flesta PCI/PCI-Express-kort samt PCMCIA /
Express-kort på bärbara datorer

ISDN stöds men inte under installationen.

2.1.6.1. Trådlösa nätverkskort

Trådlösa nätverk stöds i allmänhet också och ett växande antal av trådlösa
nätverkskort stöds av den officiella Linux-kärnan, även om många av dem kräver
att fast programvara läses in.

Om fast programvara krävs så kommer installationsprogrammet att fråga dig om
att läsa in den fasta programvaran. Se Avsnitt 6.4, "Läsa in saknad fast
programvara" för ytterligare information om hur man läser in fast programvara
under installationen.

Trådlösa nätverkskort som inte stöds av den officiella Linux-kärnan går i
allmänhet att få igång under Debian GNU/Linux men de stöds inte under
installationen.

Om det uppstår ett problem med det trådlösa och det inte finns något annat
nätverkskort som du kan använda under installationen så är det fortfarande
möjligt att installera Debian GNU/Linux med en komplett DVD-avbildning. Välj
alternativet att inte konfigurera ett nätverk och installera endast de paket
som finns tillgängliga på DVD-skivan. Du kan sedan installera drivrutinen och
den fasta programvara som du behöver efter att installationen är färdigställd
(efter omstarten) och konfigurera ditt nätverk manuellt.

I vissa fall finns drivrutinen du behöver inte tillgänglig som ett
Debian-paket. Du kommer då att behöva leta om det finns källkod tillgänglig på
Internet och själv bygga drivrutinen. Hur man gör det här är utanför omfånget
för den här handboken. Om ingen Linux-drivrutin finns tillgänglig, är din sista
utväg att använda paketet ndiswrapper, vilket tillåter att du använder en
drivrutin från Windows.

2.1.7. Punktskriftsskärmar

Stöd för punktskriftsskärmar bestäms av det underliggande stödet som finns i
brltty. De flesta skärmar fungerar under brltty, anslutna via antingen en
serieport, USB eller Bluetooth. Information om vilka punktskriftsenheter som
stöds kan hittas på webbplatsen för brltty. Debian GNU/Linux 13 levereras med
brltty version 6.7.

2.1.8. Talsyntes (maskinvara)

Stöd för talsyntes (maskinvara) bestäms av det underliggande stödet som finns i
speakup. speakup har endast stöd för integrerade kort och external enheter
anslutnas till en serieport (inga USB-, serie-till-USB- eller PCI-adaptrar
stöds). Information om stöd för talsyntesenheter (maskinvara) kan hittas på
webbplatsen för speakup. Debian GNU/Linux 13 levereras med speakup version
3.1.6.

2.1.9. Kringutrustning och annan maskinvara

Linux har stöd för ett stort antal maskinvaruenheter såsom möss, skrivare,
skannrar, PCMCIA/CardBus/ExpressCard och USB-enheter. Dock krävs inte de flesta
av dessa enheter vid installation av systemet.

USB-hårdvara fungerar i allmänhet bra. På vissa mycket gamla PC-system kan
vissa USB-tangentbord kräva ytterligare konfiguration (se Avsnitt 3.6.6,
"Maskinvaruproblem att se upp för"). På moderna datorer fungerar
USB-tangentbord och möss utan att det krävs någon specifik konfiguration.

2.2. Enheter som kräver fast programvara

Förutom tillgången till en enhetsdrivrutin, kräver viss hårdvara också att så
kallad fast programvara eller mikrokod laddas in i enheten innan den kan tas i
bruk. Detta är vanligast för nätverkskort (särskilt trådlösa NIC), men till
exempel vissa USB-enheter och även vissa hårddiskkontroller kräver också fast
programvara.

Med många grafikkort är grundläggande funktionalitet tillgänglig utan extra
fast programvara, men användningen av avancerade funktioner kräver att en
lämplig fastprogramvaru-fil installeras i systemet.

På många äldre enheter som kräver firmware för att fungera, placerades
fastprogramvarufilen permanent i ett EEPROM/Flash-chipp på själva enheten av
tillverkaren. Nuförtiden har de flesta nya enheter inte den fasta programvaran
inbäddad på detta sätt längre, så fastprogramvarufilen måste laddas upp till
enheten av värdoperativsystemet varje gång systemet startar.

I de flesta fall så är den fasta programvaran icke-fri enligt de kriteria som
används av Debian GNU/Linux-projektet och kan därför inte inkluderas i
huvuddistributionen. Om själva enhetsdrivrutinen är inkluderad i distributionen
och om Debian GNU/Linux juridiskt sett kan distribuera den fasta programvaran
så finns den ofta tillgänglig som ett separat paket från non-free-firmware
sektionen i arkivet före Debian GNU/Linux 12.0: från non-free sektionen).

Detta betyder dock inte att sådan hårdvara inte kan användas under
installationen. Från starten av Debian GNU/Linux 12.0, efter 2022 allmän
resolution om icke-fri fastprogramvara, kan officiella installationsavbilder
innehålla icke-fria fastprogramvaru-paket. Som standard är debian-installer
kommer att upptäcka nödvändig fast programvara (baserat på kärnloggar och
modaliasinformation), och installera relevanta paket om de finns på ett
installationsmedium (t.ex. på netinst). Pakethanteraren konfigureras
automatiskt med de matchande komponenterna så att dessa paket får
säkerhetsuppdateringar. Detta innebär vanligtvis att den icke-fria
fastprogramvaru-komponenten aktiveras, och även så main.

Användare som önskar att inaktivera sökning av fastprogramvara kan helt och
hållet göra det genom att ställa in startparametern firmware=never. Det är ett
alias för den längre hw-detect/firmware-lookup=never-formen.

Såvida inte uppslagning av fastprogramvara är inaktiverat helt,
debian-installer stöder fortfarande inläsning av fastprogramvaru-filer eller
paket som innehåller fastprogramvara från ett flyttbart medium, till exempel
ett USB-minne. Se Avsnitt 6.4, "Läsa in saknad fast programvara" för detaljerad
information om hur man laddar fastprogramvarufiler eller paket under
installationen. Observera att debian-installer är mindre sannolikt att fråga
efter fastprogramvaru-filer nu när icke-fria fastprogramvaru-paket kan
inkluderas på installationsavbilder.

Om debian-installer frågar efter en fastprogramvaru-fil och du inte har denna
fastprogramvaru-fil tillgänglig eller inte vill installera en icke-fri
fastprogramvaru-fil på ditt system, kan du försöka fortsätta utan att ladda den
fasta programvaran. Det finns flera fall där en drivrutin ber om ytterligare
fast programvara eftersom den kan behövas under vissa omständigheter, men
enheten fungerar utan den på de flesta system (detta händer t.ex. med vissa
nätverkskort som använder tg3-drivrutinen).

2.3. Köpa maskinvara specifikt för GNU/Linux

Det finns ett flertal tillverkare som levererar system med Debian eller andra
distributioner av GNU/Linux förinstallerat. Du kan betala mer för privilegiet
men det ger en känsla av trygghet eftersom du kan vara säker på att maskinvaran
har bra stöd av GNU/Linux.

Om du måste köpa en maskin paketerad med Windows, läs noga igenom
programvarulicensen som kommer med Windows; du kan ha möjligheten att vägra
licensen och hämta ut en återbetalning från din försäljare. Sök på Internet
efter "windows refund" och du kan hitta användbar information för det här
ändamålet.

Oavsett om du köper ett system paketerat med Linux eller inte, eller kanske
till och med ett begagnat system, är det fortfarande viktigt att kontrollera
att din maskinvara stöds av Linux-kärnan. Kontrollera om din maskinvara finns
listad i referenserna som hittas ovan. Låt din försäljare (om någon) veta att
du vill köpa ett system för Linux. Stöd de maskinvarutillverkare som är
Linux-vänliga.

2.3.1. Undvik proprietär eller sluten maskinvara

Vissa hårdvarutillverkare kommer helt enkelt inte att berätta för oss hur man
skriver drivrutiner för sin hårdvara. Andra kommer inte att ge oss tillgång
till dokumentationen utan ett sekretessavtal som skulle hindra oss från att
släppa drivrutinens källkod, som är en av de centrala delarna av fri
programvara. Eftersom vi inte har beviljats åtkomst till användbar
dokumentation på dessa enheter, kommer de helt enkelt inte att fungera under
Linux.

I många fall finns det standarder (eller åtminstone några de-facto-standarder)
som beskriver hur ett operativsystem och dess drivrutiner kommunicerar med en
viss klass av enheter. Alla enheter som uppfyller en sådan (de facto-) standard
kan användas med en enda generisk enhetsdrivrutin och inga enhetsspecifika
drivrutiner krävs. Med vissa typer av hårdvara (t.ex. USB "Human Interface
Devices", t.ex. tangentbord, möss, etc., och USB-masslagringsenheter som
USB-flashdiskar och minneskortläsare) fungerar detta mycket bra och praktiskt
taget alla enheter som säljs på marknaden är standard kompatibla.

Inom andra områden, bland dem t.ex. skrivare är detta tyvärr inte fallet. Även
om det finns många skrivare som kan adresseras via en liten uppsättning (de
facto-) standardkontrollspråk och därför kan fås att fungera utan problem i
vilket operativsystem som helst, finns det en hel del modeller som bara förstår
proprietära kontrollkommandon och inte har någon användbar dokumentation är
tillgänglig och därför antingen inte kan användas alls på fria operativsystem
eller bara kan användas med en drivrutin med sluten källkod från leverantören.

Även om det finns en drivrutin med stängd källkod från leverantören för sådan
hårdvara när du köper enheten, begränsas enhetens praktiska livslängd av
drivrutinens tillgänglighet. Nuförtiden har produktcyklerna blivit korta och
det är inte ovanligt att en kort tid efter att en konsumentenhet har upphört
att tillverka, görs inga drivrutinsuppdateringar längre tillgängliga av
tillverkaren. Om den gamla drivrutinen med stängd källkod inte fungerar längre
efter en systemuppdatering, blir en i övrigt perfekt fungerande enhet
oanvändbar på grund av bristande drivrutinsstöd och det finns inget som kan
göras i detta fall. Du bör därför undvika att köpa stängd hårdvara i första
hand, oavsett vilket operativsystem du vill använda den med.

Du kan hjälpa till att förbättra denna situation genom att uppmuntra
tillverkare av sluten hårdvara att släppa dokumentationen och andra resurser
som är nödvändiga för att vi ska kunna tillhandahålla fria drivrutiner för
deras hårdvara.

2.4. Installationsmedia

Det här avsnittet hjälper dig att fastställa vilka olika medietyper som du kan
använda för att installera Debian. Det finns ett helt kapitel tillägnat media,
Kapitel 4, Få tag på installationsmedia, som listar fördelar och nackdelar med
varje typ av media. Du kanske vill referera tillbaka till den här sidan när du
har nått fram till det avsnittet.

2.4.1. Cd-rom/Dvd-rom/Bd-rom

Installation från optisk skiva stöds för de flesta arkitekturer.

På datorer stöds optiska SATA-, IDE / ATAPI-, USB- och SCSI-enheter, liksom
FireWire-enheter som stöds av drivrutinerna ohci1394 och sbp2.

2.4.2. USB-minne

USB-flashdiskar a.k.a. USB-minnen har blivit en allmänt använd och billig
lagringsenhet. De flesta moderna datorsystem tillåter också uppstart av
debian-installer från en sådan pinne. Många moderna datorsystem, i synnerhet
netbooks och tunna bärbara datorer, har inte en optisk enhet alls längre och
att starta upp från USB-media är standardsättet för att installera ett nytt
operativsystem på dem.

2.4.3. Nätverk

Nätverket kan användas under installationen för att hämta filer som behövs för
installationen. Huruvida nätverket används eller inte beror på
installationsmetoden du valde samt dina svar på vissa frågor som kommer att
ställas under installationen. Installationssystemet har stöd för de flesta
typer av nätverksanslutningar (inkluderat PPPoE, men inte ISDN eller PPP),
antingen via HTTP eller FTP. Efter att installationen är färdig, kan du även
konfigurera ditt system att använda ISDN och PPP.

Du kan också starta upp installationssystemet över nätverket utan att behöva
några lokala medier som CD/DVD eller USB-minnen. Om du redan har en
nätverksuppstarts-infrastruktur tillgänglig (dvs. du kör redan DHCP- och
TFTP-tjänster i ditt nätverk) möjliggör detta en enkel och snabb driftsättning
av ett stort antal maskiner. Att installera den nödvändiga infrastrukturen
kräver en viss nivå av teknisk erfarenhet, så detta rekommenderas inte för
nybörjare.

Disklös installation med nätverksuppstart från ett lokalt nätverk och
nfs-montering av alla lokala filsystem är ett annat alternativ.

2.4.4. Hårddisk

Starta upp installationssystemet direkt från en hårddisk är en annan möjlighet
för många arkitekturer. Det här kräver ett annat operativsystem för att läsa in
installationsprogrammet på hårddisken. Denna metod rekommenderas endast i
speciella fall när ingen annan installationsmetod är tillgänglig.

2.4.5. Un*x eller GNU-system

Om du kör ett annat Unix-liknande system skulle du kunna använda det för att
installera Debian GNU/Linux utan att använda debian-installer som beskrivs i
resten av den här handboken. Den här typen av installation kan vara användbar
för användare med maskinvara som annars inte stöds eller på datorer som inte
kan vara frånkopplade. Om du är intresserad av den här tekniken, hoppa till
Avsnitt D.3, "Installera Debian GNU/Linux från ett Unix/Linux-system". Denna
installationsmetod rekommenderas endast för avancerade användare om ingen annan
installationsmetod är tillgänglig.

2.4.6. Lagringssystem som stöds

Debian installationsprogrammet innehåller en kärna som är byggd för att
maximera antalet system den kan köras på.

Generellt sett inkluderar Debians installationssystem stöd för IDE-diskar (även
känd som PATA), SATA och SCSI-styrkort samt diskar, USB och FireWire.
Filsystemen som stöds inkluderar FAT, Win-32 FAT-utökningar (VFAT) och NTFS.

IDE system stöds också.

2.5. Krav för minne och diskplats

Vi rekommenderar åtminstone 512MB av minne och 4GB hårddiskutrymme för att
utföra en installation. För mer detaljerade värden, se Avsnitt 3.4, "Matcha
minimikrav för maskinvara".

Kapitel 3. Före installation av Debian GNU/Linux

Innehållsförteckning

3.1. Översikt av installationsprocessen
3.2. Säkerhetskopiera dina befintliga data!
3.3. Information du behöver
    3.3.1. Dokumentation
    3.3.2. Hitta informationskällor för maskinvara
    3.3.3. Maskinvarukompatibilitet
    3.3.4. Nätverksinställningar
3.4. Matcha minimikrav för maskinvara
3.5. Förpartionering för system med flera operativsystem
3.6. Inställning av maskinvara och operativsystem före installation
    3.6.1. Starta BIOS/UEFI-inställningsmenyn
    3.6.2. Val av uppstartsenhet
    3.6.3. System med UEFI firmware
    3.6.4. Säker uppstart
    3.6.5. Inaktivera Windows "snabbuppstart"/"snabbstart" funktion
    3.6.6. Maskinvaruproblem att se upp för

Det här kapitlet går igenom förberedelser för installation av Debian innan du
ens startar upp installationsprogrammet. Det inkluderar säkerhetskopiering av
ditt data, insamling av information om din maskinvara och att hitta all
nödvändig information.

3.1. Översikt av installationsprocessen

Först, bara som en notering angående ominstallationer. Med Debian är
omständigheter som kräver en total ominstallation av ditt system mycket
ovanliga; kanske är mekaniska fel på hårddisken vanligaste orsaken.

Många vanliga operativsystem kan kräva att en total installation genomförs när
kritiska fel inträffar eller för uppgraderingar till nyare versioner av
operativsystemet. Även om en total nyinstallation inte krävs måste ofta program
du använder installeras om för att fungera korrekt i det nya operativsystemet.

Med Debian GNU/Linux är det troligt att ditt operativsystem kan lagas istället
för att bytas ut om saker går fel. Uppgraderingar kräver aldrig en total
fullständig installation; du kan alltid uppgradera direkt. Program är nästan
alltid kompatibla med tidigare utgåvor av operativsystemet. Om en ny
programversion kräver nyare hjälpprogramvara kommer Debians paketsystem att se
till att all nödvändig programvara automatiskt identifieras och installeras.
Mycket arbete har lagts på att ominstallationer inte ska behövas, så utgå
därför ifrån att det är din absolut sista utväg. Installationsprogrammet är 
inte designad för att ominstallera ett befintligt system.

Här är en översikt av de steg du kommer att ta under installationsprocessen.

 1. Säkerhetskopiera befintliga data eller dokument från hårddisken där du
    planerar att installera.

 2. Samla information om din dator och annan behövlig dokumentation innan du
    startar installationen.

 3. Skaffa installeringsprogramvaran och eventuella specialdrivrutiner eller
    firmware som din maskin kräver.

 4. Ställ in startmedia som CD-skivor/DVD-skivor/USB-minnen eller ge en
    nätverksstartinfrastruktur från vilken installationsprogrammet kan startas.

 5. Starta upp installationssystemet.

 6. Välj installationsspråket.

 7. Aktivera anslutning mot Ethernet-nätverket, om tillgängligt.

 8. Om det behövs ändrar du storlek på befintliga partitioner på din hårddisk
    för att skapa utrymme för installationen.

 9. Skapa och montera partitioner på vilka Debian kommer att installeras.

10. Se den automatiska hämtningen, installeringen och konfigureringen av
    grundsystemet.

11. Välj och installera ytterligare programvara.

12. Installera en starthanterare som kan starta upp Debian GNU/Linux eller dina
    andra operativsystem.

13. Starta det nyligen installerade systemet för första gången.

För 64-bit PC har du möjligheten att använda en grafisk version av
installationssystemet. För mer information om det grafiska
installationsprogrammet, se Avsnitt 5.1.6, "Det grafiska
installationsprogrammet".

Om du får problem under installationen hjälper det att veta vilka paket som
ingår i varje steg. Här är de ledande programvaruskådisarna i det här
installationsdramat:

Installeringsprogramvaran, debian-installer, är det primära målet för den här
handboken. Den identifierar maskinvara och läser in lämpliga drivrutiner,
använder dhcp-client för att ställa in nätverksanslutningen, och kör
debootstrap för att installera paketen för grundsystemet och kör tasksel för
att låta dig installera ytterligare programvara. Många fler skådespelare spelar
mindre roller i den här processen, men debian-installer har gjort klart sin
funktion när du startar upp det nya systemet för första gången.

För att anpassa systemet för att passa dina behov, låter tasksel dig välja att
installera olika fördefinierade samlingar av programvara såsom en webbserver
eller en skrivbordsmiljö.

Ett viktigt alternativ under installationen är huruvida en grafisk
skrivbordsmiljö ska installeras eller inte, innehållandes X Window System och
en av de tillgängliga grafiska skrivbordsmiljöerna. Om du väljer att inte
markera funktionen "Skrivbordsmiljö", kommer du att få ett relativt
grundläggande, kommandoradsdrivet system. Installering av funktionen
Skrivbordsmiljö är valfri därför att i relation till ett text-baserat-endast
system så kräver det en relativt stor mängd diskutrymme, och för att många
Debian GNU/Linux-system är servrar som egentligen inte har något behov för ett
grafiskt användargränssnitt för att göra sitt jobb.

Tänk dock på att X Window System är fullständigt separerat från
debian-installer, och är dessutom mycket mer komplicerat. Felsökning av X
Window System täcks inte in av den här handboken.

3.2. Säkerhetskopiera dina befintliga data!

Innan du börjar, se till att säkerhetskopiera alla filer som nu finns på ditt
system. Om detta är första gången ett icke-inbyggt operativsystem kommer att
installeras på din dator, är det ganska troligt att du kommer att behöva
partitionera om din disk för att göra plats åt Debian GNU/Linux. Varje gång du
partitionerar din disk riskerar du att förlora allt på disken, oavsett vilket
program du använder för att göra det. Programmen som används i installationen
av Debian GNU/Linux är ganska pålitliga och de flesta har använts i flera år;
men de är också ganska kraftfulla och ett falskt drag kan kosta dig. Även efter
säkerhetskopiering, var försiktig och fundera över dina svar och åtgärder. Två
minuters tänkande kan spara timmar av onödigt arbete.

Om du skapar ett system med flera uppstartsval, se till att du har
installationsmedia för de andra operativsystemen till hands. Även om detta
normalt inte är nödvändigt, kan det finnas situationer där du kan behöva
installera om operativsystemets starthanterare för att få systemet att starta
upp eller i värsta fall till och med behöva installera om hela operativsystemet
och återställa din tidigare säkerhetskopia.

3.3. Information du behöver

3.3.1. Dokumentation

3.3.1.1. Installationshandbok

Det här dokumentet du nu läser, finns i ren ASCII, HTML eller PDF-format.

  • install.sv.txt

  • install.sv.html

  • install.sv.pdf

3.3.1.2. Maskinvarudokumentation

Innehåller ofta användbar information om hur du konfigurerar eller använder din
maskinvara.

  • Debians Wiki-hårdvarusida

3.3.2. Hitta informationskällor för maskinvara

I många fall kan installationsprogrammet automatiskt identifiera din
maskinvara. Men för att vara förberedd rekommenderar vi att du gör dig
hemmastadd med din maskinvara före installationen.

Maskinvaruinformation kan samlas in från:

  • Handböckerna som kommer med varje maskinvarudel.

  • BIOS/UEFI-inställningsskärmarna på din dator. Du kan se dessa skärmar när
    du startar din dator genom att trycka på en kombination av tangenter.
    Kontrollera din manual för kombinationen. Ofta är det tangenten Delete
    eller F2, men vissa tillverkare använder andra tangenter eller
    tangentkombinationer. Vanligtvis när du startar datorn kommer det att
    finnas ett meddelande som anger vilken tangent du ska trycka på för att
    komma till inställningsskärmen.

  • Förpackningarna och lådorna för varje del av maskinvaran.

  • Systemfönstret i Windows kontrollpanel.

  • Systemkommandon eller verktyg i ett annat operativsystem, inklusive
    filhanterarskärmar. Den här källan är speciellt användbar för information
    om RAM-minne och hårddisksutrymme.

  • Din systemadministratör eller Internetleverantör. De här källorna kan
    informera dig om de inställningar du behöver för att ställa in din
    nätverksanslutning och e-post.

Tabell 3.1. Maskinvaruinformation som som kan vara hjälpfulla för en
installation

┌──────────────────┬─────────────────────────────────────────────────────┐
│    Maskinvara    │              Information du kan behöva              │
├──────────────────┼─────────────────────────────────────────────────────┤
│                  │Hur många du har.                                    │
│                  ├─────────────────────────────────────────────────────┤
│                  │Deras ordning i systemet.                            │
│                  ├─────────────────────────────────────────────────────┤
│                  │Om IDE (även känd som PATA), SATA eller SCSI används.│
│Hårddiskar        ├─────────────────────────────────────────────────────┤
│                  │Tillgängligt ledigt utrymme.                         │
│                  ├─────────────────────────────────────────────────────┤
│                  │Partitioner.                                         │
│                  ├─────────────────────────────────────────────────────┤
│                  │Partitioner där andra operativsystem är installerade.│
├──────────────────┼─────────────────────────────────────────────────────┤
│Nätverksinterfaces│Typ/model av tillgängliga nätverkssgränssnitt.       │
├──────────────────┼─────────────────────────────────────────────────────┤
│Skrivare          │Modell och tillverkare.                              │
├──────────────────┼─────────────────────────────────────────────────────┤
│Grafikkort        │Typ/modell och tillverkare.                          │
└──────────────────┴─────────────────────────────────────────────────────┘


3.3.3. Maskinvarukompatibilitet

Många produkter fungerar utan problem på Linux. Mängden maskinvara som stöds av
Linux ökar dagligen. Dock kan Linux fortfarande inte köra lika många olika
typer av maskinvara som en del andra operativsystem.

Drivrutiner i Linux är i de flesta fall inte skrivna för en viss "produkt"
eller ett visst "varumärke" från en specifik tillverkare, utan för en viss
hårdvara/chipset. Många till synes olika produkter/märken är baserade på samma
hårdvarudesign; det är inte ovanligt att chiptillverkare tillhandahåller så
kallade "referensdesigner" för produkter baserade på deras chipp som sedan
används av flera olika enhetstillverkare och säljs under massor av olika
produkt eller varumärkesnamn.

Detta har fördelar och nackdelar. En fördel är att en drivrutin för ett chipset
fungerar med massor av olika produkter från olika tillverkare, så länge deras
produkt är baserad på samma chipset. Nackdelen är att det inte alltid är lätt
att se vilket faktisk chipset som används i en viss produkt/märke. Tyvärr
ändrar ibland enhetstillverkare hårdvarubasen för sin produkt utan att ändra
produktnamnet eller åtminstone produktens versionsnummer, så att när två
stycken hårdvaror av samma märke/produktnamn köps vid olika tidpunkter, kan de
ibland baseras på två olika chipset och använder därför två olika drivrutiner
eller så finns det kanske ingen drivrutin alls för en av dem.

För USB och PCI/PCI-Express/ExpressCard-enheter, så är ett bra sätt att ta reda
på vilken chipset de är baserade på är att titta på deras enhets-ID. Alla USB/
PCI/PCI-Express/ExpressCard-enheter har ett så kallat "leverantörs" och "
produkt" IDs, och kombinationen av dessa två är vanligtvis densamma för alla
produkter baserade på samma chipset.

På Linux system, så kan dessa IDn läsas med lsusb kommandot för USB enheter och
med lspci -nn kommandot för PCI/PCI-Express/ExpressCard enheter. Dessa
leverantörs och produkt IDn är oftast angivna i form av två hexadecimala tal,
separerade med ett kolon, som t.ex "1d6b:0001".

Ett exempel för utdata från lsusb: "Bus 001 Device 001: ID 1d6b:0002 Linux
Foundation 2.0 root hub", varvid 1d6b är leverantörs-ID och 0002 är produkt-ID.

Ett exempel för utdata från lspci -nn för ett Ethernetkort: "03:00.0 Ethernet
controller [0200]: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express
Gigabit Ethernet controller [10ec:8168] (rev 06)". ID:erna ges inom de högra
hakparenteserna, dvs här är 10ec leverantören och 8168 är produkt-ID:t.

Som ett annat exempel kan ett grafikkort ge följande utdata: "04:00.0 VGA
compatible controller [0300]: Advanced Micro Devices [AMD] nee ATI RV710
[Radeon HD 4350] [1002:954f]".

På Windows system, så finns ID:n för en enhet i Windows enhetshanteraren på
fliken "detaljer", där leverantörs-ID har prefixet VEN_ och produkt-ID har
prefixet DEV_. På nyare Windows-system måste du välja egenskaper "Hårdvaru-ID:n
" i enhetshanterarens informationsflik för att faktiskt se ID:n, eftersom de
inte visas som standard.

Att söka på internet med leverantör/produkt-ID, "Linux" och "drivrutin" som
söktermer resulterar ofta i information om drivrutinsstödstatus för ett visst
chipset. Om en sökning efter leverantör/produkt-ID inte ger användbara
resultat, så kan en sökning efter chippetskodnamn, som också ofta
tillhandahålls av lsusb och lspci ("RTL8111"/"RTL8168B" i nätverkskortsexemplet
och "RV710" i grafikkortsexemplet), kan hjälpa.

3.3.3.1. Testa hårdvarukompatibilitet med ett Live-System

Debian GNU/Linux finns även tillgängligt som ett så kallat "live-system" för
vissa arkitekturer. Ett livesystem är ett förkonfigurerat system som är färdigt
att använda i ett komprimerat format som kan startas och användas från ett
skrivskyddat medium som en CD eller DVD. Att använda det som standard skapar
inga permanenta ändringar på din dator. Du kan ändra användarinställningar och
installera ytterligare program inifrån livesystemet, men allt detta händer bara
i datorns RAM, d.v.s. om du stänger av datorn och startar upp livesystemet
igen, återställs allt till sina standardinställningar. Om du vill se om din
hårdvara stöds av Debian GNU/Linux, är det enklaste sättet att köra ett Debian
live system på det och prova det.

Det finns några begränsningar i att använda ett livesystem. Det första är att
eftersom alla ändringar du gör inom livesystemet måste hållas i din dators
RAM-minne, fungerar detta bara på system med tillräckligt med RAM-minne för att
göra det, så installation av ytterligare stora programvarupaket kan misslyckas
på grund av minnesbegränsningar. En annan begränsning när det gäller testning
av hårdvarukompatibilitet är att det officiella Debian GNU/Linux live-systemet
endast innehåller fria komponenter, det vill säga det finns inga icke-fria
filer för fast programvara inkluderade i det. Sådana icke-fria paket kan
naturligtvis installeras manuellt i systemet, men det finns ingen automatisk
detektering av nödvändiga filer för fastprogramvara som i debian-installer, så
installation av icke-fria komponenter måste göras manuellt om det behövs.

Information om tillgängliga varianter av Debian liveavbilder finns kan hittas
på Debian Liveavbilder webbplatsen.

3.3.4. Nätverksinställningar

Om din dator är ansluten till ett fast nätverk (exempelvis en Ethernet eller
motsvarande anslutning -- inte en uppringd/PPP-anslutning) som administreras av
någon annan, bör du be ditt nätverks systemadministratör om denna information:

  • Ditt datornamn (du kanske kan välja det här helt på egen hand).

  • Ditt domännamn.

  • Din dators IP-adress.

  • Nätmasken som används på ditt nätverk.

  • IP-adressen till den gateway som är standardrutten ut från ditt nätverk, om
    ditt nätverk har en gateway.

  • Systemet på ditt nätverk som du ska använda som en DNS-server
    (Domännamnstjänst).

Om nätverket du är ansluten till använder DHCP (Dynamic Host Configuration
Protocol) för att konfigurera nätverksinställningar, behöver du inte denna
information eftersom DHCP-servern kommer att tillhandahålla den direkt till din
dator under installationsprocessen.

Om du har internetåtkomst via DSL eller kabelmodem (dvs. via ett kabel-tv
nätverk) och har en router (som ofta tillhandahålls förkonfigurerad av din
telefon eller catv -leverantör) som hanterar din nätverksanslutning, är DHCP
vanligtvis tillgängligt som standard.

Som en tumregel: om du kör ett Windows-system i ditt hemnätverk och inte
behövde manuellt utföra några nätverksinställningar där för att uppnå
internetåtkomst, kan nätverksanslutning i Debian GNU/Linux också konfigureras
automatiskt.

Om du använder ett WLAN/WiFi nätverk, bör du ta reda på:

  • Ditt ESSID ("network name") för ditt trådlösa nätverk.

  • WEP- och WPA/WPA2säkerhetsnyckel för att ansluta till nätverket (om sådan
    används).

3.4. Matcha minimikrav för maskinvara

När du har samlat in information om maskinvaran i din dator, kontrollera att
din maskinvara låter dig göra den typ av installation som du vill göra.

Beroende på dina behov, kan du klara dig med mindre än vad som rekommenderas av
maskinvaran listad i tabellen nedan. Många användare riskerar dock troligen att
bli frustrerade om de ignorerar de här förslagen.

En Pentium 4 med 1 GHz-processor är minsta rekommenderade datorn för ett
skrivbordssystem.

Tabell 3.2. Rekommenderade minimala systemkrav

┌─────────────────────┬─────────────┬───────────────────┬────────┐
│  Installationstyp   │RAM (minimum)│RAM (rekommenderat)│Hårddisk│
├─────────────────────┼─────────────┼───────────────────┼────────┤
│Ingen skrivbordsmiljö│512MB        │1GB                │4GB     │
├─────────────────────┼─────────────┼───────────────────┼────────┤
│Med skrivbordsmiljö  │1GB          │2GB                │10GB    │
└─────────────────────┴─────────────┴───────────────────┴────────┘


The minimum values assumes that swap will be enabled and a non-live image is
used. The "No desktop" value assumes that the text-based installer (not the
graphical one) is used.

De faktiska minimikraven för minne är mycket mindre än siffrorna som anges i
denna tabell. Med swap aktiverat är det möjligt att installera Debian med så
lite som 350MB. Detsamma gäller för diskutrymmeskraven, speciellt om du väljer
vilka program som ska installeras; se Avsnitt D.2, "Nödvändig diskplats för
funktioner" för ytterligare information om krav på diskutrymme.

Installationsprogrammet aktiverar normalt automatiskt minnesbesparande trick
för att kunna köras på sådana system som har lite minne, men på arkitekturer
som är mindre testade kan den missa att göra det. Det kan dock aktiveras
manuellt genom att lägga till startparametern lowmem=1 eller till och med
lowmem=2 (se även Avsnitt 6.3.1.1, "Kontrollera tillgängligt minne / minimalt
minnesläge" och Avsnitt 5.3.2, "Parametrar för Debian Installer").

Installation på system med mindre minne^[2] eller tillgängligt diskutrymme kan
vara möjligt men rekommenderas endast för erfarna användare.

Det är möjligt att köra en grafisk skrivbordsmiljö på äldre eller mindre
kraftfulla system, men i det fallet rekommenderas det att installera en
fönsterhanterare som är mindre resurshungrig än skrivbordsmiljöerna GNOME eller
KDE Plasma; tänkbara alternativ är xfce4, icewm och wmaker, men det finns även
andra att välja bland.

Det är praktiskt omöjligt att ge allmänna krav för minne eller diskutrymme för
serverinstallationer eftersom det beror mycket på vad servern kommer att
användas till.

Kom ihåg att dessa storlekar inte inkluderar alla de andra material som
vanligtvis hittas på ett system, såsom användarfiler, e-post och data. Det är
alltid bäst att vara generös när du uppskattar utrymmet för dina egna filer och
data.

Diskutrymmet som krävs för oproblematisk körning av själva Debian GNU/
Linux-systemet är inkluderat i dessa rekommenderade systemkrav. Noterbart är
att partitionen /var innehåller en hel del tillståndsinformation som är
specifik för Debian i tillägg till dess vanliga innehåll, som loggfiler.
Filerna för dpkg (med information om alla installerade paket) kan enkelt
konsumera 40 MB. Även apt lägger hämtade paket här innan de installeras. Du bör
vanligtvis allokera åtminstone 200 MB för /var, och en hel del mer om du
installerar en grafisk skrivbordsmiljö.

3.5. Förpartionering för system med flera operativsystem

Partitionering av din disk refererar helt enkelt till processen att dela upp
din disk i sektioner. Varje sektion blir då oberoende av de andra. Det är grovt
sett likvärdigt med att sätta upp väggar inne i ett hus; om du ställer in
möbler i ett rum så påverkar de inte något annat rum.

Om du redan har ett operativsystem på ditt system (Windows, OS/2, MacOS,
Solaris, FreeBSD, ...) som använder hela disken och du vill behålla Debian på
samma disk måste du partitionera om den. Debian kräver sina egna
hårddiskpartitioner. Det kan inte installeras på Windows eller Mac OS
X-partitioner. Det kanske kan dela vissa partitioner med andra Unix-system, men
det täcks inte här. Du kommer åtminstone att behöva en dedikerad partition för
Debian rootfilsystemet.

Du kan hitta information om din aktuella partitionskonfiguration genom att
använda ett partitioneringsverktyg för ditt aktuella operativsystem, såsom den
integrerade diskhanteraren i Windows. Partitioneringsverktyg tillhandahåller
alltid ett sätt att visa befintliga partitioner utan att göra ändringar.

Normalt sett så kommer data och filer i ett filsystem på en partition att
förstöras om partitionen ändras. Därför bör du alltid göra säkerhetskopior
innan du partitionerar om. Om man använder jämförelsen med huset skulle du
antagligen vilja flytta ut alla möbler innan väggarna flyttas då de annars
riskerar att de förstörs.

Flera moderna operativsystem erbjuder möjligheten att flytta och ändra storlek
på vissa befintliga partitioner utan att förstöra deras innehåll. Detta gör det
möjligt att skapa utrymme för ytterligare partitioner utan att förlora
befintlig data. Även om detta fungerar ganska bra i de flesta fall, är att göra
ändringar i partitioneringen av en disk en i sig farlig åtgärd och bör endast
göras efter att ha gjort en fullständig säkerhetskopia av all data. För FAT/
FAT32- och NTFS-partitioner som används av Windows-system tillhandahålls
möjligheten att flytta och ändra storlek på dem förlustfritt både av
debian-installer samt av den integrerade Diskhanteraren i Windows.

För att förlustfritt ändra storlek på en befintlig FAT eller NTFS-partition
inifrån debian-installer, gå till partitioneringssteget, välj alternativet för
manuell partitionering, välj partitionen att ändra storlek på och ange helt
enkelt dess nya storlek.

3.6. Inställning av maskinvara och operativsystem före installation

Det här avsnittet kommer att leda dig genom förinstallation av hårdvara, om du
behöver göra något, innan du installerar Debian. I allmänhet innebär detta att
du kontrollerar och eventuellt ändrar BIOS/UEFI/systems
fastprogramvaruinställningar för ditt system. "BIOS/UEFI" eller "systemets
fastaprogramvara" är kärnmjukvaran som används av hårdvaran; den anropas mest
kritiskt under bootstrap-processen (efter uppstart).

3.6.1. Starta BIOS/UEFI-inställningsmenyn

BIOS/UEFI tillhandahåller de grundläggande funktionerna som behövs för att
starta din maskin och för att ge ditt operativsystem åtkomst till din hårdvara.
Ditt system tillhandahåller en BIOS/UEFI-inställningsmeny, som används för att
konfigurera BIOS/UEFI. För att komma in i BIOS/UEFI-inställningsmenyn måste du
trycka på en tangent eller en tangentkombination efter att du har slagit på
datorn. Ofta är det Delete eller F2-tangenten, men vissa tillverkare använder
andra tangenter. Vanligtvis när du startar datorn kommer det att finnas ett
meddelande som anger vilken tangent du ska trycka på för att komma till
inställningsskärmen.

3.6.2. Val av uppstartsenhet

I BIOS/UEFI-inställningsmenyn kan du välja vilka enheter som ska kontrolleras i
vilken sekvens för ett startbart operativsystem. Möjliga val inkluderar
vanligtvis de interna hårddiskarna, CD/DVD-ROM-enheten och
USB-masslagringsenheter som USB-minnen eller externa USB-hårddiskar. På moderna
system finns det också ofta en möjlighet att aktivera nätverksstart via PXE.

Beroende på installationsmediet (CD/DVD-ROM, USB-minne, nätverksboot) du har
valt bör du aktivera lämpliga startenheter om de inte redan är aktiverade.

De flesta BIOS/UEFI-versioner låter dig ta fram en uppstartsmeny vid
systemstart där du väljer från vilken enhet datorn ska starta för den aktuella
sessionen. Om det här alternativet är tillgängligt visar BIOS/UEFI vanligtvis
ett kort meddelande som "tryck på F12 för uppstartsmenyn" vid systemstart. Den
faktiska tangenten som används för att välja denna meny varierar från system
till system; vanliga tangenter är F12, F11 och F8. Att välja en enhet från den
här menyn ändrar inte standardstartordningen för BIOS/UEFI, d.v.s. du kan
starta en gång från ett USB-minne samtidigt som du har konfigurerat den interna
hårddisken som normal primär startenhet.

Om ditt BIOS/UEFI inte förser dig med en uppstartsmeny för att göra ad-hoc-val
av den aktuella startenheten, måste du ändra dina BIOS/UEFI-inställningar för
att göra enheten från vilken debian-installer ska startas den primära
startenheten.

Tyvärr kan vissa datorer innehålla buggiga BIOS/UEFI-versioner. Att starta
debian-installer från ett USB-minne kanske inte fungerar även om det finns ett
lämpligt alternativ i BIOS/UEFI-inställningsmenyn och minnet är valt som primär
startenhet. På vissa av dessa system är det omöjligt att använda ett USB-minne
som uppstartsmedium; andra kan luras att starta från minnet genom att ändra
enhetstypen i BIOS/UEFI-inställningarna från standard "USB-hårddisk" eller "
USB-minne" till "USB ZIP" eller "USB CDROM". Särskilt om du använder en
isohybrid installationsavbildning på ett USB-minne (se Avsnitt 4.3.1,
"Förbereder ett USB-minne med en hybrid CD/DVD-avbildning"), ändra enhetstypen
till "USB CDROM " hjälper på vissa BIOS som inte startar från ett USB-minne i
USB-hårddiskläge. Du kan behöva konfigurera ditt BIOS/UEFI för att aktivera "
Stöd för äldre USB".

Om du inte kan manipulera BIOS/UEFI för att starta direkt från ett USB-minne
har du fortfarande möjlighet att använda en ISO kopierad till minnet. Starta
debian-installer med Avsnitt 4.4, "Förbereda filer för uppstart med hårddisk"
och efter att ha skannat hårddiskarna efter en ISO-installationsavbild, välj
USB-enheten och välj en installationsavbildning.

3.6.3. System med UEFI firmware

UEFI ("Unified Extensible Firmware Interface") är en ny typ av fast programvara
för system som används på många moderna system och är - bland annat - avsett
att ersätta det klassiska PC-BIOS.

För närvarande har de flesta PC-system som använder UEFI även en så kallad "
Compatibility Support Module" (CSM) i den fasta programvaran, som ger exakt
samma gränssnitt till ett operativsystem som ett klassiskt PC BIOS, så att
programvara skriven för den klassiska PC:n kan BIOS användas oförändrat. Ändå
är UEFI tänkt att en dag helt ersätta det gamla PC BIOS utan att vara helt
bakåtkompatibel och det finns redan många system med UEFI men utan CSM.

På system med UEFI finns det några saker att ta hänsyn till när du installerar
ett operativsystem. Hur den fasta programvaran laddar ett operativsystem
skiljer sig fundamentalt mellan det klassiska BIOS (eller UEFI i CSM-läge) och
inbyggt UEFI. En stor skillnad är hur hårddiskpartitionerna läggs upp på
hårddisken. Medan det klassiska BIOS och UEFI i CSM-läge använder en
DOS-partitionstabell, använder inbyggt UEFI ett annat partitioneringsschema som
kallas "GUID Partition Table" (GPT). På en enda disk kan för alla praktiska
ändamål endast en av de två användas och vid en flerstartsinstallation med
olika operativsystem på en disk måste alla därför använda samma typ av
partitionstabell. Att starta upp från en disk med GPT är endast möjligt i
inbyggt UEFI-läge, men att använda GPT blir allt vanligare i takt med att
hårddiskstorlekarna växer, eftersom den klassiska DOS-partitionstabellen inte
kan adressera diskar som är större än cirka 2 Terabyte medan GPT tillåter
mycket större diskar. Den andra stora skillnaden mellan BIOS (eller UEFI i
CSM-läge) och inbyggt UEFI är platsen där startkoden lagras och i vilket format
den måste vara. Detta innebär att olika starthanterare behövs för varje system.

Det senare blir viktigt när du startar debian-installer på ett UEFI-system med
CSM eftersom debian-installer kontrollerar om det startades på ett BIOS eller
på ett inbyggt UEFI-system och installerar motsvarande starthanterare. Normalt
fungerar detta helt enkelt men det kan vara problem i flerstartsmiljöer. På
vissa UEFI-system med CSM kan standardstartläget för flyttbara enheter skilja
sig från vad som faktiskt används vid uppstart från hårddisken, så när man
startar upp installationsprogrammet från ett USB-minne i ett annat läge än vad
som används vid uppstart av ett annat redan installerat oprativsystem från
hårddisken, kan fel starthanterare vara installerad och systemet kan vara
ostartbart efter avslutad installation. När man väljer uppstartsenhet från en
uppstartsmeny för fast programvara, erbjuder vissa system två separata val för
varje enhet, så att användaren kan välja om uppstart ska ske i CSM eller i
inbyggt UEFI-läge.

3.6.4. Säker uppstart

Ett annat UEFI-relaterat ämne är den så kallade "säker uppstart"-mekanism.
Säker uppstart betyder att en funktion av UEFI-implementeringar som tillåter
den fasta programvaran att endast ladda och exekvera kod som är kryptografiskt
signerad med vissa nycklar och därigenom blockerar all (potentiellt skadlig)
uppstartskod som är osignerad eller signerad med okända nycklar. I praktiken är
den enda nyckel som accepteras som standard på de flesta UEFI-system med säker
uppstart en nyckel från Microsoft som används för att signera Windows
uppstartsladdare. Debian inkluderar en "shim" uppstartshanterare signerad av
Microsoft, som bör fungera korrekt på system med säker uppstart aktiverat.

3.6.5. Inaktivera Windows "snabbuppstart"/"snabbstart" funktion

Windows erbjuder en funktion (kallad "snabbuppstart" i Windows 8, "
snabbuppstart" i Windows 10) för att minska systemuppstartstiden. Tekniskt
sett, när den här funktionen är aktiverad, gör inte Windows en riktig
avstängning och en riktig kallstart efteråt när den beordras att stängas av,
utan gör istället något som liknar en partiell avstängning till disk för att
minska "uppstartstiden". Så länge som Windows är det enda operativsystemet på
maskinen är detta oproblematiskt, men det kan resultera i problem och
dataförlust, när du har ett dubbeluppstart system uppsatt, där ett annat
operativsystem kommer åt samma filsystem som Windows gör. I så fall kan
filsystemets verkliga tillstånd skilja sig från vad Windows tror att det är
efter "uppstarten" och detta kan orsaka korruption av filsystemet vid
ytterligare skrivåtkomster till filsystemet. Därför måste "snabbstart"/"
snabbuppstart"-funktionen avaktiveras i Windows för att undvika korruption av
filsystemet i en dubbeluppstart installation.

Dessutom har Windows Update-mekanismen (ibland) varit känd för att automatiskt
återaktivera denna funktion efter att den tidigare har inaktiverats av
användaren. Vi rekommenderar att du kontrollerar den här inställningen
regelbundet.

Det kan också vara nödvändigt att inaktivera "snabbuppstart" för att ens
tillåta åtkomst till UEFI-inställningarna för att välja att starta upp ett
annat operativsystem eller debian-installer. På vissa UEFI-system kommer den
fasta programvaran att minska "uppstartstiden" genom att inte initiera
tangentbordskontrollern eller USB-hårdvaran; i dessa fall är det nödvändigt att
starta upp i Windows och inaktivera den här funktionen för att tillåta en
ändring av uppstartsordningen.

3.6.6. Maskinvaruproblem att se upp för

USB BIOS-stöd och tangentbord. Om du inte har något PS/2-tangentbord, utan bara
en USB-modell, på vissa mycket gamla datorer kan du behöva aktivera äldre
tangentbordsemulering i din BIOS-inställning för att kunna använda ditt
tangentbord i startladdarmenyn, men detta är inte ett problem för moderna
system. Om ditt tangentbord inte fungerar i uppstartshanterarens meny,
konsultera din moderkortsmanual och leta i BIOS efter alternativ för "Äldre
tangentbordsemulering" eller "USB-tangentbord".


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[2] Installationsavbilder som stöder det grafiska installationsprogrammet
kräver mer minne än avbilder som endast stöder det textbaserade
installationsprogrammet och bör inte användas på system med mindre än 780MB av
minne. Om det finns ett val mellan att starta upp det textbaserade och det
grafiska installationsprogrammet, bör det tidigare väljas på sådana system.

Kapitel 4. Få tag på installationsmedia

Innehållsförteckning

4.1. Officiella Debian GNU/Linux installationsavbildningar
4.2. Hämta filer från Debian-speglar
    4.2.1. Var man får tag på installationsfiler
4.3. Förbereda filer för uppstart med USB-minne
    4.3.1. Förbereder ett USB-minne med en hybrid CD/DVD-avbildning
4.4. Förbereda filer för uppstart med hårddisk
    4.4.1. Starta upp hårddiskinstalleraren från Linux med GRUB
4.5. Förbered filerna för nätverksuppstart via TFTP
    4.5.1. Konfigurering av DHCP-server
    4.5.2. Konfigurera en BOOTP-server
    4.5.3. Aktivering av TFTP-server
    4.5.4. Flytta TFTP-avbildningarna till rätt plats
4.6. Automatisk installation
    4.6.1. Automatisk installation med Debian Installer
4.7. Verifiera integriteten för installationsfiler

4.1. Officiella Debian GNU/Linux installationsavbildningar

By far the easiest way to install Debian GNU/Linux is from a set of official
Debian installation images. You can buy a set of CDs/DVDs or an USB stick from
a vendor (see the CD vendors page). You may also download the installation
images from a Debian mirror and make your own set, if you have a fast network
connection and a CD/DVD burner. Or the modern way: write such image to an USB
stick (see the Debian CD/DVD page and Debian CD FAQ for detailed instructions).
If you have such installation media, and they are bootable on your machine,
which is the case on all modern PCs, you can skip right to Kapitel 5, Starta
upp installationssystemet. Much effort has been expended to ensure the
most-used files are on the first DVD image, so that a basic desktop
installation can be done with only the first DVD.

Tänk också på följande: om installationsmediet du använder inte innehåller
några paket som du behöver, kan du alltid installera paketen efteråt från ditt
nya Debiansystem (när installationen är klar). Om du behöver veta vilken
installationsavbildning du ska hitta för ett visst paket kan du besöka https://
cdimage-search.Debian.org/.

If your machine doesn't support booting from optical media (only relevant on
very old PC systems), but you do have a set of DVD, you can use an alternative
strategy such as hard disk, usb stick, net boot, or manually loading the kernel
from the disc to initially boot the system installer. The files you need for
booting by another means are also on the disc; the Debian network archive and
folder organization on the disc are identical. So when archive file paths are
given below for particular files you need for booting, look for those files in
the same directories and subdirectories on your installation media.

När installationsprogrammet har startat upp kan den hämta de andra filerna den
behöver från skivan.

Om du inte har en uppsättning installationsmedia behöver du hämta systemfiler
för installationsprogrammet och placera dem på hårddisk eller usb-minne eller 
en ansluten dator så att de kan användas för att starta upp
installationsprogrammet.

4.2. Hämta filer från Debian-speglar

För att hitta den närmaste (och kanske även den snabbaste) spegeln, se Hämta
Debian från Internet.

4.2.1. Var man får tag på installationsfiler

Dom olika Installationsfilerna kan hittas på varje Debian-spegel i katalogen
debian/dists/trixie/main/installer-amd64/current/images/ -- MANIFEST listar
varje avbild och dess funktion.

4.3. Förbereda filer för uppstart med USB-minne

För att förbereda USB-minnet rekommenderar vi ett system att använda där GNU/
Linux redan körs och där USB stöds. Med aktuella GNU/Linux-system ska
USB-minnet automatiskt kännas igen när du ansluter det. Om det inte gör det bör
du kontrollera att kärnmodulen usb-storage har lästs in. När USB-minnet är
anslutet så kommer det att kopplas till en enhet med namnet /dev/sdX, där "X"
är en bokstav i intervallet a-z. Du bör kunna se till vilken enhet som
USB-minnet kopplades genom att köra kommandot lsblk före och efter du stoppar i
det. (Utdata av dmesg (som root) är också en annan möjlig metod för detta.) För
att skriva till ditt minne så måste du stänga av dess skrivskydd (om sådant
finns).

Varning

Procedurerna som beskrivs i detta avsnitt kommer att förstöra allt som redan
finns på enheten! Se till att du använder rätt enhetsnamn för ditt USB-minne.
Om du använder fel enhet kan resultatet bli att all information på till exempel
en hårddisk går förlorad.

4.3.1. Förbereder ett USB-minne med en hybrid CD/DVD-avbildning

Debian installation images for this architecture are created using the 
isohybrid technology; that means they can be written directly to a USB stick,
which is a very easy way to make an installation media. Simply choose an image
(such as the netinst or DVD-1) that will fit on your USB stick. See
Avsnitt 4.1, "Officiella Debian GNU/Linux installationsavbildningar" to get an
installation image.

Installationsavbilden du väljer ska skrivas direkt till USB-minnet och skriva
över dess nuvarande innehåll. Till exempel, när du använder ett befintligt GNU/
Linux-system kan avbildsfilen skrivas till ett USB-minne enligt följande, efter
att ha sett till att minnet är avmonterat:

# cp debian.iso /dev/sdX
# sync

Att helt enkelt skriva installationsavbildningen till USB så här borde fungera
bra för de flesta användare. För särskilda behov finns denna wikisida.

Information om hur du gör detta på andra operativsystem finns i Debian CD FAQ .

Viktigt

Bilden måste skrivas till hela diskenheten och inte till en partition, t.ex. /
dev / sdb och inte / dev / sdb1. Använd inte verktyg som unetbootin som ändrar
bilden.

4.4. Förbereda filer för uppstart med hårddisk

Installationsprogrammet kan startas upp med uppstartsfiler placerade på en
befintlig hårddiskpartition, antingen startade från ett annat operativsystem
eller genom att kalla upp en starthanterare direkt från BIOS. På moderna
UEFI-system kan kärnan startas direkt från UEFI-partitionen utan behov av en
startladdare.

En full installation, "helt över nätverket" kan göras med den här tekniken. Det
här förhindrar problem med flyttbar media, hitta och bränna CD/
DVD-avbildningar.

4.4.1. Starta upp hårddiskinstalleraren från Linux med GRUB

Det här avsnittet förklarar hur man lägger till eller ersätter en befintlig
Linux-installation med GRUB.

Vid uppstart har GRUB stöd för att läsa in en kärna och även en diskavbildning
i minnet. Den här RAM-disken kan användas som rotfilsystem av kärnan.

Kopiera följande filer från Debian-arkiven till en lämplig plats på din
hårddisk exempelvis till /boot/newinstall/.

  • vmlinuz (kärnbinär)

  • initrd.gz (ramdiskavbildning)

Om du tänkte använda hårddisken bara för att starta upp och sedan hämta allt
över nätverket, bör du hämta filen netboot/debian-installer/amd64/initrd.gz och
dess motsvarande kärna, netboot/debian-installer/amd64/linux. Den låter dig
partionera om hårddisken från vilken du startar upp installationsprogrammet,
dock bör du göra med försiktighet.

Alternativt, om du tänker behålla en befintlig partition på hårddisken
oförändrad under installationen, kan du ladda ner hd-media/initrd.gz filen och
dess kärna hd-media/vmlinuz, samt kopiera en installationsavbildning till
hårddisken (se till att filen heter något som slutar på .iso).
Installationsprogrammet kan sedan starta från hårddisken och installera från
installationsavbildningen, utan att behöva nätverket.

Till slut, för att konfigurera starthanteraren kan du fortsätta till
Avsnitt 5.1.3, "Uppstart från Linux med GRUB".

4.5. Förbered filerna för nätverksuppstart via TFTP

Om din maskin är ansluten till ett lokalt nätverk har du möjligheten att starta
upp via nätverket från en annan maskin med TFTP. Om du tänker starta upp
installationssystemet från en annan maskin behöver uppstartsfilerna placeras på
specifika platser på den maskinen och maskinen konfigureras för att få stöd för
uppstart av din specifika maskin.

Du behöver konfigurera en TFTP-server, och för många maskiner även en
DHCP-server, eller BOOTP-server.

BOOTP är ett IP-protokoll som informerar en dator om dess IP-adress och var på
nätverket den kan hämta en uppstartsavbildning. DHCP (Dynamic Host
Configuration Protocol) är en mer flexibel, bakåtkompatibel utökning av BOOTP.
Vissa system kan endast konfigureras via DHCP.

Trivial File Transfer Protocol (TFTP) används för att erbjuda
uppstartsavbildningar till klienten. Teoretiskt sett kan alla servrar, på alla
plattformar, som implementerat de här protokollen, kan användas. I exemplen i
det här avsnittet, tillhandahåller vi kommandon för SunOS 4.x, SunOS 5.x (även
kallad Solaris) och GNU/Linux.

Notera

För en Debian GNU/Linux-server så rekommenderar vi tftpd-hpa. Den är skriven av
samma upphovsman som starthanteraren syslinux och är därför minst sannolik att
orsaka problem. Ett bra alternativ är atftpd.

4.5.1. Konfigurering av DHCP-server

En fri DHCP-serverprogramvara är ISC dhcpd. För Debian GNU/Linux, rekommenderas
paketet isc-dhcp-server. Här är en exempelkonfigurationsfil för det (se /etc/
dhcp/dhcpd.conf):

option domain-name "exempel.se";
option domain-name-servers ns1.exempel.se;
option subnet-mask 255.255.255.0;
default-lease-time 600;
max-lease-time 7200;
server-name "servernamn";

subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option routers 192.168.1.1;
}

host klientnamn {
  filename "/tftpboot.img";
  server-name "servernamn";
  next-server servernamn;
  hardware ethernet 01:23:45:67:89:AB;
  fixed-address 192.168.1.90;
}

I det här exemplet finns det en server kallad servernamn som gör allt arbete
som DHCP-server, TFTP-server och nätverksgateway. Du behöver nästan säkert
ändra domännamnsalternativen, såväl som servernamnet och klientens
maskinvaruadress. Alternativet filename bör vara ange namnet på den fil som ska
hämtas via TFTP.

Efter du har redigerat konfigurationsfilen för dhcpd, starta om den med /etc/
init.d/isc-dhcp-server restart.

4.5.1.1. Aktivera PXE-uppstart i DHCP-konfigurationen

Här är ett annat exempel på en dhcp.conf, som använder Pre-boot Execution
Environment-metoden (PXE) för TFTP.

option domain-name "exempel.se";

default-lease-time 600;
max-lease-time 7200;

allow booting;
allow bootp;

# Nästa paragraf behöver ändras för att passa din miljö
subnet 192.168.1.0 netmask 255.255.255.0 {
  range 192.168.1.200 192.168.1.253;
  option broadcast-address 192.168.1.255;
# gatewayadressen kan vara olik
# (tillgång till Internet till exempel)
  option routers 192.168.1.1;
# indikerar dns-servern du vill använda
  option domain-name-servers 192.168.1.3;
}

group {
 next-server 192.168.1.3;
 host tftpclient {
# maskinvaruadressen för tftp-klienten
  hardware ethernet  00:10:DC:27:6C:15;
  filename "pxelinux.0";
 }
}

Observera att för PXE-uppstarter är klientfilnamnet pxelinux.0 en
starthanterare, inte en kärnavbildning (se Avsnitt 4.5.4, "Flytta
TFTP-avbildningarna till rätt plats" nedan).

Om din maskin använder UEFI för att starta måste du ange en startladdare som är
lämplig för UEFI-maskiner, till exempel

group {
  next-server 192.168.1.3;
  host tftpclient {
# tftp client hardware address
  hardware ethernet  00:10:DC:27:6C:15;
  filename "debian-installer/amd64/bootnetx64.efi";
 }
}

4.5.2. Konfigurera en BOOTP-server

Det finns två BOOTP-servrar tillgängliga för GNU/Linux. Den första är CMU 
bootpd. Den andra är faktiskt en DHCP-server: ISC dhcpd. I Debian GNU/Linux
finns dessa i paketen bootp respektive isc-dhcp-server.

För att använda CMU bootpd, måste du först kommentera bort (eller lägga till)
den relevanta raden i /etc/inetd.conf. På Debian GNU/Linux kan du köra
update-inetd --enable bootps, sedan /etc/init.d/inetd reload för att göra det.
Om din BOOTP-server inte kör Debian, bör raden i fråga se ut så här:

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

Nu måste du skapa filen /etc/bootptab. Den har samma sorts familjära och
kryptiska format som de gamla goda BSD-filerna printcap, termcap och disktab.
Se manualsidan för bootptab för mer information. För CMU bootpd behöver du
känna till maskinvaruadressen (MAC) för klienten. Här är ett exempel på en /etc
/bootptab:

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

Du behöver ändra åtminstone alternativet "ha", som anger maskinvaruadressen för
klienten. Alternativet "bf" anger filen som klienten bör hämta via TFTP; se
Avsnitt 4.5.4, "Flytta TFTP-avbildningarna till rätt plats" för mer detaljer.

Tvärtemot är konfigurering av BOOTP med ISC dhcpd riktigt enkelt, för att den
behandlar BOOTP-klienter som vanliga specialfall av DHCP-klienter. Vissa
arkitekturer kräver en komplex konfiguration för att starta upp klienter via
BOOTP. Om din dator är en av dessa, läs avsnittet Avsnitt 4.5.1, "Konfigurering
av DHCP-server". Om inte, kommer du antagligen komma undan med att bara lägga
till direktivet allow bootp till konfigurationsblocket för subnätet som
innehåller klienten i /etc/dhcp/dhcpd.conf, och starta om dhcpd med /etc/init.d
/isc-dhcp-server restart.

4.5.3. Aktivering av TFTP-server

För att få igång TFTP-servern så bör du först försäkra dig om att tftpd är
aktiverad.

I det fallet med tftpd-hpa så finns det två sätt som tjänsten kan köras på. Den
kan startas vid behov av systemets inetd-demon, eller så kan den konfigureras
till att köras som en oberoende demon. Vilken av dessa metoder som används
väljs när paketet installeras och kan ändras genom att konfigurera om paketet.

Notera

Historiskt sett hanterade TFTP-servrarna avbildningar från katalogen /tftpboot.
Dock kan Debian GNU/Linux-paket använda andra kataloger för att följa
Filesystem Hierarchy Standard. Till exempel, tftpd-hpa använder som standard /
srv/tftp. Du kan därför behöva justera konfigurationsexemplen i det här
avsnittet.

Alla tillgängliga alternativ för in.tftpd i Debian bör logga TFTP-begäran till
systemloggarna som standard. Vissa av dem har stöd för argumentet -v för att
öka informationsnivån. Det rekommenderas att kontrollera dessa loggmeddelanden
när uppstartsproblem sker eftersom de är en bra startpunkt för att
diagnostisera orsaken till felen.

4.5.4. Flytta TFTP-avbildningarna till rätt plats

Placera sedan TFTP-uppstartsavbildningen du behöver, som du hittar i
Avsnitt 4.2.1, "Var man får tag på installationsfiler", i katalogen för
uppstartsavbildningar för tftpd. Du kan behöva att skapa en länk från den filen
till den fil som tftpd kommer att använda för att starta upp en specifik
klient. Tyvärr fastställs filnamnet av TFTP-klienten och det finns inga riktiga
standarder.

För PXE-uppstart är allt du behöver konfigurerat i filen netboot/
netboot.tar.gz. Extrahera helt enkelt den här filen till katalogen för
uppstartsavbildningar för tftpd. Se till att din dhcp-server är konfigurerad
att skicka pxelinux.0 till tftpd som det filnamn som ska användas för uppstart.
För UEFI maskiner, så måste du skicka ut ett lämpligt EFI-startavbildsnamn (som
/debian-installer/amd64/bootnetx64.efi ).

4.6. Automatisk installation

För installation på flera datorer är det möjligt att göra helautomatiska
installationer. Debian paket avsedda för detta inkluderar fai-quickstart, som
kan använda en installationsserver (ta en titt på FAI-hemsidan för detaljerad
information) och Debian installationsprogrammet själv.

The FAI project also provides a web service for creating customized unattended
installation ISO images with only a few clicks. You can choose the desktop
environment, the language, the release, set the password and add your own list
of additional packages. After a few minutes your can download and boot the
image, that will do the fully automatic installation without any interaction
needed. Some more advanced settings are available for Linux experts.

4.6.1. Automatisk installation med Debian Installer

Debian Installer har stöd för att automatisera installationer via
förkonfigurationsfiler. En förkonfigurationsfil kan läsas in från nätverket
eller från flyttbart media, och används för att fylla i svar på frågor som
ställs under installationsprocessen.

Full dokumentation om förinställning inklusive ett fungerande exempel som du
kan redigera finns i Appendix B, Automatiserad installation med
förinställningar.

4.7. Verifiera integriteten för installationsfiler

Du kan verifiera integriteten för nedladdade filer mot kontrollsummor som finns
i SHA256SUMS eller SHA512SUMS filer på Debian speglarna. Du hitta dom på samma
platser som själva installationsavbilderna. Besök följande platser:

  • kontrollsummafiler för CD-avbilder,

  • kontrollsummafiler för DVD-avbilder,

  • kontrollsummafiler för BD-avbilder,

  • kontrollsummafiler för andra installationsfiler.

För att beräkna kontrollsumman för en nedladdad installationsfil, använd

sha256sum filename.iso

respektive

sha512sum filename.iso

och jämför sedan den visade kontrollsumman med motsvarande i en av
SHA256SUMSrespektiveSHA512SUMS filerna.

Debian CD FAQ har mer användbar information på detta ämne. som t.ex skriptet
check_debian_iso, för att halvautomatisera ovanstående procedur), samt
instruktioner, hur man själva verifierar integriteten för ovanstående
kontrollsumfiler.

Kapitel 5. Starta upp installationssystemet

Innehållsförteckning

5.1. Starta upp installationsprogrammet på 64-bit PC
    5.1.1. Uppstart från USB-minne
    5.1.2. Starta upp från optiskt media (CD/DVD)
    5.1.3. Uppstart från Linux med GRUB
    5.1.4. Uppstart via TFTP
    5.1.5. Uppstartsskärmen
    5.1.6. Det grafiska installationsprogrammet
5.2. Hjälpmedel
    5.2.1. Installationsprogrammets frontend
    5.2.2. Punktskriftsskärmar med USB
    5.2.3. Punktskriftsskärmar med seriekabel
    5.2.4. Talsynteser (mjukvara)
    5.2.5. Talsyntes (maskinvara)
    5.2.6. Brädenheter
    5.2.7. Tema med hög kontrast
    5.2.8. Zooma
    5.2.9. Expertinstallation, räddningsläge, automatisk installation
    5.2.10. Tillgänglighet för det installerade systemet
5.3. Uppstartsparametrar
    5.3.1. Boot serial console
    5.3.2. Parametrar för Debian Installer
    5.3.3. Använding av uppstartsparametrar för att besvara frågor
    5.3.4. Skicka parametrar till kärnmoduler
    5.3.5. Svartlistning av kärnmoduler
5.4. Felsök installationsprocessen
    5.4.1. Tillförlitligheten för optiska medier
    5.4.2. Uppstartskonfiguration
    5.4.3. Talsynteser (mjukvara)
    5.4.4. Vanliga 64-bit PC Installationsproblem
    5.4.5. Tolkning av kärnans uppstartsmeddelanden
    5.4.6. Rapportering av installationsproblem
    5.4.7. Skicka installationsrapporter

5.1. Starta upp installationsprogrammet på 64-bit PC

Varning

Om du har andra operativsystem på din dator som du önskar att behålla (via en
uppstartsmeny), bör du försäkra dig om att de har stängts av på ett korrekt
sätt innan du startar installationsprogrammet. Installation av ett
operativsystem under tiden ett annat operativsystem står i viloläge (har
växlats ut till disk) kan resultera i att tillståndsinformationen om
operativsystemet går förlorad eller skadas, vilket kan leda till problem vid en
omstart.

Notera

För information om hur man startar upp det grafiska installationsprogrammet, se
Avsnitt 5.1.6, "Det grafiska installationsprogrammet".

5.1.1. Uppstart från USB-minne

Om din dator kan starta från USB kommer detta förmodligen att vara den enklaste
vägen för installation. Förutsatt att du har förberett allt från Avsnitt 3.6.2,
"Val av uppstartsenhet" och Avsnitt 4.3, "Förbereda filer för uppstart med
USB-minne", anslut bara ditt USB-minne till någon ledig USB-port och starta om
datorn. Systemet bör starta upp, och om du inte har använt det flexibla sättet
att bygga stickan och inte aktiverat det, bör du presenteras med en grafisk
startmeny (på hårdvara som stöder det). Här kan du välja olika
installationsalternativ, eller bara trycka på Enter.

5.1.2. Starta upp från optiskt media (CD/DVD)

Om du har en uppsättning optiska skivor och din maskin stöder uppstart direkt
från dem, bra! Helt enkelt konfigurera ditt system för att starta från en
optisk skiva enligt beskrivningen i Avsnitt 3.6.2, "Val av uppstartsenhet", 
sätt i skivan, starta om och fortsätt till nästa kapitel.

Observera att vissa optiska-enheter kan kräva speciella drivrutiner och kan
därför vara otillgängliga i de tidiga stegen av installationen. Om det visar
sig att det vanliga sättet att starta upp från en optisk skiva inte fungerar på
din maskinvara, besök det här kapitlet igen och läs om alternativa kärnor och
installationsmetoder som kan fungera för dig.

Även om du inte kan starta upp från optiskt media kan du antagligen installera
Debians systemkomponenter och de paket du vill från en sådan skiva. Starta helt
enkelt upp med ett annat medium och när det är dags att installera
operativsystemet, bassystemet och eventuella ytterligare paket, peka
installationssystemet till den optiska enheten.

Om du har problem att starta upp, se Avsnitt 5.4, "Felsök
installationsprocessen".

5.1.3. Uppstart från Linux med GRUB

För att starta upp installationsprogrammet från hårddisk måste du första hämta
och placera de nödvändiga filerna som beskrivs i Avsnitt 4.4, "Förbereda filer
för uppstart med hårddisk".

För GRUB2, så behöver du konfigurera två grundläggande saker i /boot/grub/
grub.cfg:

  • för att ladda initrd.gz installationsprogrammet vid uppstart;

  • ha vmlinuz kärna som en RAM-disk som dess rotpartition.

En post för installationsprogrammet skulle till exempel vara:

menuentry 'New Install' {
insmod part_msdos
insmod ext2
set root='(hd0,msdos1)'
linux /boot/newinstall/vmlinuz
initrd /boot/newinstall/initrd.gz
}

5.1.4. Uppstart via TFTP

Uppstart från nätverket kräver att du har en nätverksanslutning och en
TFTP-server konfigurerad för uppstarter (och antagligen även en DHCP-, RARP-
eller BOOTP-server för automatisk närverkskonfiguration).

Inställning på serversidan för att stödja nätverksuppstart beskrivs i
Avsnitt 4.5, "Förbered filerna för nätverksuppstart via TFTP".

Det finns olika sätt att göra en TFTP-uppstart på i386.

5.1.4.1. Nätverkskort eller moderkort med stöd för PXE

Det kan vara så att ditt nätverkskort eller moderkort tillhandahåller
funktionalitet för uppstart via PXE. Det är en återimplementation av
TFTP-uppstart från Intel (tm). Om så är fallet kan du konfigurera ditt BIOS/
UEFI att starta upp från nätverket.

5.1.4.2. Nätverkskort med Network BootROM

Det kan vara så att ditt nätverkskort erbjuder funktionalitet för att starta
upp via TFTP.

5.1.4.3. Etherboot

Etherboot-projektet erbjuder startdisketter och även ROM-filer som kan göra
uppstarter via TFTP.

5.1.5. Uppstartsskärmen

När installationsprogrammet startar bör du presenteras med en vänlig grafisk
skärm som visar Debian logotypen och en meny:

Debian GNU/Linux installer boot menu

Graphical install
Install
Advanced options                            >
Accessible dark contrast installer menu     >
Help
Install with speech synthesis

Notera

Den här grafiska skärmen kommer att se väldigt annorlunda ut beroende på hur
din dator har startats (BIOS eller UEFI), men samma alternativ kommer att
visas.

Beroende på vilken installationsmetod du använder kanske alternativet "Grafisk
installation" inte är tillgängligt. Bi-arch-avbilder har dessutom en 64-bitars
variant för varje installationsalternativ, precis under den, vilket nästan
fördubblar antalet alternativ.

För en normal installation, välj antingen "Grafisk installation" eller "
Installera"-posten -- använda antingen piltangenterna på ditt tangentbord eller
genom att skriva den första (markerade) bokstaven -- och tryck på Enter för att
starta upp installationsprogrammet. Posten "Grafisk installation" är redan vald
som standard.

Alternativet "Advanced options" ger dig åtkomst till en annan meny som låter
dig starta upp installationsprogrammet i expertläge, räddningsläge och för
automatiserade installationer.

Om du önskar eller behöver lägga till andra uppstartsparametrar för antingen
installationsprogrammet eller för kärnan, tryck på Tab (BIOS uppstart), eller e
sedan down arrow tre gånger sedan end, för att redigera "linux" raden för
startposten (UEFI-uppstart). Detta kommer att visa standarduppstartskommandot
för det valda menyobjektet och tillåter att man lägger till ytterligare
alternativ. Hjälpskärmarna (se nedan) listar några vanliga möjliga alternativ.
Tryck på Enter för att starta upp installationsprogrammet med dina alternativ;
trycker du på Esc så kommer du att återvända till uppstartsmenyn och ångra alla
ändringar du har gjort.

Om du väljer "Hjälp" kommer den första hjälpskärmen att visas som ger en
översikt över alla tillgängliga hjälpskärmar. För att återgå till
uppstartsmenyn efter att hjälpskärmarna har visats, skriv "menu" vid
uppstartsprompten och tryck på Enter. Alla hjälpskärmar har en uppstartsprompt
där uppstartskommandot kan skrivas:

Tryck på F1 för hjälpindex, eller ENTER för att starta:

Vid denna uppstartsprompt kan du antingen bara trycka på Enter för att starta
upp installationsprogrammet med standardalternativ eller ange ett specifikt
uppstartskommando och, valfria, uppstartsparametrar. Ett antal
uppstartsparametrar som kan vara användbara kan hittas på de olika
hjälpskärmarna. Om du lägger till några parametrar till uppstartskommandoraden,
se till att du först skriver uppstartsmetoden (standard är install) och ett
blanksteg före den första parametern (t.ex. install nomodeset) ).

Notera

Tangentbordet antas ha standardlayouten Amerikansk engelska vid det här
tillfället. Detta betyder att om ditt tangentbord har en annan (språkspecifik)
layout kan bokstäverna som visas på skärmen att vara olika från vad du
förväntar dig när du anger parametrar. Wikipedia har ett schema över den
amerikanska tangentbordslayouten som kan användas som en referens för att hitta
de korrekta tangenterna.

Notera

Om du använder ett system som har BIOS konfigurerat att använda en seriell
konsoll så kanske du inte kan se den initiala startbilden vid uppstart av
installationsprogrammet; du kanske inte ens ser uppstartsmenyn. Det samma kan
ske om du installerar systemet via en fjärrhanteringsenhet som tillhandahåller
ett textgränssnitt till VGA-konsollen. Exempel på dessa enheter inkluderar
textkonsollen för Compaqs "integrated Lights Out" (iLO) och HP:s "Integrated
Remote Assistant" (IRA).

För att komma förbi den grafiska uppstartsskärmen kan du antingen i blindo
trycka på Esc för att få en textuppstartsprompt eller (lika blint) trycka på "H
" följt av Enter för att välja alternativet "Help", som beskrivs här ovan.
Efter det bör dina tangenttryckningar att ekas på prompten. För att förhindra
installationsprogrammet från att använda framebufferten för resten av
installationen kan du lägga till vga=normal nomodeset till uppstartsprompten,
som beskrivet i hjälptexten.

5.1.6. Det grafiska installationsprogrammet

Den grafiska versionen av installationsprogrammet är endast tillgänglig för ett
begränsat antal arkitekturer, inklusive 64-bit PC. Funktionaliteten hos det
grafiska installationsprogrammet är i huvudsak densamma som det textbaserade
installationsprogrammet eftersom det i princip använder samma program, men med
ett annat gränssnitt.

Även om funktionaliteten är identisk, har det grafiska installationsprogrammet
fortfarande några betydande fördelar. Den största fördelen är att det stöder
fler språk, nämligen de som använder en teckenuppsättning som inte kan visas
med det textbaserade "newt"-gränssnittet. Det har också några
användbarhetsfördelar som möjligheten att använda en mus, och i vissa fall kan
flera frågor visas på en enda skärm.

Det grafiska installationsprogrammet är tillgängligt med alla CD/DVD-avbilder
och med installationsmetoden hd-media. För att starta upp det grafiska
installationsprogrammet, välj helt enkelt det relevanta alternativet från
startmenyn. Expert och räddningsläge för det grafiska installationsprogrammet
kan väljas från menyn "Avancerade alternativ". De tidigare använda
uppstartsmetoderna installgui, expertgui och rescuegui kan fortfarande användas
från startprompten som visas efter att ha valt "Hjälp" i uppstartsmenyn.

Precis som med det textbaserade installationsprogrammet är det möjligt att
lägga till startparametrar när du startar det grafiska installationsprogrammet.

Notera

Det grafiska installationsprogrammet kräver betydligt mer minne för att köras
än det textbaserade installationsprogrammet: 810MB. Om det inte finns
tillräckligt med minne kommer det automatiskt att falla tillbaka till det
textbaserade "newt"-gränssnittet.

Om mängden minne i ditt system är under 780MB, kan det grafiska
installationsprogrammet misslyckas med att starta upp alls medan uppstart av
det textbaserade installationsprogrammet fortfarande fungerar. Användning av
det textbaserade installationsprogrammet rekommenderas för system med lite
tillgängligt minne.

5.2. Hjälpmedel

Vissa användare kan behöva specifik support på grund av t.ex. någon typ av
nedsatt syn. USB punktskriftsskärmar detekteras automatiskt (inte seriella
skärmar anslutna via en seriell-till-USB-omvandlare), men de flesta andra
tillgänglighetsfunktioner måste aktiveras manuellt. På maskiner som stöder det
avger uppstartsmenyn pip när den är redo att ta emot tangenttryckningar. Den
piper en gång på BIOS-system och piper två gånger på UEFI-system. Vissa
uppstartsparametrar kan sedan läggas till för att aktivera
tillgänglighetsfunktioner ( se även Avsnitt 5.1.5, "Uppstartsskärmen").
Observera att på de flesta arkitekturer tolkar uppstartshanteraren ditt
tangentbord som ett QWERTY-tangentbord.

5.2.1. Installationsprogrammets frontend

Debian installationsprogrammet stödjer flera olika gränssnitt för att ställa
frågor, med varierande bekvämlighet för tillgänglighet: särskilt använder text
vanlig text medan newt använder textbaserade dialogrutor. Valet kan göras vid
uppstartsprompten, se dokumentationen för DEBIAN_FRONTEND i Avsnitt 5.3.2,
"Parametrar för Debian Installer".

Med newt gränsnittet (används mest med punktskrift), väljer man oftast bara
svar med piltangenterna och trycker på Enter för att bekräfta valet. Att trycka
på Tab eller Shift - Tab gör det möjligt att växla mellan dialogelement, och
särskilt att komma åt Gå tillbaka-knappen, som återgår till tidigare frågor.
Vissa dialogrutor innehåller kryssrutor som kan markeras av och på genom att
trycka på Space.

Med text gränsnittet (används mest med tal), väljer man oftast svar antingen
genom att skriva deras nummer följt av att trycka på Enter, eller genom att
välja ett svar med piltangenterna och trycka Enter för att bekräfta valet. Man
kan också inte skriva någonting och bara trycka på Enter för att helt enkelt
acceptera standardvärdet. Skriv < och tryck på Enter återgår till tidigare
frågor. När ett urval av val måste göras (t.ex. under uppgiftsval), kan man
skriva ! för att uttrycka ett tomt val.

5.2.2. Punktskriftsskärmar med USB

Punktskriftsskärmar för USB ska identifieras automatiskt. En textversion av
installationsprogrammet kommer sedan att väljas automatiskt och stöd för
punktskriftsskärmen kommer att installeras automatiskt på målsystemet. Du kan
därför bara trycka på Enter vid uppstartsmenyn. När brltty har startats så kan
du välja en punktskriftstabell genom att gå in i inställningsmenyn.
Dokumentation för tangentbindingar för punktskriftsskärmar finns tillgänglig på
webbsidan för brltty.

5.2.3. Punktskriftsskärmar med seriekabel

Seriella punktskriftsskärmar kan inte säkert upptäckas automatiskt (eftersom
det kan skada vissa av dem). Du måste alltså lägga till uppstartsparametern
brltty=driver,port för att tala om för brltty vilken drivrutin och port den ska
använda sig av. driver ska ersättas med tvåbokstavsdrivrutinskoden för din
terminal (se BRLTTY-manualen). port ska ersättas av namnet på den seriella
porten som bildskärmen är ansluten till, ttyS0 är standard, ttyUSB0 kan
vanligtvis användas vid användning en seriell-till-USB-konverterare. En tredje
parameter kan tillhandahållas för att välja namnet på punktskriftstabellen som
ska användas (se BRLTTY-manualen); den engelska tabellen är standard. Observera
att tabellen kan ändras senare genom att gå in i preferensmenyn. En fjärde
parameter kan tillhandahållas för att skicka parametrar till
punktskriftsdrivrutinen, såsom protocol=foo som behövs för vissa sällsynta
modeller. Dokumentation om tangentbindningar för punktskriftsenheter finns på
brltty webbplatsen.

5.2.4. Talsynteser (mjukvara)

Support for software speech synthesis is available on all installer images
which have the graphical installer, i.e. all netinst and DVD images, and the
netboot gtk variant. It can be activated by selecting it in the boot menu by
typing s Enter. The textual version of the installer will then be automatically
selected, and support for software speech synthesis will be automatically
installed on the target system.

Om flera ljudkort upptäcks uppmanas du att trycka på Enter när du hör tal från
önskat ljudkort.

Den första frågan (språket) talas på engelska, och resten av installationen
talas på det valda språket (om tillgängligt i espeak).

Standardtalhastigheten är ganska långsam. För att göra den snabbare, tryck på 
CapsLock+6. För att göra den långsammare, tryck på CapsLock+5. Standardvolymen
ska vara medium. För att göra den högre, tryck på CapsLock+2. För att göra den
tystare, tryck på CapsLock+1. För att få mer information om webbgenvägarna, se
Speakup-guiden. För att bara acceptera standardsvaret för en fråga, tryck helt
enkelt på Enter vid prompten. För att ge ett tomt svar på en fråga, skriv ! vid
prompten. För att gå tillbaka till föregående fråga, skriv < vid prompten.

5.2.5. Talsyntes (maskinvara)

Support for hardware speech synthesis devices is available on all installer
images which have the graphical installer, i.e. all netinst and DVD images, and
the netboot gtk variant. You thus need to select a "Graphical install" entry in
the boot menu.

Talsyntesenheter (maskinvara) kan inte identifieras automatiskt. Du behöver
därför lägga till uppstartsparametern speakup.synth=drivrutin för att berätta
för speakup vilken drivrutin som den ska använda. drivrutin ska ersättas med
koden för drivrutinen för din enhet (se kodlista för drivrutiner).
Textversionen av installationsprogrammet kommer sedan att väljas automatiskt
och stöd för talsynteser kommer automatiskt att installeras på målsystemet.

5.2.6. Brädenheter

Vissa hjälpmedelsenheter är faktiska kort som ansluts inne i datorn och som
läser test direkt från grafikminnet. För att få dem att fungera så måste stöd
för framebuffer inaktiveras genom att använda uppstartsparametern vga=normal.
nomodeset Detta kommer dock att minska antalet tillgängliga språk.

Om så önskas kan en textversion av startladdaren aktiveras innan
startparametern läggs till genom att skrivahEnter.

5.2.7. Tema med hög kontrast

För användare med nedsatt syn kan installationsprogrammet använda ett färgtema
med hög kontrast som gör det mer läsbart. För att aktivera det kan du använda
posten "Tillgänglighet hög kontrast" från startskärmen med genvägen d eller
lägga till startparametern theme=dark .

5.2.8. Zooma

För användare med dålig syn, har det grafiska installationsprogrammet ett
mycket grundläggande zoomstöd: Control++ och Control+- genvägar ökar och
minskar teckenstorleken.

5.2.9. Expertinstallation, räddningsläge, automatisk installation

Expert, Räddning och Automatiserade installationsalternativ finns också
tillgängliga med tillgänglighetsstöd. För att komma åt dem måste man först gå
in i undermenyn "Avancerade alternativ" från uppstartsmenyn genom att skriva a.
När du använder ett BIOS-system (så kommer uppstartsmenyn bara att låta pip en
gång), detta måste följas av Enter ; för UEFI-system (använder du UEFI så
kommer uppstartsmenyn att pipa två gånger) detta måste inte göras. Sedan, för
att aktivera talsyntes, kan s valfritt tryckas ned (följt igen av Enter på
BIOS-system men inte på UEFI-system). Därifrån kan olika genvägar användas: x
för expertinstallation, r för räddningsläge, eller a för automatiserad
installation. Återigen måste dessa följas av Enter när du använder ett
BIOS-system.

Det automatiska installationsvalet gör det möjligt att installera Debian helt
automatiskt genom att använda förinställning, vars källa kan anges efter att
tillgänglighetsfunktionerna har startat. Själva förinställningen dokumenteras i
Appendix B, Automatiserad installation med förinställningar.

5.2.10. Tillgänglighet för det installerade systemet

Dokumentation om tillgänglighet för det installerade systemet finns på Debian
tillgänglighet wikisidan.

5.3. Uppstartsparametrar

Uppstartsparametrar är parametrar för Linux-kärnan som generellt sett används
för att se till att kringutrustning hanteras korrekt. För det mesta kan kärnan
automatiskt identifiera information om din kringutrustning. Ibland behöver du
dock hjälpa kärnan en bit på vägen.

Om det här är första gången du startar upp systemet kan du prova de
uppstartsparametrar som är standard (alltså, ställ inte in några parametrar)
och se om det fungerar korrekt. Det kommer säkert att göra det. Om inte, kan du
starta om senare och leta efter några speciella parametrar som informerar
systemet om din maskinvara.

Information om många uppstartsparametrar kan hittas i Linux BootPrompt HOWTO,
inklusive tips för ovanlig maskinvara. Det här avsnittet innehåller endast en
del av de mest vanliga parametrarna. Vissa vanliga problem finns beskrivna i
Avsnitt 5.4, "Felsök installationsprocessen".

5.3.1. Boot serial console

Om du startar upp på en seriekonsoll så kommer generellt sett kärnan att
autodetektera det. Om du har ett grafikkort (framebuffer) och ett tangentbord
anslutet till datorn som du vill starta upp via seriekonsoll så kanske du måste
skicka argumentet console=enhet till kärnan, där enhet är en serieenhet på
målet, som vanligtvis är någonting liknande ttyS0.

Du kan behöva ange parametrar för den seriella porten, såsom hastighet och
paritet, till exempel console=ttyS0,9600n8; andra typiska hastigheter kan vara
57600 eller 115200. Var noga med att ange detta alternativ efter "---", så att
det kopieras till starthanterarens konfiguration för det installerade systemet
(om det stöds av installationsprogrammet för starthanteraren).

För att säkerställa att terminaltypen som används av installationsprogrammet
matchar din terminalemulator, kan parametern TERM=type läggas till. Observera
att installationsprogrammet endast stöder följande terminaltyper: linux, bterm,
ansi, vt102 och dumb. Standard för seriell konsol i debian-installer är vt102.
Om du använder en IPMI-konsol, eller ett virtualiseringsverktyg som inte
tillhandahåller konvertering till sådana terminaltyper själv, t.ex. QEMU/KVM,
så kan du starta den inuti en screen-session. Detta kommer verkligen att utföra
översättning till terminaltypen screen, som är mycket nära vt102.

5.3.2. Parametrar för Debian Installer

Installationssystemet känner igen ytterligare ett antal uppstartsparametrar^[3]
som kan vara användbara.

Ett antal parametrar har en "kort form" som hjälper till att undvika
begränsningarna i kärnans kommandoradsflaggor och gör dem enklare att ange. Om
en parameter har en kort form, kommer den att listas inom hakparanteser bakom
den (normala) långa formen. Exemplen i den här handboken kommer vanligtvis att
använda den korta formen också.

debconf/priority (priority)

    Den här parametern ställer in så att meddelanden med lägst prioritet visas.

    Standardinstallationen använder priority=high. Det betyder att både
    meddelanden med prioriteterna hög och kritisk visas, men meddelanden med
    prioriteterna medium och låg hoppas över. Om problem påträffas justerar
    installationsprogrammet prioriteten efter behov.

    Om du lägger till priority=medium som uppstartsparameter kommer du att få
    se installationsmenyn och få mer kontroll över installationen. När priority
    =low används kommer alla meddelanden visas (det här är likvärdigt med
    uppstartsmetoden expert). Med priority=critical kommer
    installationssystemet endast att visa kritiska meddelanden och försöka göra
    det rätta utan att krångla till det.

DEBIAN_FRONTEND

    Den här uppstartsparametern kontrollerar den typ av användargränssnitt som
    används av installationsprogrammet. De parametervärden som för närvarande
    är möjliga är:

      ☆ DEBIAN_FRONTEND=noninteractive

      ☆ DEBIAN_FRONTEND=text

      ☆ DEBIAN_FRONTEND=newt

      ☆ DEBIAN_FRONTEND=gtk

    Standardgränssnittet är DEBIAN_FRONTEND=newt. DEBIAN_FRONTEND=text kanske
    föredras för installationer via seriekonsoll. Vissa specialiserade typer av
    installations media kan bara erbjuda ett begränsat urval av gränsnitt, men
    newt och text gränsnitt är tillgängliga på dom mest standard
    installationsmedia. På arkitekturer som stödjer det, så använder det
    grafiska installationsprogrammet gtk gränsnitt.

BOOT_DEBUG

    Ställ in den här uppstartsparametern till 2 innebär att
    installationsprogrammets uppstartsprocess kommer att loggas på ett
    informativt sätt. Ställ in den till 3 och felsökningsloggar blir
    tillgängliga på strategiska punkter i uppstartsprocessen. (Avsluta skalen
    för att fortsätta uppstartsprocessen.)

    BOOT_DEBUG=0

        Det här är standardinställningen.

    BOOT_DEBUG=1

        Mer information än normalt.

    BOOT_DEBUG=2

        Mycket felsökningsinformation.

    BOOT_DEBUG=3

        Skal kommer att köras på olika punkter i uppstartsprocessen för
        detaljerad felsökning. Avsluta skalet för att fortsätta uppstarten.

logg_värd, logg_port

    Gör att installationsprogrammet skickar loggmeddelanden till ett
    fjärranslutet syslog på den angivna värden och porten samt till en lokal
    fil. Om den inte anges, är porten standard på standard syslog port 514.

lowmem

    Kan användas för att tvinga installationsprogrammet till en lowmem-nivå
    högre än den som installationsprogrammet ställer in som standard baserat på
    tillgängligt minne. Möjliga värden är 1 och 2. Se även Avsnitt 6.3.1.1,
    "Kontrollera tillgängligt minne / minimalt minnesläge".

noshell

    Förhindrar att installationsprogrammet erbjuder interaktiva skal på tty2
    och tty3. Användbart för oövervakade installationer där fysisk säkerhet är
    begränsad.

debian-installer/framebuffer (fb)

    Vissa arkitekturer använder kärnans framebuffer för att erbjuda en
    installation på ett antal olika språk. Om framebuffer orsakar ett problem
    på ditt system kan du inaktivera funktionen genom att använda parametern
    vga=normal nomodeset. Symptom på problemet är felmeddelanden om bterm eller
    bogl, en blank skärm, eller en frysning inom ett par minuter efter påbörjad
    installation.

debian-installer/theme (theme)

    Ett tema avgör hur installationsprogrammets användargränssnitt ser ut
    (färger, ikoner, etc.). Vilka teman som är tillgängliga kan skilja sig åt
    per gränsnitt. För närvarande har både newt och gtk-gränssnittet (bortsett
    från standardutseendet) bara ett extra tema som heter "mörkt"-tema, vilket
    designades för synskadade användare. Ställ in detta tema genom att starta
    med theme=dark (det finns också kortkommandot d för detta i
    uppstartsmenyn).

netcfg/disable_autoconfig

    Som standard söker debian-installer automatiskt efter nätverkskonfiguration
    via IPv6 autokonfiguration och DHCP. Om sökningen lyckas, har du ingen
    chans att granska och ändra de mottagna inställningarna. Du kan bara komma
    till den manuella nätverksinställningen om den automatiska konfigurationen
    misslyckas.

    Om du har en IPv6-router eller en DHCP-server på ditt lokala nätverk, men
    vill undvika dem eftersom t.ex. de ger fel svar kan du använda parametern
    netcfg/disable_autoconfig=true för att förhindra automatisk konfiguration
    av nätverket (varken v4 eller v6) och för att ange informationen manuellt.

hw-detect/start_pcmcia

    Ställ in till false för att förhindra att PCMCIA-tjänster startas, om det
    orsakar problem. Vissa bärbara datorer är kända för det här problemet.

preseed/url (url)

    Ange url:en till en förkonfigurationsfil som ska hämtas ner och användas
    för att automatisera installationen. Se Avsnitt 4.6, "Automatisk
    installation".

preseed/file (file)

    Ange sökvägen till en förkonfigurationsfil som ska läsas in för att
    automatisera installationen. Se Avsnitt 4.6, "Automatisk installation".

preseed/interactive

    Ställ in till true för att visa frågor även om de har blivit förinställda.
    Kan vara användbart för testning eller felsökning av en
    förkonfigurationsfil. Observera att det här inte har någon effekt på
    parametrar som skickas som uppstartsparametrar, men för de kan en speciell
    syntax användas. Se Avsnitt B.5.2, "Användning av förinställningar för att
    ändra på standardvärden" för detaljer.

auto-install/enable (auto)

    Fördröj frågor som vanligtvis frågas innan förinställning är möjlig efter
    att nätverket har konfigurerats. Se Avsnitt B.2.3, "Auto-läget" för
    detaljer om hur man automatiserar installationer.

finish-install/keep-consoles

    Under installationer från seriella eller hanteringskonsoller är de vanliga
    virtuella konsollerna (VT1 till VT6) oftast inaktiverade i /etc/inittab.
    Ställ in till true för att förhindra detta.

cdrom-detect/eject

    Som standard, före omstart, matar debian-installer automatiskt ut det
    optiska mediat som användes under installationen. Det kan vara onödigt om
    systemet inte startar upp automatiskt på sådant media. I vissa fall kan det
    inte vara önskvärt, till exempel om den optiska enheten inte kan mata in
    mediat själv om användaren inte finns där för att göra det manuellt. Många
    cd-läsare kan inte mata in media automatiskt.

    Ställ in till false för att inaktivera automatisk utmatning och tänk på att
    du kan behöva se till att systemet inte startar upp automatiskt från den
    optiska enheten efter den initiala installationen.

base-installer/install-recommends (recommends)

    Genom att ställa in denna flagga till false så kommer
    pakethanteringssystemet att konfigureras till att inte automatiskt
    installera paket som anges med "Recommends", både under installationen och
    för det installerade systemet. Se även Avsnitt 6.3.5, "Installation av
    grundsystemet".

    Observera att denna flagga ger ett smidigare system men kan även resultera
    i att funktioner saknas som du kanske vanligtvis skulle förvänta dig vara
    tillgängliga. Du kan behöva att manuellt installera några av de
    rekommenderade paketen för att få den fullständiga funktionalitet som du
    vill uppnå. Denna flagga bör därför endast användas av mycket erfarna
    användare.

debian-installer/allow_unauthenticated

    Som standard kräver installationsprogrammet att förråden autentiseras med
    en känd gpg-nyckel. Ställ in till true för att inaktivera den
    autentiseringen. Varning: osäkert, rekommenderas inte.

rescue/enable

    Ställ in till true för att gå in i räddningsläget istället för att
    genomföra en normal installation. Se Avsnitt 8.6, "Återställning av ett
    trasigt system".

5.3.3. Använding av uppstartsparametrar för att besvara frågor

Med några undantag kan ett värde ställas in vid uppstartsprompten för valfri
fråga som ställs under installationen, även om det här bara är verkligen
användbart i specifika fall. Allmänna instruktioner om hur man kan göra det här
kan hittas i Avsnitt B.2.2, "Användning av uppstartsparametrar för att
förinställa frågor". Några specifika exempel listas här nedan.

debian-installer/language (language), debian-installer/country (country), 
debian-installer/locale (locale)

    Det finns två sätt att ange språk, land och lokal att använda för
    installationen och det installerade systemet.

    Första och enklaste är att endast skicka parametern locale. Språk och land
    kommer sedan att ställas in efter dess värde. Du kan till exempel använda
    locale=sv_SE.UTF-8 för att välja svenska som språk och Sverige som land
    (sv_SE.UTF-8 kommer att ställas in som standardlokal för det installerade
    systemet). Begränsningen är att inte alla möjliga kombinationer av språk,
    land och lokal kan uppnås på detta sätt.

    Det andra, mer flexibla alternativet är att ange language och country
    separat. I detta fall kan locale valfritt läggas till för att ange en
    specifik standardlokal för det installerade systemet. Exempel: language=sv
    country=SE locale=sv_SE.UTF-8.

anna/choose_modules (modules)

    Kan användas för att automatiskt läsa in installerarkomponenter som inte
    läses in som standard. Exempel på valfria komponenter som kan vara
    användbara är openssh-client-udeb (så att du kan använda scp under
    installationen) och ppp-udeb (se Avsnitt D.5, "Installera Debian GNU/Linux
    över PPP over Ethernet (PPPoE)").

netcfg/disable_autoconfig

    Ställ in till true om du vill inaktivera IPv6 autokonfiguration och DHCP
    och istället tvinga fram statisk nätverkskonfiguration.

mirror/protocol (protocol)

    Som standard använder installationsprogrammet http-protokollet för att
    hämta filer från Debian-speglar och ändring av det till ftp är inte möjligt
    under installationer med normal prioritet. Genom att ställa in den här
    parametern till ftp, kan du tvinga installationsprogrammet att använda det
    protokollet istället. Observera att du inte kan välja en ftp-spegel från en
    lista, du måste ange värdnamnet manuellt.

tasksel:tasksel/first (tasks)

    Kan användas för att välja funktioner som inte finns tillgängliga från den
    interaktiva funktionslistan, såsom funktionen kde-desktop. Se
    Avsnitt 6.3.6.2, "Val och installation av programvara" för ytterligare
    information.

5.3.4. Skicka parametrar till kärnmoduler

Om drivrutiner är kompilerade in i kärnan kan du skicka parametrar till dem som
beskrivs i dokumentationen för kärnan. Dock om drivrutinerna är byggda som
moduler och därför att kärnmoduler läses in lite annorlunda under en
installation än vid uppstart av ett installerat system, är det inte möjligt att
skicka parametrar till moduler kan samma sätt som du normalt gör. Istället
behöver du använda en speciell syntax som känns igen av installationsprogrammet
som ser till att parametrarna sparas i de korrekta konfigurationsfilerna och på
så sätt kommer att användas när modulerna faktiskt läses in. Parametrarna
kommer även att propageras automatiskt till konfigurationen för det
installerade systemet.

Observera att det är nuförtiden ganska ovanligt att parametrar behöver skickas
till moduler. I de flesta fall kommer kärnan att söka av befintlig hårdvara i
ett system och ställa in bra standardvärden på det sättet. Dock, i vissa fall,
kan det fortfarande krävas att parametrar ställs in manuellt.

Syntaxen att använda för att ställa in parametrar för moduler är:

modulnamn.parameternamn=värde

Om du behöver skicka flera parametrar till samma eller olika moduler är det
bara att upprepa detta. Till exempel, för att ställa in ett gammalt
3Com-nätverkskort till att använda BNC-kontakten (coax) och IRQ 10, skulle du
skicka:

3c509.xcvr=3 3c509.irq=10

5.3.5. Svartlistning av kärnmoduler

Ibland är kan det vara nödvändigt att svartlista en modul för att förhindra den
från att automatiskt läsas in av kärnan och udev. En anledning kan vara attt en
specifik modul orsakar problem med din maskinvara. Kärnan kan ibland även lista
två olika drivrutiner för samma enhet. Det här kan orsaka att enheten inte
fungerar korrekt om drivrutinerna är i konflikt eller om fel drivrutin läses in
först.

Du kan svartlista en modul genom att använda följande syntax: modulnamn
.blacklist=yes. Det här kommer att göra att modulen blir svartlistad i /etc/
modprobe.d/blacklist.local, både under installationen och för det installerade
systemet.

Observera att en modul fortfarande kan läsas in av själva
installationssystemet. Du kan förhindra det från att hända genom att köra
installationen i expertläget och avmarkera modulen från listan över moduler som
visas under maskinvaruidentifieringsfaserna.

5.4. Felsök installationsprocessen

5.4.1. Tillförlitligheten för optiska medier

Ibland, särskilt med äldre enheter, kan installationsprogrammet misslyckas med
att starta från en optisk skiva. Installationsprogrammet kan också -- även
efter framgångsrik uppstart från en sådan skiva -- misslyckas med att känna
igen skivan eller returnerar fel när du läser från den under installationen.

Det finns många olika möjliga orsaker till dessa problem. Vi kan endast lista
några vanliga problem och tillhandahålla allmänna förslag på hur man hanterar
dem. Resten är upp till dig.

Det finns två mycket enkla saker som du bör prova först.

  • Om sskivan inte startar upp, kontrollera att den blev inmatad korrekt och
    att den inte är smutsig.

  • Om installationsprogrammet misslyckas att känna igen en skiva, prova att
    köra alternativet Identifiera och montera installationsmedia en andra gång.
    Vissa DMA-relaterade problem med väldigt gamla cd-rom-enheter kan lösas på
    detta sätt.

Om det inte fungerar, prova nedanstående förslag. De flesta, men inte alla,
förslag som diskuteras där gäller för cd-rom och dvd.

Om du inte kan få installationen att fungera från optisk skiva, prova en av de
andra installationsmetoderna som finns tillgängliga.

5.4.1.1. Vanliga problem

  • Några äldre cd-rom-enheter saknar stöd för att läsa från skivor som blev
    brända med höga hastigheter med en modern cd-brännare.

  • Några cd-rom-enheter fungerar inte korrekt om "direkt minnesåtkomst" (DMA)
    är aktiverat på dom.

5.4.1.2. Hur man undersöker och kanske även löser problem

Prova förslagen som listas här nedan om uppstart med optisk skiva misslyckas.

  • Kontrollera att din BIOS/UEFI faktiskt stöder uppstart från optisk skiva
    (endast ett problem för mycket gamla system) och att uppstart från sådana
    media är aktiverat i BIOS/UEFI.

  • Om du hämtat en iso-avbildning, kontrollera att md5-kontrollsumman för
    avbildningar matchar den som listas för avbildningen i filen MD5SUMS som
    bör finnas på samma plats som där du hämtade avbildningen från.

    $ md5sum debian-testing-i386-netinst.iso
    a20391b12f7ff22ef705cee4059c6b92  debian-testing-i386-netinst.iso

    Kontrollera sedan att md5-kontrollsumman för den brända skivan matchar
    också. Följande kommando bör fungera. Det använder storleken på
    avbildningen för att läsa det korrekta antalet byte från skivan.

    $ dd if=/dev/cdrom | \
    > head -c `stat --format=%s debian-testing-i386-netinst.iso` | \
    > md5sum
    a20391b12f7ff22ef705cee4059c6b92  -
    262668+0 poster in
    262668+0 poster ut
    134486016 bytes (134 MB) kopierade, 97.474 sekunder, 1.4 MB/s

Om skivan inte upptäcks efter att installationsprogrammet har startats, kan det
ibland lösa problemet genom att helt enkelt försöka igen. Om du har mer än en
optisk enhet, försök att byta skivan till den andra enheten. Om det inte
fungerar eller om skivan känns igen men det finns fel när du läser från den,
försök med förslagen nedan. Vissa grundläggande kunskaper om Linux krävs för
detta. För att utföra något av kommandona bör du först byta till den andra
virtuella konsolen (VT2) och aktivera skalet där.

  • Växla till VT4 eller visa innehållet i /var/log/syslog (använd nano som
    redigerare) för att leta efter specifika felmeddelenden. Efter det,
    kontrollera även utskriften för dmesg.

  • Se efter i utdatat från dmesg om din optiska enhet identifierades. Du bör
    se någonting som liknar (raderna behöver inte nödvändigtvis vara lika):

    ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
    ata1.00: configured for UDMA/33
    scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
    sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
    cdrom: Uniform CD-ROM driver Revision: 3.20

    Om du inte ser någonting som liknar det här, är chansen att styrkortet som
    din enhet är ansluten till, inte känns igen eller inte stöds alls. Om du
    vet vilken drivrutin som behövs för styrkortet, kan du prova att läsa in
    den manuellt med modprobe.

  • Kontrollera att det finns en enhetsnod för din optiska enhet under /dev/. I
    ovanstående exempel skulle detta vara /dev/sr0. Det bör även finnas en /dev
    /cdrom.

  • Använd kommandot mount för att kontrollera att din optiska skiva redan är
    monterad, om inte, försök att montera den manuellt:

    $ mount /dev/hdc /cdrom

    Kontrollera om det uppstod felmeddelanden efter körning av kommandot.

  • Kontrollera om DMA för närvarande är aktiverat:

    $ cd /proc/ide/hdc
    $ grep dma settings
    using_dma      1       0       1       rw

    En "1" i första kolumnen efter using_dma betyder att det är aktiverat. Om
    det är, försök att inaktivera det:

    $ echo -n "using_dma:0" >settings

    Se till att du är i katalogen för enheten som motsvarar din optiska enhet.

  • Om det uppstår problem under installationen, prova att kontrollera
    integriteten för installationsmedia med alternativen nära slutet på
    installationsprogrammets huvudmeny. Det här alternativet kan även användas
    som ett allmänt test för att se om skivan kan läsas tillförlitligt.

5.4.2. Uppstartskonfiguration

Om du har problem med att kärnan hänger sig under uppstartsprocessen, inte
känner igen kringutrustning som du faktiskt har, eller inte korrekt detekterar
vissa enheter, är uppstartsparametrarna det första att kontrollera, vilket
diskuteras i Avsnitt 5.3, "Uppstartsparametrar".

I vissa fall kan funktionsstörningar orsakas av att enhetens firmware saknas
(se Avsnitt 2.2, "Enheter som kräver fast programvara" och Avsnitt 6.4, "Läsa
in saknad fast programvara").

5.4.3. Talsynteser (mjukvara)

Om mjukvarutalsyntes inte fungerar är det troligtvis ett problem med ditt
ljudkort, vanligtvis för att antingen drivrutinen för det inte ingår i
installationsprogrammet eller för att det har ovanliga mixernivånamn som är
inställda på tyst som standard. Du bör därför skicka in en buggrapport som
inkluderar utdata av följande kommandon, körs på samma maskin från ett
Linux-system som är känt för att fungera (t.ex. en live-CD).

  • dmesg

  • lspci

  • lsmod

  • amixer

5.4.4. Vanliga 64-bit PC Installationsproblem

Det finns några vanliga installationsproblem som kan lösas eller undvikas genom
att skicka med vissa uppstartsparametrar till installationsprogrammet.

Om din skärm börjar visa en konstig bild vid uppstart av kärnan, exempelvis
vitt, svart eller färgat bildpunktsskräp, kan ditt system innehålla ett
problematiskt grafikkort som inte kan byta till framebuffer-läget korrekt. Då
kan du använda uppstartsparametern vga=normal nomodeset för att inaktivera
framebuffer-konsollen. Endast ett fåtal språk kommer då att finnas tillgängliga
under installationen på grund av begränsade konsollfunktioner. Se Avsnitt 5.3,
"Uppstartsparametrar" för detaljer.

5.4.4.1. Systemet fryser under konfigurationsfasen för PCMCIA

Vissa väldigt gamla modeller av bärbara datorer producerade av Dell är kända
att krascha när identifiering av PCMCIA-enheter försöker komma åt vissa
maskinvaruadresser. Andra bärbara kan visa liknande problem. Om du upplever
sådana problem och du inte behöver PCMCIA-stöd under installationen kan du
inaktivera PCMCIA med uppstartsparametern hw-detect/start_pcmcia=false. Du kan
då konfigurera PCMCIA efter installationen är genomförd och undanta
resursintervallet som orsakar problemen.

Alternativt kan du starta upp installationsprogrammet i expertläget. Du kommer
då att bli frågad att ange inställningar för resursintervall som din maskinvara
behöver. Till exempel, om du har en av Dells bärbara datorer som nämndes ovan,
bör du ange exclude port 0x800-0x8ff här. Det finns också en lista på några
vanliga resursintervall i System resource settings section of the PCMCIA HOWTO.
Observera att du måste ta bort eventuella kommatecken när du anger det här
värdet i installationsprogrammet.

5.4.5. Tolkning av kärnans uppstartsmeddelanden

Under uppstartssekvensen kanske du se många meddelanden liknande can't find
någonting , eller någonting not present, can't initialize någonting, eller till
och med this driver release depends on någonting. De flesta av de här
meddelandena är harmlösa. Du ser dem för att kärnan för installationssystemet
är byggd för att köras på många olika datorer och med många olika
kringutrustningsenheter. Ingen dator kommer så klart att innehålla alla
tänkbara kringutrustningsenheter, så operativsystemet kan klaga en hel del när
den letar efter kringutrustning som du inte har. Du kan också se att systemet
gör en paus. Det händer när det väntar på att en enhet ska svara, och att den
enheten finns inte i ditt system. Om du tycker att tiden det tar att starta upp
systemet är på tok för lång, kan du skapa en anpassad kärna senare (se
Avsnitt 8.5, "Bygg en ny kärna").

5.4.6. Rapportering av installationsproblem

Om du kommer igenom den inledande uppstartsfasen men inte kan slutföra
installationen kan menyalternativet Spara felsökningsloggar vara till hjälp.
Det låter dig lagra systemfelloggar och konfigurationsinformation från
installationsprogrammet på ett lagringsmedium, eller ladda ner dem med en
webbläsare. Denna information kan ge ledtrådar om vad som gick fel och hur man
åtgärdar det. Om du skickar in en felrapport kanske du vill bifoga denna
information till felrapporten.

Andra relevanta installationsmeddelanden kan hittas i /var/log/ under
installationen, och /var/log/installer/ efter datorn har startats om till det
nyligen installerade systemet.

5.4.7. Skicka installationsrapporter

Om du fortfarande har problem, skicka in en installationsrapport (på engelska
snälla, när det är möjligt). Vi uppmuntrar att installationsrapporter skickas
in även om installationen lyckats, så att vi kan få så mycket information som
möjligt om många olika maskinvarukonfigurationer.

Observera att din installationsrapport kommer att publiceras i Debians
felhanteringssystem (BTS) och vidarebefordras till en publik sändlista. Se till
att du använder en e-postadress som du inte har några problem med att den
används publikt.

Om du har ett fungerande Debian-system är det enklaste sättet att skicka in en
installationsrapport att installera paketen installation-report och reportbug (
apt install installation-report reportbug), konfigurera reportbug som det
förklaras i Avsnitt 8.4.2, "Skicka e-post utanför systemet", och kör kommandot 
reportbug installation-reports.

Alternativt kan du använda den här mallen när du fyller i
installationsrapporter och arkivera rapporten som en felrapport mot
pseudopaketet installation-reports genom att skicka den via e-post till <
submit@bugs.debian.org>.

Uppstartsmetod: <Hur startade du upp installationsprogrammet? CD/DVD? USB sticka? Nätverk?>
Avbildsversion: <Fullständig URL till avbilden du laddade ner är bäst>
Datum: <Datum och tid för installationen>

Maskin: <Beskrivning av maskin (t.ex. IBM Thinkpad R32)>
Processor:
Minne:
Partitioner: <df -Tl fungerar; den råa partitionstabellen är att föredra>

Utdata från lspci -knn (eller lspci -nn):

Checklista för installation av bassystem:
[O] = OK, [E] = Fel (vänligen utveckla nedan), [ ] = försökte inte

Första uppstart: [ ]
Upptäcktes nätverkskortet: [ ]
Konfigurerades nätverket: [ ]
Upptäcktes media: [ ]
Laddades installationsmoduler: [ ]
Upptäcktes hårddisk/hårddiskarna: [ ]
Partitionerades hårddiskar/hårddiskarna: [ ]
Installerades bassystemet: [ ]
Inställning av klocka/tidszon: [ ]
Fungerade Användar/lösenordsinställningar: [ ]
Gick alla Installationsuppgifter igenom: [ ]
Installerades starthanteraren: [ ]
Total installation: [ ]

Kommentarer/problem:

<Beskrivning av installationen, i prosa, och eventuella tankar, kommentarer
       och idéer du hade under den första installationen.>

Se till att alla installationsloggar som du tror skulle
vara användbara bifogas denna rapport. (Du hittar dem i installationsprogrammet
i /var/log/ och senare på det installerade systemet under
/var/log/installer.) Komprimera stora filer med gzip.


Beskriv i felrapporten vad problemet är, inklusive de senaste synliga
kärnmeddelandena i händelse av att kärnan hänger sig. Beskriv stegen som du
gjorde som förde systemet till problemtillstånd.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[3] Med aktuella kärnor (2.6.9 eller senare) kan du använda 32
kommandoradsflaggor och 32 miljöflaggor. Om dessa tal överstigs, kommer kärnan
att få panik. Det finns också en gräns på 255 tecken för hela kärnans
kommandorad, allt över denna gräns kan avkortas tyst.

Kapitel 6. Användning av Debian Installer

Innehållsförteckning

6.1. Hur installationsprogrammet fungerar
    6.1.1. Användning av det grafiska installationsprogrammet
6.2. Introduktion till komponenter
6.3. Användning av individuella komponenter
    6.3.1. Konfiguration av Debians installationsprogram och maskinvara
    6.3.2. Skapa användare och lösenord
    6.3.3. Konfigurera klockan och tidszon
    6.3.4. Partitionering och val av monteringspunkter
    6.3.5. Installation av grundsystemet
    6.3.6. Installera ytterligare programvara
    6.3.7. Gör ditt system klart för uppstart
    6.3.8. Färdigställ installationen
    6.3.9. Felsökning
    6.3.10. Installation över network-console
6.4. Läsa in saknad fast programvara
    6.4.1. Förbereda ett media
    6.4.2. Fast programvara och det installerade systemet
    6.4.3. Slutför det installerade systemet
6.5. Anpassningar
    6.5.1. Installera ett alternativt init system

6.1. Hur installationsprogrammet fungerar

För denna arkitektur stöder debian-installer två olika användargränssnitt: ett
grafiskt och ett textbaserat. Det grafiska gränssnittet används som standard om
du inte väljer ett "Installations" alternativ i uppstartmenyn. För mer
information om att starta upp det grafiska installationsprogrammet, se
Avsnitt 5.1.6, "Det grafiska installationsprogrammet".

Debians installationsprogram innehåller ett antal komponenter för speciella
ändamål för att genomföra varje funktion i installationen. Varje komponent gör
sin funktion och ställer frågor till användaren vars svar behövs för att utföra
jobbet. Själva frågorna ger olika prioriteringar och prioriteten för frågorna
som kommer att ställas ställs in när installationsprogrammet startas.

När en standardinstallation är genomförd kommer endast viktiga (hög prioritet)
frågor att ställas. Det här resulterar i en mycket automatiserad
installationsprocess med liten interaktivitet för användaren. Komponenter körs
automatiskt i sekvens; vilka komponenter som körs beror huvudsakligen på
installationsmetoden du använder och på din maskinvara. Installationsprogrammet
kommer att använda förvalda värden för frågor som inte ställs.

Om problem uppstår kommer användaren att se ett felmeddelande och
installationsmenyn kan visas för att välja en alternativ åtgärd. Om det inte
uppstår problem kommer användaren aldrig att se installationsmenyn utan kommer
helt enkelt svara på frågor för varje komponent i turordning. Meddelanden om
allvarliga fel har "kritisk" prioritet så att användaren alltid blir
notifierad.

Några av de förvalda värden som installationsprogrammet använder kan ges genom
att skicka med uppstartsargument när debian-installer startas. Om, till exempel
du önskar att tvinga fram statisk nätverkskonfiguration (IPv6-autokonfiguration
och DHCP används som standard om tillgänglig) kan du lägga till
uppstartsparametern netcfg/disable_autoconfig=true. Se Avsnitt 5.3.2,
"Parametrar för Debian Installer" för tillgängliga flaggor.

Erfarna användare kan känna sig mer komfortabla med ett menydrivet gränssnitt
där varje steg kontrolleras av användaren i stället för att
installationsprogrammet genomför varje steg automatiskt i sekvens. För att
använda installationsprogrammet på ett manuellt menydrivet sätt kan du lägga
till uppstartsargumentet priority=medium.

Om din maskinvara kräver att du skickar med flaggor till kärnmodulerna när de
installeras behöver du starta upp installationsprogrammet i "expert"läget. Det
här kan göras genom att antingen använda kommandot expert för att starta
installationsprogrammet eller genom att lägga till uppstartsargumentet priority
=low. Expertläget ger dig full kontroll över debian-installer.

I den textbaserade miljön stöds inte användningen av en mus. Här är tangenterna
som du kan använda för att navigera i de olika dialogrutorna. Tab eller höger
piltangent flyttar "framåt" och Skift+Tabb eller vänster piltangent flyttar "
bakåt" mellan visade knappar och val. Piltangenterna upp och ned väljer olika
poster i den rullbara listan och rullar även själva listan. Dessutom går det
att, i långa listor, trycka en bokstav för att rulla direkt till det avsnitt
som börjar med den bokstav du tryckte. Det går också att använda Pg-Up och 
Pg-Down för att rulla listan i avsnitt. Blanksteg väljer en post såsom en
kryssruta. Använd Enter för att aktivera val.

Vissa dialogrutor kan erbjuda ytterligare hjälp. Om hjälp finns så kommer det
att indikeras på nedre raden i skärmen och den hjälpinformationen kan kommas åt
genom att trycka på F1-tangenten.

Felmeddelanden omdirigeras till den tredje konsollen. Du kan tillgå den här
konsollen genom att trycka Vänster Alt+F3 (håll nere vänster Alt-tangent när du
trycker ned funktionstangenten F3); gå tillbaka till huvudkonsollen för
installationsprogrammet med Vänster Alt+F1.

Dessa meddelanden kan också hittas i /var/log/syslog. Efter installation blir
den här loggen kopierad till /var/log/installer/syslog på ditt nya system.
Andra installationsmeddelanden kan hittas i /var/log/ under installationen och
/var/log/installer/ efter att datorn har startats om till det nya systemet.

6.1.1. Användning av det grafiska installationsprogrammet

Det grafiska installationsprogrammet fungerar i princip på samma sätt som det
textbaserade installationsprogrammet och resten av denna handbok kan därmed
användas för att vägleda dig genom installationsprocessen.

Om du föredrar att använda tangentbordet över musen, så är det två saker du
behöver veta. För att expandera en komprimerad lista (används t.ex. för att
välja länder inom kontinenter), kan du använda tangenterna + och -. För frågor
där mer än ett objekt kan väljas (t.ex. uppgiftsval), måste du först gå till 
Fortsätt knappen efter att ha gjort dina val; Om du trycker på Enter växlar du
ett val, inte aktiverar Fortsätt.

Om en dialogruta erbjuder ytterligare hjälpinformation, kommer en Hjälp-knapp
att visas. Hjälpinformationen kan nås antingen genom att aktivera knappen eller
genom att trycka på F1-tangenten.

För att ändra till en annan konsol, du måste också använda Ctrl knappen, precis
som med X fönster systemet. Till exempel, för att byta till VT2 (det första
felsökningsskalet) skulle du använda: Ctrl+Vänster Alt+F2. Det grafiska
installationprogrammet själv kör på VT5, så du kan använda Vänster Alt+F5 för
att byta tillbaka.

6.2. Introduktion till komponenter

Här är en lista på installationskomponenter med en kort beskrivning av varje
komponents syfte. Detaljer du kanske behöver känna till om en specifik
komponent finns i Avsnitt 6.3, "Användning av individuella komponenter".

main-menu

    Visar listan av komponenter för användaren under installationen och startar
    en komponent när den väljs. Huvudmenyns frågor är satta till medium
    prioritet så om din prioritet är satt till hög eller kritisk (hög är
    förvald) kommer du inte att se den här menyn. Om det inträffar fel som
    kräver ingripande från dig kommer prioriteten att nergraderas temporärt för
    att låta dig lösa problemet och i så fall kommer menyn att visas.

    Du kan komma till huvudmenyn genom att välja Bakåt-knappen flera gånger för
    att backa hela vägen ut ur nuvarande komponent.

localechooser

    Låter användaren lokalanpassa installationen och det installerade systemet:
    språk, land och lokaler. Installationsprogrammet kommer att visa
    meddelanden på det valda språket om inte översättningen för det språket
    inte är komplett och då kommer vissa meddelanden att visas på engelska.

console-setup

    Visar en lista på tangentbord(layouter) från vilken användaren kan välja en
    som passar bäst för hans egen modell.

hw-detect

    Identifierar automatiskt det mesta av systemets maskinvara inklusive
    nätverkskort, diskettenheter och PCMCIA.

cdrom-detect

    Letar efter och monterar Debians installations-media.

netcfg

    Konfigurerar datorns nätverksanslutning så att den kan kommunicera mot
    Internet.

iso-scan

    Söker efter ISO-avbildningar (.iso-filer) på hårddiskar.

choose-mirror

    Presenterar en lista av Debian-arkivets speglar. Användaren kan välja
    källan för sina installationspaket.

cdrom-checker

    Kontrollerar installationsmediets integritet. På detta sätt kan användaren
    försäkra sig om att installationsavbilden inte är skadad.

lowmem

    Lowmem försöker att identifiera system med lite minne och gör då olika
    trick att ta bort onödiga delar av debian-installer från minnet (på
    bekostnad av vissa funktioner).

anna

    Anna's Not Nearly APT. Installerar paket som har hämtats från den valda
    spegeln eller installations media.

user-setup

    Ställer in root-lösenordet och lägger till en icke-root-användare.

clock-setup

    Uppdaterar systemklockan och fastställer huruvida klockan är inställd till
    UTC eller inte.

tzsetup

    Väljer tidszonen, baserat på platsen som valdes tidigare.

partman

    Låter användaren partitionera hårddiskar ansluta till systemet, skapa
    filsystem på de valda partitionerna och ansluta dem till monteringspunkter.
    Inkluderat är också intressanta funktioner som ett fullt automatiskt läge
    eller stöd för LVM. Det här är det verktyg som föredras för partitionering
    i Debian.

partman-lvm

    Hjälper användaren med konfigurationen av LVM (logisk volymhantering).

partman-md

    Låter användaren ställa in programvaru-RAID (Redundant Array of Inexpensive
    Disks). Den här programvaru-RAID är normalt sett överlägsen till de billiga
    IDE (pseudomaskinvara) RAID-styrkort som finns på nyare moderkort.

base-installer

    Installerar de mest enkla paketuppsättningar som tillåter datorn att köra
    Debian GNU/Linux efter omstart.

apt-setup

    Konfigurerar apt, mestadels automatiskt, baserad på vilket media som
    installationsprogrammet körs från.

pkgsel

    Använder tasksel för att välja och installera ytterligare programvara.

os-prober

    Identifierar nuvarande installerade operativsystem på datorn och skickar
    informationen till bootloader-installer vilken kan erbjuda dig möjligheten
    att lägga till upptäckta operativsystem till starthanterarens startmeny.
    Det här sättet gör att användaren lätt kan välja vilken operativsystem som
    ska startas vid uppstart.

bootloader-installer

    De olika installerarna av starthanterare installerar ett
    starthanteringsprogram på hårddisken som är nödvändig för att datorn ska
    starta upp med Linux utan att använda en USB-minne eller cd-rom. Många
    starthanterare låter användaren välja ett alternativt operativsystem varje
    gång datorn startas.

shell

    Låter användaren starta ett skal från menyn eller på den andra konsollen.

save-logs

    Ger ett sätt för användaren att spela in information på ett USB-minne,
    nätverk, hårddisk eller andra media när problem påträffas för att senare
    kunna skicka en noggrann rapport om problem i installationsprogramvaran
    till Debian-utvecklarna.

6.3. Användning av individuella komponenter

I det här avsnittet kommer vi att beskriva varje installationskomponent i
detalj. Komponenterna har blivit grupperade i steg som bör kännas igen av
användarna. De presenteras i den ordning de dyker upp under installationen.
Observera att inte alla moduler kommer att användas för varje installation;
vilka moduler som faktiskt används beror på installationsmetoden du använder
och på din maskinvara.

6.3.1. Konfiguration av Debians installationsprogram och maskinvara

Låt oss anta att Debian Installer har startat upp och du ser dess första skärm.
Vid den här punkten är de färdigheter som debian-installer har ganska
begränsade. Den vet inte mycket om din maskinvara, vilket språk som föredras
eller inte ens vilken funktion installation ska ha. Var lugn. På grund av att
debian-installer är ganska smart kan den automatiskt söka av din maskinvara,
lokalisera resten av sina komponenter och uppgradera sig själv till ett
kapabelt installationssystem. Dock, du behöver fortfarande hjälpa
debian-installer med viss information som den inte kan fastställa automatiskt
(såsom välja ditt föredragna språk, tangentbordslayout eller val av
nätverksspegel).

Du kommer att märka att debian-installer genomför identifiering av maskinvara
flera gånger under det här steget. Första gången är målet den maskinvara som
behövs för att läsa in komponenter för installationsprogrammet (exempelvis din
cd-rom eller nätverkskort). Eftersom alla drivrutiner kanske inte finns
tillgängliga under den första körningen behövs en repetering av identifieringen
senare i processen.

Under maskinvarudetektering så kontrollerar debian-installer om några av
drivrutinerna för maskinvaran i ditt system kräver att fast programvara läses
in. Om någon fast programvara begärs men inte finns tillgänglig så kommer en
dialogruta att visas där saknad fast programvara läses in från ett flyttbart
media. Se Avsnitt 6.4, "Läsa in saknad fast programvara" för ytterligare
detaljer.

6.3.1.1. Kontrollera tillgängligt minne / minimalt minnesläge

En av de första sakerna som debian-installer gör är att kontrollera
tillgängligt minne. Om det tillgängliga minnet är begränsat kommer den här
komponenten att göra ändringar i installationsprocessen som förhoppningsvis
låter dig installera Debian GNU/Linux på ditt system.

Den första åtgärden man kan göra för att minska installationsprogrammets
minneskonsumtion är att inaktivera översättningar, vilket betyder att
installationen endast kan göras på engelska. Du kan så klart fortfarande
lokalanpassa det installerade system tefter installationen har färdigställts.

Om detta inte är tillräckligt kommer installationsprogrammet att minska
minnesbehovet ytterligare genom att enbart läsa in de komponenter som är
nödvändiga för att genomföra en grundinstallation. Det här minskar
installationssystemets funktionalitet. Du kommer att ges möjlighet att läsa in
individuella komponenter manuellt, men du ska vara medveten om att varje
komponent du väljer använder ytterligare minne och kan således göra att
installationen misslyckas.

När installationsprogrammet har anpassat sig till ett litet minne så bör du
skapa en förhållandevis stor växlingspartition (1-2GB). Växlingspartitionen
används som virtuellt minne och ökar således mängden minne som är tillgängligt
för systemet. Installationsprogrammet kommer att använda växlingspartitionen så
snart som möjligt i installationsprocessen. Observera att mycket användning av
växlingsutrymmet kommer att minska ditt systems prestanda och kan leda till hög
nyttjandegrad av systemets disk.

Trots dessa åtgärder är det ändå möjligt att ditt system låser sig, att
oväntade fel uppstår eller att processer avslutas av kärnan för att systemet
har slut på minne (vilket resulterar i "Out of memory"-meddelanden på VT4 och i
systemloggen).

Det har till exempel rapporterats om misslyckanden med att skapa ett stort
filsystem av typen ext3 i lågminnesläget, när det finns för lite
växlingsutrymme. Om ett stort växlingsutrymme inte hjälper, prova då istället
att skapa filsystemet som ext2 (vilket är en basfunktion i
installationsprogrammet). Det är möjligt att ändra en ext2-partition till ext3
efter installationen.

Det är möjligt att tvinga installationsprogrammet till att använda en högre
lowmem-nivå än den som är baserad på tillgängligt minne genom att använda
uppstartsparametern "lowmem" som beskrivs i Avsnitt 5.3.2, "Parametrar för
Debian Installer".

6.3.1.2. Val av lokalanpassningsalternativ

I de flesta fall är de första frågorna som ställs angående valet av
lokalanpassningsalternativ som kommer att användas både för installationen och
för det installerade systemet. Lokalanpassningsalternativen består av plats och
lokaler.

Språket du väljer kommer att användas i resten av installationsprocessen om en
översättning av de olika dialogerna finns tillgänglig. Om ingen giltig
översättning finns tillgänglig för det valda språket kommer
installationsprogrammet att falla tillbaka på engelska.

Den valda geografiska platsen (i de flesta fall ett land) kommer att användas
senare i installationsprocessen för att välja rätt tidszon och en Debian spegel
som är lämplig för det landet. Språk och land tillsammans hjälper till att
bestämma standardspråket för ditt system och välja rätt tangentbordslayout.

Du kommer först att bli frågad att välja ditt föredragna språk. Namnen på
språken listas på både engelska (vänstra sidan) och på själva språket (högra
sidan); namnen på högra sidan visas också i språkets korrekta skrift. Listan är
sorterad efter de engelska namnen. På toppen av listan finns ett extra
alternativ som låter dig att välja lokalen "C" istället för ett språk. Välja
lokalen "C" betyder att installationen fortsätter på engelska; det installerade
systemet kommer inte att ha något stöd för lokalanpassning eftersom paketet
locales inte kommer att installeras.

Därefter blir du ombedd att välja din geografiska plats. Om du valde ett språk
som är erkänt som ett officiellt språk för fler än ett land^[4], kommer du
härnäst att bli visad en lista över endast dessa länder. För att välja ett land
som inte finns i listan väljer du Annat (sista alternativet). Du kommer då att
få se en lista över kontinenter; välj en kontintent för att lista relevanta
länder på den kontinenten.

Om språket bara har ett land associerat med det kommer en lista med länder att
visas för kontinenten eller regionen landet tillhör, med det landet som
standard. Använd Bakåt alternativet för att välja länder på en annan kontinent.

Notera

Det är viktigt att välja det land där du bor eller var du befinner dig eftersom
det bestämmer den tidszon som ska konfigureras för det installerade systemet.

Om du valde en kombination av språk och land för vilket ingen språkkod är
definierad och det finns flera språk för språket, låter installationsprogrammet
dig välja vilken av dessa språk du föredrar som standardspråk för det
installerade systemet^[5]. I alla andra fall kommer en standardlokal att väljas
baserat på det valda språket och landet.

Alla standardlokaler som valts enligt beskrivningen i föregående stycke kommer
att använda UTF-8 som teckenkodning.

Om du installerar med låg prioritet har du möjlighet att välja ytterligare
lokaler, inklusive så kallade "legacy"-lokaler^[6], som ska genereras för det
installerade systemet; om du gör det kommer du att bli tillfrågad vilken av de
valda lokalerna som ska vara standard för det installerade systemet.

6.3.1.3. Val av tangentbord

Tangentbord är ofta anpassade efter de tecken som används i ett språk. Välj en
layout som gäller för tangentbordet du använder, eller välj något som liknar
det om tangentbordslayouten du vill välja inte finns. När installationen av
systemet är färdig kommer du kunna välja en tangentbordslayout från en bredare
skala (kör dpkg-reconfigure keyboard-configuration som root efter att du har
färdigställt installationen).

Flytta markören till tangentbordsvalet du önskar och tryck på Enter. Använd
piltangenterna för att flytta markören -- de är på samma plats för alla
tangentbordslayouter på alla språk, så de är oberoende av
tangentbordskonfiguration.

6.3.1.4. Leta efter en ISO-avbildning för Debian Installer

När installation görs via metoden hd-media kommer du till en punkt där du
behöver hitta och montera iso-avbildningen för Debian Installer för att få tag
på resten av installationsfilerna. Komponenten iso-scan gör exakt det.

Först monterar iso-scan automatiskt alla blockenheter (exempelvis partitioner
och logiska volymer) som har något känt filsystem på sig och söker sekventiellt
efter filnamn som slutar på .iso (eller .ISO för den sakens skull). Tänk på att
det första försöket söker endast av filer i rotkatalogen på i första nivån av
underkatalogerna (alltså, den hittar /vadsomhelst.iso, /data/vadsomhelst.iso,
men inte /data/tmp/vadsomhelst.iso). Efter en iso-avbildning har hittats,
kontrollerar iso-scan dess innehåll för att fastställa om avbilden är en giltig
Debian-avbild eller inte. I det första fallet är vi klara, i det senare söker 
iso-scan efter en annan avbild.

Om det tidigare försöket att hitta en iso-avbildning för
installationsprogrammet misslyckades, kommer iso-scan att fråga dig om du vill
genomföra en mer genomgående sökning. Den här fasen kommer inte bara att se på
de översta katalogerna utan gå igenom hela filsystemet.

Om iso-scan inte hittar din iso-avbildning för installationsprogrammet, starta
om till ditt ursprungliga operativsystem och kontrollera om avbilden är
namngiven korrekt (slutar på .iso), om den är placerad på ett filsystem som
känns igen av debian-installer, och om det inte är skadat (validera
kontrollsumman). Erfarna Unix-användare kunde ha gjort det här på andra
konsollen, utan att starta om.

Observera att partitionen (eller disken) som är värd för ISO-avbildningen inte
kan återanvändas under installationsprocessen eftersom den kommer att användas
av installationsprogrammet. För att komma runt detta, och förutsatt att du har
tillräckligt med systemminne, kan installationsprogrammet kopiera
ISO-avbildningen till RAM-minnet innan det monteras. Detta styrs av den
lågprioriterade iso-scan/copy_iso_to_ram debconf-frågan (den frågar bara om
minneskravet är uppfyllt).

6.3.1.5. Konfigurera nätverket

När du kommer till det här steget, om systemet upptäcker att du har fler än en
nätverksenhet, kommer du att bli frågad att välja vilken enhet som ska vara
ditt primära nätverksgränssnitt, alltså det som du vill använda för
installationen. Övriga gränssnitt kommer inte att bli konfigurerade vid den här
tidpunkten. Du kan konfigurera ytterligare gränssnitt efter att installationen
är färdig; se manualsidan interfaces(5).

6.3.1.5.1. Automatisk nätverkskonfiguration

Som standard är debian-installer konfigurerat att försöka konfigurera din
dators nätverk automatiskt så långt det är möjligt. Om den automatiska
konfigurationen misslyckas, kan det bero på många faktorer, från en urkopplad
nätverkskabel till saknad infrastruktur för automatisk konfiguration. För
ytterligare förklaring vid fel, kontrollera felmeddelandena på den fjärde
konsolen. I vilket fall som helst kommer du att bli tillfrågad om du vill
försöka igen, eller om du vill utföra en manuell inställning. Ibland kan
nätverkstjänsterna som används för autokonfiguration vara långsamma i sina
svar, så om du är säker på att allt är på plats, starta helt enkelt
autokonfigurationsförsöket igen. Om autokonfigurationen misslyckas upprepade
gånger kan du istället välja den manuella nätverksinställningen.

6.3.1.5.2. Manuell nätverkskonfiguration

Den manuella nätverkskonfigurationen ställer dig i sin tur ett antal frågor om
ditt nätverk, särskilt IP-adress, Nätmask, Gateway, Namnserver adresser och ett
Värdnamn. Dessutom, om du har ett trådlöst nätverksgränssnitt kommer du att bli
ombedd att ange ditt Trådlösa ESSID ("trådlöst nätverksnamn") och en WEP-nyckel
eller WPA/WPA2-lösenfras. Fyll i svaren från Avsnitt 3.3, "Information du
behöver".

Notera

Några tekniska detaljer du kanske, eller kanske inte, tycker är smidiga:
programmet antar att nätverkets IP-adress är bitvis-OCH av ditt systems
IP-adress och din nätmask. Den kommer att gissa att broadcast-adressen är
bitvis-ELLER av ditt systems IP-adress med bitvis negation av nätmasken. Den
kommer även att gissa din gateway. Om du inte kan hitta något av de här svaren,
använd dessa standardvärden -- du kan ändra dem när systemet har installerats,
om det behövs, genom att redigera /etc/network/interfaces när systemet har
blivit installerat.

6.3.1.5.3. IPv4 och IPv6

Från Debian GNU/Linux 7.0 ("Wheezy") och framåt, debian-installer stödjer IPv6
så väl som "klassisk" IPv4. Alla kombinationer av IPv4 och IPv6 (IPv4-endast,
IPv6-endast och dual-stack-konfigurationer) är stöda.

Autokonfiguration för IPv4 görs via DHCP (Dynamic Host Configuration Protocol).
Autokonfiguration för IPv6 stöder tillståndslös autokonfiguration med hjälp av
NDP (Neighbor Discovery Protocol, inklusive tilldelning av rekursiv DNS-server
(RDNSS), tillståndsstyrd autokonfiguration via DHCPv6 och blandad tillståndslös
autokonfiguration (adresskonfiguration via NDP, ytterligare parametrar via
DHCPv6).

6.3.2. Skapa användare och lösenord

Strax innan du konfigurerar klockan kommer installationsprogrammet att låta dig
konfigurera "root"-kontot och/eller ett konto för den första användaren. Andra
användarkonton kan skapas efter att installationen har färdigställts.

6.3.2.1. Ställa in ett lösenord för root

Kontot root kallas även för superanvändare; det är ett konto som kringgår alla
säkerhetsskydd på ditt system. Root-kontot bör endast användas för
systemadministration och endast användas under en så kort tid som möjligt.

Lösenord som du skapar bör innehålla åtminstone 6 tecken och bör innehålla både
versaler och gemener, såväl som specialtecken. Ta extra hänsyn när du ställer
in ditt root-lösenord eftersom det är ett sådant kraftfullt konto. Undvik ord
som man hittar i ordböcker eller användning av personlig information som lätt
kan gissas.

Om någon berättar för dig att de behöver ditt root-lösenord, var extremt
försiktig. Du bör normalt sett aldrig ge ut ditt root-lösenord, om du inte
administrerar en maskin med fler än en systemadministratör.

Om du inte anger ett lösenord för "root"-användaren här, kommer detta konto att
inaktiveras men paketet sudo kommer att installeras senare för att möjliggöra
att administrativa uppgifter kan utföras på det nya systemet. Som standard
kommer den första användaren som skapas på systemet att tillåtas använda
kommandot sudo för att bli root.

6.3.2.2. Skapa en vanlig användare

Systemet kommer att fråga dig om du önskar att skapa ett vanligt användarkonto
vid den här punkten. Det här kontot bör vara ditt huvudsakliga personliga
konto. Du bör inte använda rootkontot för dagligt bruk eller som ditt
personliga konto.

Varför inte? Tja, en anledning är att undvika att använda roots privilegier är
att det är mycket lätt att skada något som root och som inte går att rätta
till. En annan anledning är att du kanske luras till att köra en trojansk häst
-- det är ett program som utnyttjar krafterna av din superanvändare för att
åsidosätta säkerheten i ditt system bakom din rygg. En bra bok om
systemadministration i Unix täcker in det här ämnet mer i detalj -- om det här
är nytt för dig, fundera på att läsa en sådan bok.

Du kommer första att bli frågad efter användarens fullständiga namn. Sedan
kommer du att bli frågad efter ett namn på användarens konto; generellt sett
ditt förnamn eller något liknande det bör räcka och det är även standardvalet
här. Till slut kommer du bli frågad efter ett lösenord för kontot.

Om du vill skapa en annan användare vid en senare punkt efter installationen,
använd kommandot adduser.

6.3.3. Konfigurera klockan och tidszon

Installationsprogrammet kommer först att försöka att ansluta till en tidsserver
på Internet (med NTP-protokollet) för att ställa in systemtiden korrekt. Om
detta inte lyckas kommer installationsprogrammet att anta att den tid och datum
som hämtas från systemklockan, när installationssystemet startades upp, är
korrekt. Det är inte möjligt att manuellt ställa in systemtiden under
installationsprocessen.

Beroende på platsen som valdes i tidigare i installationsprocessen så kommer du
kanske att bli visad en lista över tidszoner som är relevanta för den platsen.
Om din plats endast har en tidszon och du gör en standardinstallation kommer du
inte att bli tillfrågad någonting, systemet antar att det är rätt tidszon.

I expertläge eller när du installerar med medelprioritet har du det extra
alternativet att välja "Coordinated Universal Time" (UTC) som tidszon.

Om du av någon anledning vill ställa in en tidszon för det installerade
systemet som inte matchar den valda platsen så finns det två alternativ.

 1. Det enklaste alternativet är att bara välja en annan tids-zon efter att
    installationen har färdigställts och du har startat upp det nya systemet.
    Kommandot för att göra detta är:

    # dpkg-reconfigure tzdata

 2. Alternativt kan tidszonen ställas in i början av installationen genom att
    skicka parametern time/zone=värde när du startar upp installationssystemet.
    Värdet ska så klart vara en giltig tidszon, till exempel Europe/London
    eller UTC.

För automatiska installationer kan tidszonen ställas in till önskat värde med
förinställning.

6.3.4. Partitionering och val av monteringspunkter

Vid den här tidpunkten, efter identifiering av maskinvara har startats en sista
gång, bör debian-installer vara vid sin fulla kraft, anpassad för användarens
behov och klar att göra ett riktigt jobb. Precis som titeln på det här
avsnittet indikerar är huvudfunktionen för de nästkommande komponenterna
partitionering av dina diskar, skapande av filsystem, tilldelning av
monteringspunkter och även konfigurering av närliggande saker som krypterade
LVM eller RAID-enheter.

Om du känner dig osäker med partitionering eller bara vill veta mer detaljer,
se Appendix C, Partitionera för Debian.

Först kommer du få möjligheten att automatiskt partitionera antingen en hel
disk eller ledigt utrymme på en disk. Det finns också en så kallad "guidad"
partitionering. Om du inte vill partitionera automatiskt, välj Manuell från
menyn.

6.3.4.1. Partitionsflaggor som stöds

Partitioneraren som används i debian-installer är ganska mångsidig. Det gör det
möjligt att skapa många olika partitioneringsscheman, med hjälp av olika
partitionstabeller, filsystem och avancerade blockenheter.

Exakt vilka alternativ som finns beror främst på arkitekturen, men även på
andra faktorer. Till exempel, på system med begränsat internminne kanske vissa
alternativ inte är tillgängliga. Standardinställningarna kan också variera.
Typen av partitionstabell som används som standard kan till exempel vara
annorlunda för hårddiskar med stor kapacitet än för mindre hårddiskar. Vissa
alternativ kan endast ändras vid installation med medel eller låg
debconf-prioritet; vid högre prioriteringar kommer förnuftiga standardvärden
att användas.

Installationsprogrammet har stöd för olika former av avancerad partitionering
och användningen av lagringsenheter, vilket i många fall kan kombineras.

  • Logisk volymhantering (LVM)

  • Programvaru-RAID

    RAID-nivåer som stöds är 0, 1, 4, 5, 6 och 10.

  • Kryptering

  • Multipath(experimentell)

    Se vår Wiki för mer information. Stöd för multipath är för närvarande
    endast tillgänglig om det är aktiverat när installationsprogrammet startas.

Följande filsystem stöds.

  • ext2, ext3, ext4

    Standardfilsystemet som väljs i de flesta fall är ext4.

  • jfs (inte tillgänglig på alla arkitekturer)

  • xfs (inte tillgänglig på alla arkitekturer)

  • reiserfs (valfri; inte tillgänglig på alla arkitekturer)

    Stöd för Reiser-filsystemet är inte längre tillgängligt som standard. När
    installationsprogrammet körs med medium eller låg debconf-prioritet kan det
    aktiveras genom att välja partman-reiserfs komponent. Endast version 3 av
    filsystemet stöds.

  • qnx4

    Befintliga partitioner kommer att kännas igen och det är möjligt att
    tilldela monteringspunkter för dem. Det är inte möjligt att skapa nya
    qnx4-partitioner.

  • FAT16, FAT32

  • NTFS (skrivskyddad)

    Befintliga NTFS-partitioner kan ändras och det är möjligt att tilldela
    monteringspunkter för dem. Det är inte möjligt att skapa nya
    NTFS-partitioner.

Partitioneraren accepterar enheter som kraft-av-tio (1 MB = 1000 kB = 1000000
B), såväl som kraft-av-två (1 MiB = 1024 kB = 1048576 B). Enhetsprefix stöds
fram till EB/EiB (exabyte/exbibyte).

6.3.4.2. Guidad partitionering

Om du väljer guidad partitionering har du tre alternativ: skapa partitioner
direkt på hårddisken (klassisk metod), skapa dem med logisk volymhantering
(LVM), eller att skapa dem med krypterad LVM^[7].

Notera

Alternativet att använda (krypterad) LVM kanske inte är tillgängligt på alla
arkitekturer.

När LVM eller krypterad LVM används kommer installationsprogrammet att skapa de
flesta partitioner inne i en stor partition; fördelen med den här metoden är
att partitioner inne i den här stora partitionen kan man enkelt ändra storlek
på senare. I fallet med krypterad LVM, kommer den stora partitionen inte vara
läsbar utan att känna till en speciell nyckelfras, vilket ger extra säkerhet
för ditt (personliga) data.

När krypterad LVM används, kommer installationsprogrammet även att automatiskt
radera disken genom att skriva slumpmässig data till den. Det här ökar på
säkerheten ytterligare (och gör det omöjligt att se vilka delar av disken som
används och ser även till att eventuella spår av tidigare installationer
raderas), men kan ta lite tid beroende på storleken på din disk.

Notera

Om du väljer guidad partitionering med LVM eller krypterad LVM, kommer vissa
ändringar i partitionstabellen att behöva skrivas till den valda disken när LVM
konfigureras. Dessa ändringar raderar effektivt all data som för närvarande
finns på den valda hårddisken och du kommer inte kunna ångra den här åtgärden.
Dock kommer installationsprogrammet fråga dig att bekräfta dessa ändringar
innan de skrivs till disken.

Om du väljer guidad partitionering (antingen klassisk eller med (krypterad)
LVM) för en hel disk, kommer du först att bli tillfrågad att välja disken som
du vill använda. Kontrollera att alla dina diskar är listade och, om du har
flera diskar, se till att väljer den korrekta disken. Ordningen som de listas i
kan skilja sig från vad du är van med. Storleken på diskarna kan hjälpa dig att
särskilja dem.

Allt data på disken du har valt kommer eventuellt att förloras, men du kommer
alltid att bli tillfrågad att bekräfta ändringarna innan de skrivs på disken .
Om du har valt klassisk metod för partitioneringen, kommer du kunna ångra
ändringarna fram till slutet; när (krypterad) LVM används är det här inte
möjligt.

Next, you will be able to choose from the schemes listed in the table below.
All schemes have their pros and cons, some of which are discussed in
Appendix C, Partitionera för Debian. If you are unsure, choose the first one.
Bear in mind that guided partitioning needs a certain minimal amount of free
space to operate with. If you don't give it at least about 3GB of space
(depends on chosen scheme), guided partitioning will fail. Also, on small disks
you will probably not see all of the schemes mentioned below.

┌───────────────────────────────────────────────┬──────────┬──────────────────┐
│              Partitioneringsplan              │  Minsta  │     Skapade      │
│                                               │ utrymme  │   partitioner    │
├───────────────────────────────────────────────┼──────────┼──────────────────┤
│Alla filer på en partition                     │8GB       │/, växl           │
├───────────────────────────────────────────────┼──────────┼──────────────────┤
│Separat partition för /home                    │9GB       │/, /home, växl    │
├───────────────────────────────────────────────┼──────────┼──────────────────┤
│Separata partitioner för /home, /var och /tmp  │12GB      │/, /home, /var, / │
│                                               │          │tmp, växl         │
├───────────────────────────────────────────────┼──────────┼──────────────────┤
│Separate /srv and /var partitions; swap limited│8GB       │/, /srv, /var,    │
│to 1GB (for server)                            │          │swap              │
├───────────────────────────────────────────────┼──────────┼──────────────────┤
│Scheme especially for small disks              │3GB       │/, växl           │
└───────────────────────────────────────────────┴──────────┴──────────────────┘

Om du väljer guidad partitionering med (krypterad) LVM kommer
installationsprogrammet även att skapa en separat partition för /boot. De andra
partitionerna, inklusive växlingsutrymmet, kommer att skapas inom
LVM-partitionen.

Om du har startat i EFI-läge kommer det att finnas en extra partition inom den
guidade partitioneringsinställningen, formaterad som ett FAT32-startbart
filsystem, för EFI-starthanteraren. Denna partition är känd som en EFI System
Partition (ESP). Det finns också ett extra menyalternativ i formateringsmenyn
för att manuellt ställa in en partition som en ESP.

Efter du valt en plan kommer nästa skärm att visa din nya partitionstabell,
inklusive information om hur och om partitionerna kommer att formateras och var
de kommer att monteras.

Listan över partitioner kan se ut som den här:

  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primär    16.4 MB  B f ext2       /boot
        #2 primär   551.0 MB      växl       växl
        #3 primär     5.8 GB      ntfs
           pri/log    8.2 MB      LEDIGT UTRYMME

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primär    15.9 MB      ext3
        #2 primär   996.0 MB      fat16
        #3 primär     3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logisk     1.0 GB    f ext3       /var
        #7 logisk   498.8 MB      ext3

Det här exemplet visar två hårddiskar som delats upp i flera partitioner;
första disken har ledigt utrymme. Varje partitionsrad innehåller
partitionsnumret, dess typ, storlek, valfria flaggor, filsystem och
monteringspunkt (om det finns någon). Observera: denna specifika konfiguration
kan inte skapas med en guidad partitionering men det visar en möjlig variation
som kan uppnås med manuell partitionering.

Det här sammanfattar den guidade partitioneringen. Om du är nöjd med den
genererade partitionstabellen kan du välja Slutför partitioneringen och skriv
ändringarna till hårddisken från menyn för att implementera den nya
partitionstabellen (som beskrivs i slutet av det här avsnittet). Om du inte är
nöjd kan du välja att Ångra ändringarna på partitionerna och köra den guidade
partitioneringen igen eller modifiera de föreslagna ändringarna som beskrivs
nedan för manuell partitionering.

6.3.4.3. Manuell partitionering

En liknande skärm till den som visades ovanför kommer att visas om du väljer
manuell partitionering förutom att din befintliga partitionstabell kommer att
visas och utan monteringspunkterna. Hur du manuellt konfigurerar din
partitionstabell och användningen av partitioner av ditt nya Debian-system
kommer att täckas in av den återstående delen av det här avsnittet.

Om du väljer en ren disk som inte har några partitioner eller ledigt utrymme på
sig, kommer du bli tillfrågad om en ny partitionstabell ska skapas (det behövs
så att du kan skapa nya partitioner). Efter det här ska en ny rad med texten "
LEDIGT UTRYMME" visas i tabellen under en valda disken.

Om du väljer ett ledigt utrymme kommer du bli erbjuden att skapa en ny
partition. Du kommer att få svara på några snabba frågor om dess storlek, typ
(primär eller logisk), och plats (början eller slutet på det lediga utrymmet).
Efter det kommer du att bli visad en detaljerad överblick av din nya partition.
Huvudinställningen är Använd som:, vilken bestämmer om partitionen kommer att
innehålla ett filsystem, eller användas som växlingsutrymme, programvaru-RAID,
LVM, ett krypterat filsystem, eller inte användas alls. Andra inställningar
inkluderar monteringspunkt, monteringsalternativ, och startbar-flaggan; vilka
inställningar som visas beror på hur partitionen kommer att användas. Om de
förinställda standardvärdena inte passar dig, kan du ändra dem för att passa
ditt system. Till exempel genom att välja alternativet Använd som:, kan du
välja ett annat filsystem för den här partitionen, inklusive alternativ för att
använda partitionen som växlingsutrymme, programvaru-RAID, LVM,, eller inte
använda alls. När du är nöjd med din nya partition, välj Klar med partitionen
och du återvänder till huvudskärmen i partman.

Om du bestämmer dig för att du vill ändra någonting på din partition, välj helt
enkelt partitionen för att ta dig till konfigurationsmenyn för partitioner. Det
här är samma skärm som när man skapar en ny partition, så du kan ändra samma
inställningar. En sak som kanske inte är självklar vid första anblicken är att
du kan ändra storleken på partitionen genom att välja posten som visar
partitionens storlek. Filsystem som är kända att fungera är bland annat fat16,
fat32, ext2, ext3 och swap (växlingsutrymme). Den här menyn låter dig även ta
bort en partition.

Var säker på att du skapar åtminstone två partitioner: en för rotfilsystemet
(som måste monteras som /) och en för swap (växlingsutrymme). Om du glömde att
montera rotfilsystemet kommer partman inte låta dig fortsätta förrän du har
rättat till det.

Om du startar i EFI-läge men glömmer att välja och formatera en
EFI-systempartition, kommer partman att upptäcka detta och låter dig inte
fortsätta förrän du tilldelar en.

Färdigheterna som partman besitter kan utökas med moduler, men är beroende på
din systemarkitektur. Om du inte kan se alla utlovade godsaker, kontrollera om
du har läst in alla nödvändiga moduler (exempelvis partman-ext3, partman-xfs
eller partman-lvm).

Efter att du är nöjd med partitioneringen, välj Slutför partitioneringen och
skriv ändringarna till hårddisken från partitioneringsmenyn. Du kommer att bli
visad ett sammandrag på ändringar gjorda på diskarna och bli frågad att
bekräfta skapandet av begärda filsystem.

6.3.4.4. Konfiguration av multidiskenheter (Programvaru-RAID)

Om du har fler än en hårddisk^[8] i din dator, kan du använda partman-md för
att ställa in dina diskar för ökad prestanda eller bättre tillförlitlighet på
ditt data. Resultatet kallas för Multidisk Device (eller efter dess mest kända
variant programvaru-RAID).

MD är enkelt sett en samling partitioner som finns på olika diskar och
kombineras ihop för att skapa en logisk enhet. Den här enheten kan sedan
användas som en vanlig partition (alltså, i partman kan du formatera den, ge
den en monteringspunkt, etc.).

Fördelarna som du får beror på den typ av MD-enhet du skapar. För närvarande
stöds:

RAID0

    Är huvudsakligen riktad mot prestanda. RAID0 delar upp all inkommande data
    i stripes och distribuerar dem jämnt över alla diskar i kedjan. Det här kan
    öka hastigheten på läs- och skrivoperationer men när en av diskarna går
    sönder kommer du att förlora allting (delar av informationen finns
    fortfarande på den friska disken (eller flera), den andra delen fanns på
    den trasiga disken).

    Typisk användning för RAID0 är en partition för videoredigering.

RAID1

    Är lämplig för konfigurationer där tillförlitlighet är ledordet. Den
    innehåller flera (vanligtvis två) lika stora partitioner där varje
    partition innehåller exakt samma data. Det här betyder tre saker. För det
    första, om en av dina diskar går sönder, kommer du fortfarande att ha data
    speglat på de återstående diskarna. För det andra, du kan endast använda en
    liten del av den tillgängliga kapaciteten (mer specifikt, det är storleken
    på den minsta partitionen i RAID-kedjan). För det tredje, filläsningar är
    lastbalanserade mellan diskarna, vilket kan öka prestandan på en server,
    såsom en filserver, som brukar vara belastad med fler diskläsningar än
    skrivningar.

    Du kan även ha en reservdisk i kedjan som kommer att ta över platsen för en
    trasig disk om något går fel.

RAID5

    Är en bra kompromiss mellan hastighet, tillförlitlighet och dataredundans.
    RAID5 delar upp all inkommande data i "stripes" och distribuerar dem jämnt
    på alla utan en disk (liknande RAID0). Tvärtemot RAID0 beräknar även RAID5
    paritetsinformation, som skrivs på den återstående disken. Paritetsdisken
    är inte statisk (det skulle kallas för RAID4), utan förändras periodvis, så
    att partitetsinformationen distribueras jämnt över alla diskar. När en av
    diskarna går sönder, kan den saknade delen av informationen beräknas
    utifrån det återstående datat och dess paritet. RAID5 måste innehålla
    åtminstone tre aktiva partitioner. Du kan även ha en reservdisk i kedjan
    som kommer att ta över platsen för en trasig disk om något går fel.

    Som du kan se, RAID5 har tillförlitlighet som liknar den för RAID1 men
    erbjuder mindre redundans. Å andra sidan är den kanske lite långsammare på
    skrivoperationer än RAID0 på grund av beräkningarna av paritetsinformation.

RAID6

    Liknar RAID5 förutom att den använder två paritetsdiskar istället för en.

    En RAID6-kedja kan överleva upp till två trasiga diskar.

RAID10

    RAID10 kombinerar stripning (som i RAID0) och spegling (som i RAID1). Den
    skapar n kopior av inkommande data och distribuerar dem över partitionerna
    så att ingen av kopiorna av samma data finns på samma disk. Standardvärdet
    för n är 2, men det kan ställas in till något annat expertläget. Antalet
    partitioner som används måste vara minst n. RAID10 har olika layouter för
    distribuering av kopior. Standard är nära kopior. Nära kopior har alla
    kopior på samma position på alla diskarna. Fjärran kopior har kopiorna på
    olika positioner på diskarna. Positionskopior kopierar stripen, men inte de
    individuella kopiorna.

    RAID10 kan användas för att uppnå tillförlitlighet och redundans utan
    nackdelen att behöva beräkna paritetsinformation.

För att summera:

┌──────┬─────────┬───────────┬─────────┬──────────────────────────────────────┐
│      │ Minimum │           │Överlever│                                      │
│ Typ  │  antal  │Reservenhet│diskfel? │          Tillgänglig plats           │
│      │ enheter │           │         │                                      │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID0 │2        │nej        │nej      │multiplicerat med antalet enheter i   │
│      │         │           │         │RAID                                  │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│RAID1 │2        │valfri     │ja       │Storlek för den minsta partitionen i  │
│      │         │           │         │RAID                                  │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID5 │3        │valfri     │ja       │multiplicerat med (antalet enheter i  │
│      │         │           │         │RAID minus en)                        │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│      │         │           │         │Storlek för den minsta partitionen    │
│RAID6 │4        │valfri     │ja       │multiplicerat med (antalet enheter i  │
│      │         │           │         │RAID minus två)                       │
├──────┼─────────┼───────────┼─────────┼──────────────────────────────────────┤
│RAID10│2        │valfri     │ja       │Totalen för alla partitioner delat med│
│      │         │           │         │antalet delkopior (standard är två)   │
└──────┴─────────┴───────────┴─────────┴──────────────────────────────────────┘

Om du vill veta mer om programvaru-RAID, ta en titt på Software RAID HOWTO.

För att skapa en MD-enhet behöver du markera de partitioner som den ska
innehålla markerade för användning i ett RAID. (Det här gör man i partman i
menyn Partitionsinställningar där du bör välja Använd som: → fysisk volym för
RAID.)

Notera

Försäkra dig om att systemet kan startas upp med partitioneringsplanen som du
planerar. I allmänhet är det nödvändigt att skapa ett separat filsystem för /
boot när man använder RAID för rotfilsystemet (/). De flesta starthanterare 
(inklusive grub) har stöd för speglad (inte striped!) RAID1, så om man till
exempel använder RAID5 för / och RAID1 för /boot kan det vara ett alternativ.

Efter det ska du välja Konfigurera programvaru-RAID från huvudmenyn i partman.
(Menyn kommer endast att visas om du markerat minst en partition för användning
som fysisk volym för RAID.) På första skärmen i partman-md, välj helt enkelt 
Skapa MD-enhet. Du kommer att bli visad en lista på typer av MD-enheter som
stöds, från vilken du bör välja en (t.ex. RAID1). Vad som kommer härnäst beror
på den MD-typ du har valt.

  • RAID0 är enkel -- du kommer att visas en lista över tillgängliga
    RAID-partitioner och du behöver endast välja de partitioner som ska utgöra
    MD-enheten.

  • RAID1 är lite mer besvärlig. Först kommer du bli tillfrågad att ange
    antalet aktiva enheter samt antalet reservenheter som ska utgöra din MD.
    Sedan behöver du från listan av tillgängliga RAID-partitioner välja vilka
    som ska vara aktiva och sedan de som ska vara reserver. Antalet valda
    partitioner måste vara samma som antalet som angavs tidigare. Var lugn, om
    du gör ett misstag och väljer ett olikt antal partitioner kommer
    debian-installer inte låta dig fortsätta förräns du har rättat till det.

  • RAID5 har en liknande inställningsprocedur som RAID1 med undantaget att du
    behöver använda åtminstone tre aktiva partitioner.

  • RAID6 har en liknande inställningsprocedur som RAID1 med undantaget att du
    behöver använda åtminstone fyra aktiva partitioner.

  • RAID10 har också en liknande inställningsprocedur som RAID1 förutom i
    expertläget. I expertläget kommer debian-installer att fråga dig om
    layouten. Layouten har två delar. Den första delen är layouttypen. Den är
    antingen n (för nära kopior), f (för fjärran kopior) eller o (för
    positionskopior). Den andra delen är antalet kopior som ska göras av datat.
    Det måste finnas minst så många aktiva enheter så att var och en av
    kopiorna kan distribueras till olika diskar.

Det är fullt möjligt att ha flera MD-typer samtidigt. Till exempel om du har
tre stycken 200 GB stora hårddiskar dedicerade till MD, där varje hårddisk
innehåller två stycken 100 GB stora partitioner, kan du kombinera de första
partitionerna på alla tre hårddiskar till en RAID0 (300 GB stor för snabb
videoredigering) och använda de övriga tre partitionerna (2 aktiva och 1
reserv) för RAID1 (ganska tillförlitlig 100 GB stor partition för /home).

Efter att du har konfigurerat MD-enheterna efter dina behov kan du välja 
Slutför i partman-md för att återgå till partman för att skapa filsystem på
dina nya MD-enheter och ge dem de vanliga attributen såsom monteringspunkter.

6.3.4.5. Konfigurering av den logiska volymhanteraren (LVM)

Om du arbetar med datorer som en systemadministratör eller "avancerad"
användare har du säkert upplevt en situation där någon diskpartition (oftast
den mest viktiga) fått slut på ledigt utrymme medan någon annan partition haft
otroligt mycket oanvänt utrymme och du har behövt att hantera den här
situationen genom att flytta runt saker, symboliska länkar, etc.

För att undvika de beskrivna situationen kan du använda logisk volymhantering
(LVM). Med LVM kan du kort sagt kombinera dina partitioner (fysiska volymer på
LVM-språk) för att forma en virtuell disk (en så kallad volymgrupp) som sedan
kan delas upp i virtuella partitioner (logiska volymer). Meningen är att
logiska volymer (och så klart de underliggande volymgrupperna) kan spänna över
ett flertal fysiska diskar.

Nu när du har insett att du behöver mer utrymme för din gamla 160 GB stora /
home-partition kan du helt enkelt lägga till en ny 300 GB stor disk till
datorn, låta den bli medlem av din befintliga volymgrupp och sedan förändra
storleken på den logiska volymen som tillhandahåller filsystemet för /home och
voilá -- dina användare har mer plats igen på sin nya 460 GB stora partition.
Det här exemplet är så klart lite grovt förenklat. Om du inte har läst den än
bör du konsultera LVM HOWTO.

LVM-konfiguration i debian-installer är ganska enkel och stöds fullständigt i 
partman. Först måste du markera de partitioner som ska användas som fysiska
volymer för LVM. Det här görs i menyn Partitionsinställningar där du ska välja 
Använd som: → fysisk volym för LVM.

Varning

Var medveten om: den nya LVM-inställningen kommer att förstöra all data på alla
partitioner markerade med en LVM-typkod. Så om du redan har en LVM på några av
dina diskar och vill installera Debian utöver den maskinen, kommer den gamla
(redan befintliga) LVM att raderas! Detsamma gäller för partitioner, som (av
någon anledning) är vilseledande markerade med en LVM-typkod, men som
innehåller något annat (som en krypterad volym). Du måste ta bort sådana diskar
från systemet innan du utför en ny LVM-installation!

När du återvänder till huvudskärmen i partman kommer du att se ett nytt
alternativ Konfigurera den logiska volymhanteraren. När du väljer den kommer du
att först bli frågad om att bekräfta väntande ändringar till partitionstabellen
(om det finns några) och sedan kommer LVM-konfigurationsmenyn att visas.
Ovanför menyn visas en sammanfattning av LVM-konfigurationen. Själva menyn är
sammanhangskänslig och visar endast giltiga åtgärder. De möjliga åtgärderna är:

  • Visa konfigurationsdetaljer: visar LVM-enhetsstrukturen, namn och storlekar
    på logiska volymer och annat

  • Skapa volymgrupp

  • Skapa logisk volym

  • Ta bort volymgrupp

  • Ta bort logisk volym

  • Utöka volymgrupp

  • Minska volymgrupp

  • Slutför: återvänd till huvudskärmen för partman

Använd alternativen i den menyn för att först skapa en volymgrupp och sedan
skapa dina logiska volymer i den.

Efter du återvänt till huvudskärmen i partman kommer du att se skapade logiska
volymer på samma sätt som vanliga partitioner (och du bör även behandla dem som
det).

6.3.4.6. Konfigurera krypterade volymer

debian-installer låter dig konfigurera krypterade partitioner. Varje fil som du
skriver på en sådan partition kommer omedelbart att sparas till enheten i
krypterad form. Tillgång till krypterat data ges endast efter att en lösenfras
har angivits när den krypterade partitionen ursprungligen skapades. Denna
funktion är användbart för att skydda känsligt data om till exempel din bärbara
dator eller hårddisk blir stulna. Tjuven kanske får fysisk tillgång till
hårddisken men utan att känna till den rätta lösenfrasen kommer det data som
finns på hårddisken bara att se ut som slumpmässiga tecken.

De två viktigaste partitionerna att kryptera är: hempartitionen, där din
privata data finns, och swap-partitionen, där känslig data kan lagras
tillfälligt under drift. Naturligtvis hindrar ingenting dig från att kryptera
andra partitioner som kan vara av intresse. Till exempel /var där
databasservrar, e-postservrar eller skrivarservrar lagrar sina data, eller /tmp
som används av olika program för att lagra potentiellt intressanta temporära
filer. Vissa människor kanske till och med vill kryptera hela sitt system. I
allmänhet är det enda undantaget här /boot-partitionen som måste förbli
okrypterad, eftersom det historiskt sett inte fanns något sätt att ladda kärnan
från en krypterad partition. (GRUB kan nu göra det, men debian-installer saknar
för närvarande inbyggt stöd för krypterad /boot. Installationen täcks därför av
ett separat dokument.)

Notera

Observera att prestandan för krypterade partitioner kommer att vara mindre än
för okrypterade eftersom datan behöver dekrypteras eller krypteras för varje
läsning eller skrivning. Prestandaskillnaden beror på din processorhastighet,
vald kryptering och nyckellängd.

För att använda kryptering måste du skapa en ny partition genom att välja ett
fritt utrymme i huvudpartitioneringsmenyn. Ett annat alternativ är att välja en
befintlig partition (t.ex. en vanlig partition, en logisk LVM-volym eller en
RAID-volym). I menyn Partitionsinställningar behöver du välja fysisk volym för
kryptering för alternativet Använd som:. Menyn kommer att ändras till att
inkludera flera krypteringsalternativ för partitionen.

Krypteringsmetoden som stöds av debian-installer är dm-crypt (ingår i nyare
Linux-kärnor, som också kan vara värd för fysiska LVM-volymer).

Låt oss ta en titt på tillgängliga alternativ när du väljer kryptering via
Device-mapper (dm-crypt). Som vanligt: när du är osäker, använd standardvalen
därför att de har noga valts ut med tanke på säkerhet.

Kryptering: aes

    Detta alternativ låter dig välja krypteringsalgoritm (chiffer) som kommer
    att användas för att kryptera data på partitionen. debian-installer har för
    närvarande stöd för följande blockchiffer: aes, blowfish, serpent och
    twofish. Det är utanför omfånget för detta dokument att diskutera
    kvaliteterna för dessa olika algoritmer, dock kan det hjälpa dig i ditt val
    att år 2000 valdes AES av American National Institute of Standards and
    Technology som standardkrypteringsalgoritm för skydd av känslig information
    för 2000-talet.

Nyckellängd: 256

    Här kan du ange längden för krypteringsnyckeln. En större nyckellängd ökar
    generellt styrkan på krypteringen. På andra sidan, ökning av längden på
    nyckeln har en negativ inverkan på prestandan. Tillgängliga nyckellängder
    är olika beroende på valt chiffer.

IV-algoritm: xts-plain64

    Initieringsvektorn eller IV-algoritm används i kryptografi för att se till
    att tillämpningen av chiffret på samma klartextdata med samma nyckel,
    alltid producerar en unik chiffertext. Idén är att förhindra en attackerare
    från att kunna utläsa information från upprepade mönster i krypterat data.

    Det minst sårbara alternativet för kända attacker av de som tillhandahålls
    är standardvalet xts-plain64. Använd endast de andra alternativen när du
    behöver kompatibilitet med tidigare installerade system som inte kan
    använda nyare algoritmer.

Krypteringsnyckel: Lösenfras

    Här kan du välja typ av krypteringsnyckel för denna partition.

    Lösenfras

        Krypteringsnyckeln kommer att beräknas^[9] med en lösenfras som basis
        och som du kan ange senare i processen.

    Slumpmässig nyckel

        En ny krypteringsnyckel kommer att genereras från slumpmässigt data
        varje gång du försöker att ta fram den krypterade partitionen. Med
        andra ord: vid varje nedstängning av systemet kommer innehållet på
        partitionen att förloras eftersom nyckeln raderas från minnet. (Så
        klart, du kan försöka att ta fram nyckeln via en brute force-attack,
        men såvida det inte finns en okänd sårbarhet i chifferalgoritmen kommer
        detta inte kunna göras under vår livstid.)

        Slumpmässiga nycklar är användbara för växlingspartitioner därför att
        du inte behöver bry dig om att komma ihåg lösenfrasen eller att radera
        känslig information från växlingspartitionen före nedstängning av din
        dator. Dock betyder det även att du inte kommer att kunna använda
        funktionalitet som "suspend-to-disk" som erbjuds av nyare Linux-kärnor
        eftersom det blir omöjligt (under en efterföljande uppstart) att
        återhämta suspenderat data som skrivits på växlingspartitionen.

Radera data: ja

    Bestämmer huruvida innehållet på denna partition ska skrivas över med
    slumpmässigt data före krypteringen ställs in. Detta rekommenderas därför
    att det kan annars vara möjligt för en attackerare att avgöra vilka delar
    av partitionen som används och vilka som inte används. Dessutom blir det
    svårare att återskapa data som partitionen innehållit tidigare^[10].

När du har valt de önskade parametrarna för dina krypterade partitioner, återgå
till huvudmenyn för partitionering. Det ska nu finnas en ny menypost som kallas
Konfigurera krypterade volymer. När du väljer den kommer du att bli frågad att
bekräfta borttagningen av data på de partitioner som markerats för radering och
möjligen även andra åtgärder såsom skrivning av en ny partitionstabell. För
större partitioner kan detta ta lite tid.

Härnäst kommer du att bli frågad att ange en lösenfras för de partitioner som
konfigurerats att använda en. Bra lösenfraser bör vara längre än 8 tecken, bör
innehålla en blandning av bokstäver, siffror och andra tecken och bör inte
innehålla vanliga ord som hittas i ordböcker eller information som lätt kan
kopplas samman med dig (såsom födelsedatum, eventuell hobby, namn på husdjur,
namn på familjemedlemmar eller närstående, etc.).

Varning

Innan du matar in några lösenfraser bör du se till att ditt tangentbord är
konfigurerat korrekt och genererar de tecken som förväntas. Om du är osäker kan
du växla till den andra virtuella konsollen och skriva in text vid prompten.
Detta för att du inte bli förvånad senare, t.ex. genom att försöka mata in en
lösenfras med en qwerty-tangentbordslayout när du använde en azerty-layout
under installationen. Denna situation kan ha flera orsaker. Kanske har du bytt
till en annan tangentbordslayout under installationen, eller att den valda
tangentbordslayouten kanske inte har ställts in ännu när lösenfrasen för
rotfilsystemet anges.

Om du väljer att använda andra metoder än ett lösenord för att skapa
krypteringsnycklar, kan de genereras nu. På grund av att kärnan kanske inte har
samlat in en tillräcklig mängd av slumpmässigt data så tidigt i installationen
kan denna process ta lång tid. Du kan hjälpa till att snabba på processen genom
att generera slumpmässigt data: t.ex. genom att trycka slumpmässigt valda
tangenter eller genom att växla till skalet på den andra virtuella konsollen
och generera lite nätverk- och disktrafik (hämta några filer, skicka stora
filer till /dev/null, etc.). Detta kommer att upprepas för varje partition som
ska krypteras.

Efter att ha återvänt till huvudmenyn för partitionering kommer du att se alla
krypterade volymer som ytterligare partitioner som kan konfigureras på samma
sätt som vanliga partitioner. Följande exempel visar en volym krypterad via
dm-crypt.

Krypterad volym (sda2_crypt) - 115,1 GB Linux device-mapper
      #1 115,1 GB F ext3

Nu är det dags att tilldela monteringspunkter till volymerna och eventuellt
ändra filsystemtyperna om standardinställningarna inte passar dig.

En sak att notera här är identifierarna inom parantes (sda2_crypt och i detta
fall) samt monteringspunkterna du har tilldelat varje krypterad volym. Du
kommer att behöva denna information senare vid uppstart av det nya systemet.
Skillnaderna mellan en vanlig uppstartsprocess och en uppstartsprocess med
kryptering beskrivs senare i Avsnitt 7.2, "Montering av krypterade volymer".

När du är nöjd med partitioneringsplanen, fortsätt med installationen.

6.3.5. Installation av grundsystemet

Även om det här steget är det minst problematiska så tar det en större del av
installationen på grund av att det hämtar, validerar och packar upp hela
grundsystemet. Om du har en långsam dator eller nätverksanslutning kan det här
ta en stund.

Under installationen av grundsystemet, kommer meddelanden om uppackning och
konfigurering omdirigeras till tty4. Du kan komma åt den här terminalen genom
att trycka Vänster Alt+F4; gå tillbaka till huvudprocessen för
installationsprogrammet med Vänster Alt+F1.

De olika meddelandena om uppackning/konfigurering som genereras under den här
fasen, sparas i /var/log/syslog. Du kan kontrollera dem där om installationen
genomförs över en seriekonsoll.

Som en del av installationen kommer en Linux-kärna att installeras. Vid
standardprioritet kommer installationsprogrammet att välja en åt dig som bäst
passar din maskinvara. I lägre prioritetslägen kommer du kunna välja från en
lista av tillgängliga kärnor.

När paket installeras med pakethanteringssystemet kommer det som standard även
att installera paket som rekommenderas av dessa paket. Rekommenderade paket
krävs inte strikt för kärnfunktionaliteten i den valda programvaran, men de
förbättrar den programvaran och bör, enligt paketunderhållarnas uppfattning,
normalt installeras tillsammans med den programvaran.

Notera

Av tekniska skäl installeras paket som installeras under installationen av
bassystemet utan deras "Rekommendationer". Regeln som beskrivs ovan träder i
kraft först efter denna punkt i installationsprocessen.

6.3.6. Installera ytterligare programvara

Vid det här tillfället kan du ett användbart men begränsat system. De flesta
användare kommer att installera ytterligare programvara på systemet för att
anpassa det till sina behov och installationsprogrammet låter dem göra det. Det
här steget kan ta ännu längre tid än installationen av grundsystemet om du har
en långsam dator eller nätverk.

6.3.6.1. Konfigurera apt

Ett av verktygen som används för att installera paket på ett Debian GNU/
Linux-system är programmet som kallas apt, från paketet apt^[11] Andra
gränssnitt för pakethantering, såsom aptitude och synaptic används också. Dessa
gränssnitt rekommenderas för nybörjare, eftersom de innehåller vissa
extrafunktioner (paketsökning och statuskontroller) i ett trevligt
användargränssnitt.

apt måste konfiguras så att den vet var den ska hämta paket ifrån. Resultat av
den här konfigurationen skrivs till filen /etc/apt/sources.list och du kan
undersöka och redigera den för att passa dina behov efter att installationen är
färdig.

Om du installerar med standardprioritet kommer installationsprogrammet att ta
hand om det mesta av konfigurationen automatiskt, baserat på
installationsmetoden som du använder och om möjligt använda val gjorda tidigare
i installationen. I de flesta fall kommer installationsprogrammet att
automatiskt lägga till en säkerhetsspegel och, om du installerar den stabila
distributionen, en spegel för uppdateringstjänsten "stable-updates".

Om du installerar med en lägre priotet (t.ex. i expertläget) kommer du att
kunna bestämma mer vad som ska göras. Du kan välja om du vill använda
uppdateringstjänsten för säkerhet och/eller stable-updates, och du kan välja
att lägga till paket från sektionerna "contrib", "non-free", och "
non-free-firmware" sektionerna av arkivet.

6.3.6.1.1. Installing from more than one DVD image

If you are installing from a DVD image that is part of a larger set, the
installer will ask if you want to scan additional installation media. If you
have such additional media available, you probably want to do this so the
installer can use the packages included on them.

Om du inte har fler cd eller dvd-media så är det inget problem: användning av
dem är inte nödvändigt. Om du i tillägg till det inte använder en
nätverksspegel (som förklaras i nästa avsnitt) kandet betyda att inte alla
paket som tillhör funktionerna kan installeras som du har valt i nästa steg i
installationen.

Notera

Packages are included on DVD images in the order of their popularity. This
means that for most uses only the first image of a set is needed and that only
very few people actually use any of the packages included on the last images of
a set.

It also means that buying or downloading and burning a full DVD set is just a
waste of money as you'll never use most of them. In most cases you are better
off getting only the first 1 to 2 DVDs and installing any additional packages
you may need from the Internet by using a mirror.

Om du skannar flera installationsmedia kommer installationsprogrammet att
uppmana dig att byta ut dem när det behöver paket från ett som för närvarande
inte finns i enheten. Observera att endast skivor som tillhör samma uppsättning
ska skannas. Ordningen som de skannas i spelar egentligen ingen roll, men att
skanna dem i stigande ordning minskar risken för misstag.

6.3.6.1.2. Använda en nätverksspegel

En fråga som kommer att ställas under de flesta installationer är om en
nätverksspegel ska användas som en paketkälla. I de flesta fall är
standardsvaret ett bra svar men det finns några undantag.

If you are not installing from a DVD image, you really should use a network
mirror as otherwise you will end up with only a very minimal system. However,
if you have a limited Internet connection it is best not to select the desktop
task in the next step of the installation.

Om du installerar från DVD kommer de paket som behövs under installationen att
finnas på den första dvd-skivan. avbild Användning av en nätverksspegel är
valfritt.

One advantage of adding a network mirror is that updates, that have occurred
since the DVD images were created and have been included in a point release,
will become available for installation, thus extending the life of your DVD set
without compromising the security or stability of the installed system.

För att summera: välja en nätverksspegel är oftast en bra idé, förutom när du
har en långsam internetanslutning. Om den aktuella versionen för ett paket
finns tillgänglig på installationsmedia, så kommer installationsprogrammet att
använda den. Mängden data som kommer att hämtas ner om du väljer en spegel
beror på

 1. funktionera som du väljer i nästa steg av installationen,

 2. vilka paket som behövs för dessa funktioner,

 3. vilka av dessa paket som finns på de installationsmedia som du har sökt
    igenom, samt

 4. huruvida några uppdaterade versioner av paketen som inkluderats på
    installationsmedia finns tillgängliga från en spegelserver (antingen en
    vanlig paketspegel eller en spegelserver för säkerhet eller stabila
    uppdateringar).

Observera att sista punkten betyder, även om du väljer att inte använda en
nätverksspegel, att vissa paket kan hämtas ner från Internet ändå om det finns
en säkerhets eller stabila uppdatering tillgänglig för dem och att dessa
tjänster har konfigurerats.

6.3.6.1.3. Välj en nätverksspegel

Om du inte väljer att använda en nätverksspegel, kommer du att få en lista över
nätverksspeglar baserat på ditt landsval tidigare i installationsprocessen. Att
välja standard erbjuds är vanligtvis bra.

Den erbjudna standard är deb.debian.org, som inte är en spegel i sig utan
kommer att omdirigera till en spegel som ska vara uppdaterad och snabb. Dessa
speglar stöder TLS (https-protokoll) och IPv6. Denna tjänst underhålls av
Debian System Administration (DSA)-teamet.

En spegel kan också specificeras för hand genom att välja "ange information
manuellt"Du kan sedan ange ett spegelvärdnamn och ett valfritt portnummer.
Detta måste faktiskt vara en URL bas, dvs när man anger en IPv6-adress måste
man till exempel lägga till hakparenteser runt den t.ex "[2001:db8::1]".

Om din dator är på ett IPv6-endast nätverk (vilket förmodligen inte är fallet
för de allra flesta användare) kanske det inte fungerar att använda
standardspegeln för ditt land. Alla speglarna i listan är tillgängliga via
IPv4, men bara några av dem kan användas via IPv6. Eftersom
anslutningsmöjligheterna för enskilda speglar kan förändras över tiden, är
denna information inte tillgänglig i installationsprogrammet. Om det inte finns
någon IPv6-anslutning för standardspegeln för ditt land kan du antingen prova
några av de andra speglar som erbjuds dig eller välja alternativet "ange
information manuellt". Du kan sedan ange "ftp.ipv6.debian.org" som
spegelnamnet, vilket är ett alias för en spegel tillgänglig via IPv6, även om
det förmodligen inte kommer att vara det snabbaste möjliga.

6.3.6.2. Val och installation av programvara

Under installationsprocessen får du möjligheten att välja ytterligare
programvara att installera. Hellre än att välja individuella programvarupaket
från de 102687 paket som finns tillgängliga fokuserar det här steget av
installationsprocessen på att välja och installera fördefinierade samlingar av
programvara för att snabbt ställa in din dator att genomföra olika funktioner.

De här funktionerna representerar löst ett antal olika jobb eller saker du vill
utföra med din dator, såsom "Skrivbordsmiljö", "Webbserver", eller "SSHserver"^
[12]. Avsnitt D.2, "Nödvändig diskplats för funktioner" listar utrymmet som
krävs för de tillgängliga funktionerna.

Vissa funktioner kan vara förvalda baserade på egenskaperna för datorn som du
installerar. Om du inte godkänner de här valen kan du avmarkera dem. Du kan
även välja att inte installera några funktioner alls.

Tips

I standardanvändargränssnittet för installationsprogrammet kan du använda
blankslag för att växla markering av en funktion.

Notera

"Skrivbordsmiljö" uppgiften kommer att installera en grafisk skrivbordsmiljö.

Som standard så installerar debian-installer Gnome skrivbordsmiljö. Det är
möjligt att interaktivt välja en annan skrivbordsmiljö under installationen.
Det är också möjligt att installera flera skrivbordsmiljöer, men vissa
kombinationer av skrivbordsmiljöer kanske inte är saminstallerbara.

Note that this will only work if the packages needed for the desired desktop
environment are actually available. Installing any of the available desktop
environments this way should work fine if you are using a DVD image or any
other installation method with a network mirror.

De olika serveruppgifterna installerar programvara ungefär enligt följande.
Webbserver:apache2;SSH server: openssh.

The "Standard system utilities" task will install any package that has a
priority "standard". This includes a lot of common utilities that are normally
available on any Linux or Unix system. You should leave this task selected
unless you know what you are doing and want a really minimal system.

Om en standardlokal annan än lokalen "C" väljs under språkvalet så kommer 
tasksel att kontrollera om några lokalanpassningsfunktioner har definierats för
den lokalen och kommer sedan automatiskt att försöka installera relevanta
lokalanpassningspaket. Detta inkluderar till exempel paket som innehåller
ordlistor eller speciella typsnitt för ditt språk. Om en skrivbordsmiljö har
valts så kommer den även att installera lämpliga lokalanpassningspaket för det
(om det finns några).

Notera

Starting with Debian Trixie, debian-installer allows to install Debian Pure
Blends directly. There is an entry "Choose a Debian Blend for installation" at
the bottom of the tasks list, which enables an additional choices dialog to
appear, after tasksel has finished.

In that dialog (blendsel), you can choose which blend to install, similar to
this tasks selection.

See the Debian website for more information about Debian Pure Blends.

När du har valt dina funktioner, välj Fortsätt. Vid det här tillfället kommer 
apt att installera paketen som är en del av de funktioner som du har valt. Om
ett specifikt program behöver mer information från användare så kommer den att
fråga dig under denna process.

You should be aware that especially the Desktop task is very large. Especially
when installing from a netinst CD image in combination with a mirror for
packages not on the netinst, the installer may want to retrieve a lot of
packages over the network. If you have a relatively slow Internet connection,
this can take a long time. There is no option to cancel the installation of
packages once it has started.

Even when packages are included on the installation image, the installer may
still retrieve them from the mirror if the version available on the mirror is
more recent than the one included on the image. If you are installing the
stable distribution, this can happen after a point release (an update of the
original stable release); if you are installing the testing distribution this
will happen if you are using an older image.

6.3.7. Gör ditt system klart för uppstart

Om du installerar en disklös arbetsstation, är uppstarter från den lokala
disken så klart inte ett användbart alternativ och det här steget kommer att
hoppas över.

6.3.7.1. Sökning efter andra operativsystem

Innan en starthanterare blir installerad kommer installationsprogrammet att
försöka att söka efter andra operativsystem som finns installerade på maskinen.
Om den hittar ett operativsystem som stöds kommer du bli informerad om det
under installationssteget för starthanteraren och datorn kommer att bli
konfigurerad att starta upp det här andra operativsystemet i tillägg till
Debian.

Observera att uppstart av flera operativsystem på samma maskin fortfarande är
lite av svart magi. Det automatiska stödet för identifiering och inställning av
starthanterare för att starta upp andra operativsystem varierar mellan
arkitekturer och även för underarkitekturer. Om det inte fungerar bör du
konsultera dokumentationen för din starthanterare för mer information.

6.3.7.2. Installera starthanteraren Grub på en disk

Den starthanterare som är standard på amd64 kallas för "grub". Grub är en
flexibel och robust starthanterare och ett bra standardval både för nybörjare
och erfarna användare.

Som standard kommer grub att installeras på UEFI-partitionen/startposten för
den primära enheten, där den tar över fullständig kontroll över
uppstartsprocessen. Om du föredrar det kan du installera det någon annanstans.
Se grubmanualen för fullständig information.

Om du inte vill installera grub alls kan du använda Bakåt-knappen för att komma
till huvudmenyn och därifrån välja den starthanterare som du vill använda.

6.3.7.3. Fortsätt utan starthanterare

Det här alternativet kan användas för att färdigställa installationen även om
inte starthanterare kommer att installeras, antingen på grund av att
arkitekturen/underarkitekturen inte erbjuder en eller på grund av att ingen
önskas (exempelvis, du vill använda den befintliga starthanteraren).

Om du planerar att manuellt konfigurera din starthanterare, bör du kontrollera
namnet på den installerade kärnan i /target/boot. Du bör också kontrollera den
katalogen om det finns en initrd; om det finns en ska du antagligen instruera
din starthanterare att använda den. Övrig information som du behöver ange är
disken och partition du har valt för ditt /-filsystem och, om du valde att
installera /boot på en separat partition, även ditt /boot-filsystem.

6.3.8. Färdigställ installationen

Det här är det sista steget i Debians installationsprocess under vilket
installationsprogrammet kommer att göra de sista justeringarna. Det består
mestadels av att knyta ihop allt efter debian-installer.

6.3.8.1. Ställa in systemklockan

Installationsprogrammet kan fråga dig om datorns klocka är inställd till UTC.
Normalt sett undviks den här frågan om möjligt och installationsprogrammet
försöker lista ut om klockan är inställd till UTC baserat på vilka andra
operativsystem som är installerade.

I expertläget kan du alltid välja om eller inte klockan är inställd till UTC. 
System som (även) kör Windows är vanligtvis inställda till lokal tid. Om du
vill använda dubbel uppstart, välj lokal tid istället för UTC.

Vid det här tillfället kommer debian-installer även att försöka spara den
aktuella tiden till systemets hårdvaruklocka. Det här görs antingen i UTC eller
lokal tid, beroende på det val som tidigare gjordes.

6.3.8.2. Starta om systemet

Du kommer att bli uppmanad att mata ut uppstartsmediumet (cd-skiva, USB minne,
etc) som du använde för att starta upp installationsprogrammet med. Efter det
kommer systemet att startas om till ditt nya Debian-system.

6.3.9. Felsökning

Komponenterna som listas i det här avsnittet är normalt sett inte inblandade i
installationsprocessen men väntar i bakgrunden för att hjälpa användaren om
något går fel.

6.3.9.1. Spara installationsloggar

Om installationen lyckas, kommer loggfilerna som skapas under
installationsprocessen att automatiskt sparas till /var/log/installer/ på ditt
nya Debian-system.

Välj Spara felsökningsloggar från huvudmenyn låter dig spara loggfilerna till
en USB minne, nätverk, hårddisk eller annat media. Det kan vara användbart om
du påträffar allvarliga problem under installationen och vill undersöka
loggarna på ett annat system eller bifoga dem i en installationsrapport.

6.3.9.2. Användning av skalet och visning av loggar

Det finns flera metoder som du kan välja för att få ett skal under tiden du kör
en installation. På de flesta system, och om du inte installerar över en
seriekonsoll, är den enklaste metoden att växla till den andra virtuella
konsollen genom att trycka Vänster Alt+F2^[13] (på ett Mac-tangentbord, Option+
F2). Använd Vänster Alt+F1 för att växla tillbaka till själva
installationsprogrammet.

För det grafiska installationsprogrammet, se även Avsnitt 6.1.1, "Användning av
det grafiska installationsprogrammet".

Om du inte kan växla mellan konsollerna finns även alternativet Starta ett skal
i huvudmenyn som kan användas för att starta ett skal. Du kan komma till
huvudmenyn från de flesta dialoger genom att använda Bakåt-knappen en eller
flera gånger. Ange exit för att stänga skalet och återvända till
installationsprogrammet.

Vid den här tidpunkten har du startat upp från RAM-disken, och det finns en
begränsad uppsättning Unix-verktyg tillgängliga för dig. Du kan se vilka
program som finns tillgängliga med kommandot ls /bin /sbin /usr/bin /usr/sbin
och genom att skriva help. Skalet är ett Bourne-skalklon kallat ash och har
några trevliga funktioner som till exempel automatisk komplettering och
historik.

För att redigera och visa filer, använd textredigeraren nano. Loggfiler för
installationssystemet kan hittas i katalogen /var/log.

Notera

Även om du kan göra i stort sett allt ett skal som de tillgängliga kommandona
tillåter dig att göra, är alternativet att använda ett skal egentliga endast
där om någonting skulle gå fel och att du behöver felsöka.

Göra saker manuellt från skalet kan störa installationsprocessen och resultera
i fel eller en ofullständig installation. Specifikt bör du alltid låta
installationsprogrammet aktivera din växlingspartition och inte göra det själv
från ett skal.

6.3.10. Installation över network-console

En av de mer intressanta komponenterna är network-console. Den låter dig göra
en stor del av installationen över nätverket via SSH. Användningen av nätverk
antyder att du måste genomföra de första stegen av installationen från
konsollen, åtminstone till punkten där nätverket ställs in. (Dock kan du
automatisera den delen med Avsnitt 4.6, "Automatisk installation".)

Den här komponenten läses inte in i huvudmenyn som standard så du måste
specifikt begära den. Om du installerar från ett optiskt media behöver du
starta upp med mediumprioritet eller annars kan du starta huvudmenyn och välja 
Läs in installationskomponenter från installationsmedia och från listan av
ytterligare komponenter välja network-console: Fortsätt installationen genom
fjärråtkomst med SSH. En lyckad inläsning indikeras av en ny menypost kallad 
Fortsätt installationen genom fjärråtkomst med SSH.

Efter du har valt den här nya posten kommer du att bli frågad efter ett nytt
lösenord som ska användas för anslutning till installationssystemet och för att
bekräfta det. Det är allt. Nu bör du se en skärm som instruerar dig att göra en
fjärrinloggning som användaren installer med lösenordet som du precis angav. En
annan viktig detalj att notera på den här skärmen är fingeravtrycket av det här
systemet. Du behöver överföra fingeravtrycket på ett säkert sätt till personen
som kommer att fortsätta fjärrinstallationen.

Bestämmer du dig för att fortsätta med installationen lokalt kan du alltid
trycka Enter, vilket tar dig tillbaka till huvudmenyn, där du kan välja en
annan komponent.

Låt oss nu hoppa över till andra sidan av kabeln. Som en förutsättning behöver
du konfigurera din terminal för teckenkodningen UTF-8, på grund av att
installationssystemet använder den kodningen. Om du inte gör det kommer
fjärrinstallation fortfarande vara möjlig men du kommer att uppleva konstiga
skärmproblem som förstörda dialogrutor eller oläsbara tecken som inte är ascii.
Etablera en anslutning till installationssystemet är så enkelt som att ange:

$ ssh -l installer installationsvärd

Där installationsvärd är antingen namnet eller IP-adress till den dator som ska
installeras. Före den faktiska inloggningen kommer fingeravtrycket för
fjärrsystemet att visas och du behöver bekräfta att det är korrekt.

Notera

ssh-servern i installationsprogrammet använder en standardkonfiguration som
inte skickar keep-alive-paket. I princip ska en anslutning till systemet som
blir installerat hållas öppen hela tiden. Dock kan i vissa situationer --
beroende på din lokala nätverkskonfiguration -- anslutning kopplas ned efter en
viss inaktivitetsperiod. Ett vanligt fall där detta kan hända är när det finns
någon form av adressöversättning (NAT) på nätverket mellan klienten och
systemet som blir installerat. Beroende på var i installationen anslutningen
bröts så kanske du kan, eller kanske inte kan, återuppta installationen efter
ny etablering av anslutningen.

Du kanske kan förhindra att anslutningen bryts genom att lägga till flaggan
-o ServerAliveInterval=värde när ssh-anslutningen startas, eller genom att
lägga till den flaggan i din konfigurationsfil för ssh. Observera dock att i
vissa fall kan denna flagga även orsaka att en anslutning bryts (till exempel
om keep-alive-paket skickas under en kort tid med nätverkproblem, från vilken 
ssh själv skulle ha återhämtat sig), så den ska endast användas när den behövs.

Notera

Om du installerar flera datorer i turordning och de råkar ha samma IP-adress
eller värdnamn kommer ssh att vägra att ansluta till en sådan värd. Anledningen
är att den kommer att ha ett olikt fingeravtryck, vilket är ett vanligt tecken
på en spoofingattack. Om du är säker att så inte är fallet, behöver du ta bort
den relevanta raden från ~/.ssh/known_hosts^[14] och försöka igen.

Efter inloggningen kommer du att se den initiala skärmen där du har två
möjligheter kallade Starta menyn och Starta ett skal. Den första tar dig till
huvudmenyn i installationsprogrammet, där du kan fortsätta med installationen
som vanligt. Den senare startar upp ett skal från vilket du kan undersöka och
möjligen rätta till fjärrsystemet. Du bör endast starta en SSH-session för
installationsmenyn, men kan starta flera sessioner för skal.

Varning

Efter att du har startat fjärrinstallationen över SSH bör du inte gå tillbaka
till installationssessionen som kör på den lokala konsollen. Om du gör det kan
databasen som tillhandahåller konfigurationen av det nya systemet skadas. Det i
sin tur kan resultera i en misslyckad installation eller problem med det
installerade systemet.

6.4. Läsa in saknad fast programvara

Vissa enheter kräver att fast programvara läses in, vilket beskrivs i
Avsnitt 2.2, "Enheter som kräver fast programvara". I de flesta fall kommer
enheten inte att fungera alls om inte den fasta programvaran finns tillgänglig;
ibland kan grundläggande funktionalitet erbjudas om den fasta programvaran
saknas och att den fasta programvaran endast behövs för att aktivera
ytterligare funktioner.

Med sin start i Debian GNU/Linux 12.0, efter 2022 allmän resolution om icke-fri
fastprogramvara, kan officiella installationsavbilder (som netinst) innehålla
icke-fria paket för fastprogramvara. Även med dessa paket för fastprogramvara
tillgängliga kan vissa fastprogramvara-filer fortfarande saknas. Eller så
kanske man använder netboot-filer, som inte inkluderar paket för
fastprogramvara.

Om en enhet begära fast programvara som inte finns tillgänglig kommer
debian-installer att visa en dialogruta som erbjuder att läsa in den saknade
fasta programvaran. Om detta alternativ väljs kommer debian-installer att söka
av tillgängliga enheter efter antingen fristående filer för fast programvara
eller paket som innehåller den fasta programvaran. Om den hittas kommer den
fasta programvaran att kopieras till den rätta platsen (/lib/firmware) och
drivrutinsmodulen kommer att läsas om.

Notera

Vilka enheter som söks av och vilka filsystem som stöds är beroende på
arkitekturen, installationsmetoden och vilket steg i installationen. Speciellt
under tidiga steg i installationen kommer inläsning av fast programvara att
fungera bäst från ett FAT-formaterat USB-minne. På i386 och amd64 kan även fast
programvara läsas in från ett MMC- eller SD-kort.

Observera att det är möjligt att hoppa över inläsning av fast programvara om du
vet att enheten kommer att fungera även utan den eller om enheten inte behövs
under installationen.

6.4.1. Förbereda ett media

Den vanligaste metoden för att ladda sådan fastprogramvara är från något
flyttbart medium som ett USB-minne. För att förbereda ett USB-minne (eller
annat medium som en hårddiskpartition) måste fastprogramvarafilerna eller
paketen placeras i antingen rotkatalogen eller en katalog som heter /firmware i
filsystemet på mediet. Det rekommenderade filsystemet att använda är FAT
eftersom det är mest säkert att stödjas under de tidiga stadierna av
installationen.

Tar-arkiv och zip filer som innehåller aktuella paket för de flesta vanliga
fasta programvaror,och tillhörande metadata för att säkerställa en korrekt
upptäckt av installationsprogrammet (dep11 katalogen), finns tillgängliga från:

  • https://cdimage.debian.org/cdimage/firmware/trixie/

Hämta helt enkelt ner tar-arkivet eller zip filer för den korrekta utgåvan och
packa upp den på mediats filsystem.

Det är också möjligt att kopiera individuella filer med fast programvara i
valfritt media. Fristående fast programvara kan till exempel hämtas från ett
redan installerat system eller från maskinvarans tillverkare.

6.4.2. Fast programvara och det installerade systemet

All fastprogramvara som laddas under installationen kommer att kopieras
automatiskt till det installerade systemet. I de flesta fall säkerställer detta
att enheten som kräver fastprogramvara också kommer att fungera korrekt efter
att systemet har startat om till det installerade systemet. Men om det
installerade systemet kör en annan kärnversion än installationsprogrammet,
finns det en liten chans att den fasta programvaran inte kan laddas på grund av
skev version.

Om den fasta programvaran lästes in från ett paket med fast programvara så
kommer debian-installer även att installera detta paket för det installerade
systemet och automatiskt lägga till sektionen non-free-firmware för
paketarkivet i APT:s sources.list. Detta har fördelen att den fasta
programvaran kommer att uppdateras automatiskt om en ny version blir
tillgänglig.

Om inläsningen av den fasta programvaran hoppades över under installationen så
kommer den relevanta enheten antagligen inte att fungera med det installerade
systemet tills den fasta programvaran (paket) har installerats manuellt.

Notera

Om den fasta programvaran lästes in från fristående filer kommer den fasta
programvaran som kopierades till det installerade systemet inte att uppdateras
automatiskt såvida inte motsvarande paket för fast programvara (om tillgänglig)
har installerats efter att installationen färdigställdes.

6.4.3. Slutför det installerade systemet

Beroende på hur installationen utfördes kan det vara så att behovet av viss
fastprogramvara inte upptäcktes under installationen, att relevant
fastprogramvara inte var tillgänglig eller att man valde att inte installera
viss fastprogramvara vid den tidpunkten. I vissa fall kan en lyckad
installation fortfarande hamna i en svart skärm eller en förvrängd skärm vid
omstart till det installerade systemet. När det händer kan följande lösningar
prövas:

  • Skicka alternativet nomodeset på kärnans kommandorad. Detta kan hjälpa till
    att starta upp i ett "reservgrafik"-läge.

  • Använd Ctrl+Alt+F2 knappkombinationen för att byta till VT2, vilket kan
    erbjuda en funktionell inloggningsprompt.

6.5. Anpassningar

Genom att använda skalet (se Avsnitt 6.3.9.2, "Användning av skalet och visning
av loggar") kan installationsprocessen noggrant anpassas för att passa
exceptionella användningsfall:

6.5.1. Installera ett alternativt init system

Debian använder systemd som standard init-system. Men andra init-system (som
sysvinit och OpenRC) stöds, och den enklaste tiden att välja ett alternativt
init-system är under installationsprocessen. För detaljerade instruktioner om
hur du gör det, se Ändra Init system sidan på Debians wiki.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[4] I tekniska termer: där flera lokalanpassningar finns för det språket men
med olika landskoder.

^[5] Med medelhög och låg prioritet kan du alltid välja din föredragna lokal
bland de som är tillgängliga för det valda språket (om det finns fler än ett).

^[6] Äldre lokaler är lokaler som inte använder UTF-8, men en av de äldre
standarderna för teckenkodning som ISO 8859-1 (används av västeuropeiska språk)
eller EUC-JP (används av japanska).

^[7] Installationsprogrammet kommer att kryptera LVM-volymgruppen med en 256
bitars AES-nyckel och använder kärnans stöd för "dm-crypt".

^[8] Det går faktiskt att bygga en MD-enhet även från partitioner som finns på
samma fysiska disk, men det kommer inte att ge dig några fördelar.

^[9] Att använda en lösenfras som nyckel betyder att partitionen måste
konfigureras med LUKS.

^[10] Det är dock troligt att personal från tre-bokstavs-myndigheter kan
återskapa data från magnetoptiska media även efter ett flertal överskrivningar.

^[11] Observera att det program som faktiskt installerar paketen kallas för 
dpkg. Dock är det här programmet mer av ett lågnivåverktyg. apt-get är ett
verktyg på högre nivå som anropar dpkg när det behövs. Det vet hur man hämtar
paket från ditt installationsmedia, nätverket, eller varifrån. Det har också
möjligheten att automatiskt installera andra paket som krävs för att få det
paket som du försöker installera att fungera korrekt.

^[12] Du bör känna till att för att visa den här listan, anropar
installationsprogrammet helt enkelt programmet tasksel. Det kan köras när som
helst efter installationen för att installera (eller ta bort) fler paket, eller
så kan du använda ett mer finkornigt verktyg såsom aptitude. Om du letar efter
ett enda specifikt paket, efter att installationen är färdig, kör helt enkelt
aptitude install paket, där paket är namnet på paketet du letar efter.

^[13] Alltså: tryck ner Alt-tangenten på vänster sida av blankstegs-tangenten
och funktionstangenten F2 samtidigt.

^[14] Följande kommando kommer att ta bort en befintlig post för en värd: 
ssh-keygen -R <värdnamn|IP-adress>.

Kapitel 7. Starta upp ditt nya Debian-system

Innehållsförteckning

7.1. Sanningens minut
7.2. Montering av krypterade volymer
    7.2.1. Felsökning
7.3. Logga in

7.1. Sanningens minut

Första uppstarten av ditt nya system är vad elingenjörer kallar för "röktest".

Om du gjorde en standardinstallation, är det första du kommer att se när du
startar upp systemet, menyn för starthanteraren. De första valen i menyn kommer
att vara för ditt nya Debian-system. Om du hade några andra operativsystem på
din dator (som Windows) som identifierades av installationssystemet, kommer
dessa att listas längre ner i menyn.

Få inte panik om systemet misslyckas med att starta upp korrekt. Om
installationen lyckades är chanserna goda att det bara är ett relativt litet
problem som förhindrar systemet från att starta upp Debian. I de flesta fall
kan problem rättas till utan att behöva upprepa installationen. Ett
tillgängligt alternativ för att rätta till uppstartsproblem är att använda
installationsprogrammets inbyggda räddningsläge (se Avsnitt 8.6, "Återställning
av ett trasigt system").

Om du är nybörjare när det gäller Debian och Linux, kanske du behöver lite
hjälp från mer erfarna användare. För direkthjälp på Internet kan du prova
IRC-kanalerna #debian eller #debian-boot på OFTC-nätverket. Alternativt kan du
kontakta sändlistan debian-user. Du kan även skicka in en installationsrapport,
som beskrivs i Avsnitt 5.4.7, "Skicka installationsrapporter". Se till att du
beskriver ditt problem i detalj och inkluderar eventuella meddelanden som visas
och kan hjälpa andra att felsöka problemet.

Skicka in en installationsrapport om du har andra operativsystem på din dator
som inte identifierades eller inte identifierades korrekt.

7.2. Montering av krypterade volymer

Om du skapade krypterade volymer under installationen och tilldelade
monteringspunkter till dem, kommer du att bli efterfrågad vid uppstart om att
ange lösenfrasen för varje av dessa volymer.

För partitioner som är krypterade med dm-crypt kommer följande prompt att visas
under uppstarten:

Starting early crypto disks... del_crypt(starting)
Enter LUKS passphrase:

På första raden av prompten är del namnet på underliggande partition, t.ex.
sda2 eller md0. Du undrar kanske nu för vilken volym du faktiskt anger
lösenfrasen. Relaterar det till /home? Eller till /var? Om du bara skapade en
krypterad volym är detta enkelt och du behöver bara ange lösenfrasen som du
angav för den volymen. Om du har skapat fler än en krypterad volym under
installationen kan anteckningarna du skrev ner i sista steget i
Avsnitt 6.3.4.6, "Konfigurera krypterade volymer" komma till hands. Om du inte
antecknade relationerna mellan cryptX och monteringspunkterna kan du
fortfarande hitta dem i /etc/crypttab och /etc/fstab på ditt nya system.

Prompten kan se annorlunda ut när ett krypterat rotfilsystem monteras. Detta
beror på vilken initramfs-generator som användes för att generera den initrd
som används för att starta upp systemet. Exemplet nedan är för en initrd som
genererats med initramfs-tools:

Begin: Mounting root file system... ...
Begin: Running /scripts/local-top ...
Enter LUKS passphrase:

Inga tecken (inte ens stjärnor) kommer att visas när lösenfrasen matas in. Om
du matar in fel lösenfras har du ytterligare två försök till att mata in den
korrekta lösenfrasen. Efter det tredje försöket kommer uppstartsprocessen att
hoppa över denna volym och fortsätta montera nästa filsystem. Se Avsnitt 7.2.1,
"Felsökning" för ytterligare information.

Efter att alla lösenfraser har matats in ska uppstarten fortsätta som normalt.

7.2.1. Felsökning

Om någon av de krypterade volymerna inte kunde monteras på grund av att en
felaktig lösenfras matades in, kan du montera dem manuellt efter uppstart. Det
finns ett flertal olika situationer.

  • Det första fallet gäller rotpartitionen. När den inte har monterats korrekt
    kommer uppstartsprocessen att stanna och du måste då starta om datorn och
    försöka igen.

  • Det enklaste fallet är för krypterade volymer som innehåller data som /home
    eller /srv. Du kan helt enkelt montera dem manuellt efter uppstarten.

    För dm-crypt är detta lite svårare. Först behöver du registrera volymerna
    med device mapper genom att köra:

    # /etc/init.d/cryptdisks start

    Detta kommer att söka av alla volymer som angivits i /etc/crypttab och
    skapa lämpliga enheter under katalogen /dev efter att de korrekta
    lösenfraserna har angivits. (Redan registrerade volymer kommer att hoppas
    över så att du kan upprepa detta kommando flera gånger utan att vara
    orolig.) Efter en lyckad registrering kan du helt enkelt montera volymerna
    på vanligt sätt:

    # mount /monteringspunkt

  • Om någon volym som innehåller ickekritiska systemfiler inte kan monteras (/
    usr eller /var), ska systemet fortfarande kunna starta upp och du bör kunna
    montera volymerna manuellt precis som i föregående situation. Dock behöver
    du även starta (om) de tjänster som normalt kör i din standardkörnivå på
    grund av att det är mycket sannolikt att de inte startades. Det enklaste
    sättet är att bara starta om datorn.

7.3. Logga in

När ditt system startar upp kommer du bli presenterad med inloggningsprompten.
Logga in med ditt personliga användarnamn och lösenord som du valde under
installationsprocessen. Ditt system är nu färdigt att användas.

Om du är en ny användare kanske du vill utforska dokumentationen som redan
finns installerad på ditt system när du börjar använda det. Det finns för
närvarande flera dokumentationssystem, men arbete fortgår på att integrera de
olika dokumentationstyperna. Här är ett par startpunkter.

Dokumentation som följer med program och andra paket som du du har installerat
kan hittas i /usr/share/doc/, i en katalog med samma namn som programmet (eller
rättare sagt, Debian-paketet som innehåller programmet). Dock är mer detaljerad
dokumentation ofta paketerad separat i speciella dokumentationspaket som oftast
inte blir installerade som standard. Till exempel kan dokumentation om
pakethanteringsverktyget apt hittas i paketen apt-doc eller apt-howto.

I tillägg finns det några speciella mappar i hierarkin /usr/share/doc/. Ett
flertal Linux HOWTO finns installerade i .gz-formatet, under /usr/share/doc/
HOWTO/en-txt/. Efter installation av dhelp kommer du att hitta ett
bläddringsbart dokumentationsindex i /usr/share/doc/HTML/index.html.

Ett enkelt sätt att visa dessa dokument med en textbaserad webbläsare är att
köra följande kommandon:

$ cd /usr/share/doc/
$ w3m .

Punkten efter kommandot w3m talar om för det att visa innehållet i den aktuella
katalogen.

Om du har en grafisk skrivbordsmiljö installerad, kan du även använda dess
grafiska webbläsare. Starta webbläsaren från programmenyn och skriv in /usr/
share/doc/ i adressfältet.

Du kan också skriva info kommando eller man kommando för att se dokumentationen
för de flesta tillgängliga kommandon på kommandoprompten. Skriva help kommer
att visa hjälp om skalkommandon. Skriva ett kommando följt av --help visar
vanligtvis kortfattad information om hur kommandot används. Om ett kommandos
resultat rullar förbi på skärmen, skriv | more efter kommandot för att pausa
resultatet före det rullar förbi på skärmen. För att se en lista på alla
tillgängliga kommandon som börjar med en speciell bokstav, skriv bokstaven och
tryck sedan två gånger på tabulatortangenten.

Kapitel 8. Nästa steg och hur man ska gå vidare

Innehållsförteckning

8.1. Stänga av systemet
8.2. Orientera dig runt i Debian
    8.2.1. Debians paketsystem
    8.2.2. Ytterligare mjukvara tillgängligt för Debian
    8.2.3. Hantera programversioner
    8.2.4. Hantera cronjobb
8.3. Ytterligare läsning och information
8.4. Konfigurera ditt system att använda e-post
    8.4.1. Standardkonfiguration för e-post
    8.4.2. Skicka e-post utanför systemet
    8.4.3. Konfigurera e-postservern Exim4
8.5. Bygg en ny kärna
8.6. Återställning av ett trasigt system

8.1. Stänga av systemet

För att stänga av ett körande Debian GNU/Linux-system ska du inte starta om med
reset-knappen på fram- eller baksidan av din dator, eller helt enkelt stänga av
datorn. Debian GNU/Linux bör stängas ner på ett kontrollerat sätt, annars kan
filer gå förlorade eller hårddisken bli skadad. Om du kör en skrivbordsmiljö
finns det ofta ett alternativ tillgängligt för att "logga ut" från programmenyn
som låter dig stänga av (eller starta om) systemet.

Alternativt kan du trycka på tangentkombinationen Ctrl+Alt+Del . Om
tangentkombinationerna inte fungerar är ett sista alternativ att logga in som
root och skriva in nödvändiga kommandon. Använd reboot för att starta om
systemet. Använd halt för att stoppa systemet utan att stänga av det ^[15]. För
att stänga av maskinen, använd poweroff eller shutdown -h now. Systemd
init-systemet ger ytterligare kommandon som utför samma funktioner; till
exempel systemctl reboot eller systemctl poweroff.

8.2. Orientera dig runt i Debian

Debian är lite olik från övriga distributioner. Även om du känner till Linux i
andra distributioner är det några saker du bör känna till om Debian för att
hjälpa dig att behålla ditt system i gott skick. Det här kapitlet innehåller
material för att hjälpa dig att ta dig fram i systemet; det är inte menat att
vara en hjälp för att använda Debian utan helt enkelt en kort sammanfattning av
systemet för de som har bråttom.

8.2.1. Debians paketsystem

Det viktigaste konceptet att få grepp om är Debians paketsystem. Stora delar av
ditt system bör anses vara under paketsystemets kontroll. Dessa inkluderar:

  • /usr (undantaget /usr/local)

  • /var (inga filer från paket placeras i /var/local, varför detta går att
    använda till lokala kataloger och filer)

  • /bin

  • /sbin

  • /lib

Till exempel om du ersätter /usr/bin/perl kommer det att fungera men om du
uppgraderar ditt perl-paket kommer filen du placerade där att ersättas.
Experter kan komma runt det här genom att "hålla kvar" paket i aptitude.

En av de bästa installationsmetoderna är apt. Du kan använda
kommandoradsversionen av apt samt verktyg som aptitude eller synaptic (som bara
är grafiska klienter för apt). Observera att apt också låter dig slå samman
main, contrib, non-free och non-free-firmware så att du kan ha begränsade paket
(som strängt taget inte tillhör Debian) samt paket från Debian GNU/Linux på
samma gång.

8.2.2. Ytterligare mjukvara tillgängligt för Debian

Det finns officiella och icke-officiella mjukvaruförråd som inte är aktiverade
i som standard vid intallation av Debian. Dessa innehåller mjukvara som många
tycker är viktiga och förväntar sig att ha. Information om dessa ytterligare
förråd kan hittas på wikisidan med titeln The Software Available for Debian's
Stable Release.

8.2.3. Hantera programversioner

Alternativa versioner av programmen hanteras av update-alternatives. Om du
hanterar ett flertal versioner av dina program, läs manualsidan för
update-alternatives.

8.2.4. Hantera cronjobb

Alla jobb under systemadministratörens ansvar bör ligga i /etc eftersom de är
konfigurationsfiler. Om root har ett cronjobb för dagliga, veckomässiga eller
månatliga körningar, lägg dem i /etc/cron.{daily,weekly,monthly}. Dessa startas
från /etc/crontab och kommer att köras i alfabetisk ordning.

Men om du har ett cronjobb som (a) behöver köras som en speciell användare,
eller (b) behöver köras vid en speciell tidpunkt eller frekvens, kan du
antingen använda /etc/crontab, eller ännu bättre, /etc/cron.d/vadsomhelst.
Dessa speciella filer har också ett extra fält som låter dig bestämma under
vilket användarkonto som cronjobbet ska köras.

I annat fall kan du bara redigera filerna och cron kommer att upptäcka dem
automatiskt. Det finns inget behov att köra ett speciellt kommando. För mer
information, se manualsidorna cron(8), crontab(5) och /usr/share/doc/cron/
README.Debian.

8.3. Ytterligare läsning och information

Debians webbplats innehåller en mängd dokumentation om Debian. Se gärna Debian
GNU/Linux FAQ och Debian Reference. Ett index av mera Debian-dokumentation är
tillgänglig från Debians dokumentationsprojekt. Debians gemenskap är
självförsörjande; för att prenumerera på en eller flera av Debians sändlistor,
se webbsidan Prenumerera på sändlistor. Sist men inte minst, Debian Mailing
List Archives innehåller mycket värdefull information om Debian.

Om du behöver information om ett speciellt program bör du först prova man 
program eller info program.

Det finns också en mängd användbar dokumentation i /usr/share/doc. Speciellt /
usr/share/doc/HOWTO och /usr/share/doc/FAQ innehåller mycket intressant
information. För att skicka in felrapporter, ta en titt på /usr/share/doc/
debian/bug*. För att läsa om Debian-specifika problem för specifika program, ta
en titt på /usr/share/doc/(paketnamn)/README.Debian.

En allmän källa för information för GNU/Linux är webbplatsen för Linux
Documentation Project. Där kan du hitta HOWTO-dokument och pekare till annan
mycket värdefull information om delar av GNU/Linux-systemet.

Linux är en implementering av Unix. Linux Documentation Project (LDP) samlar in
ett antal HOWTO: er och onlineböcker som rör Linux.

Om du är nybörjare i Unix-världen bör du antagligen gå ut och köpa några böcker
att läsa. Den här listan av Unix FAQ innehåller ett antal av UseNet-dokument
som ger trevliga historiska referenser.

8.4. Konfigurera ditt system att använda e-post

Idag är e-post en viktig del av många personers liv. Eftersom det finns många
alternativ för hur man gör konfigurationen, och eftersom det är viktigt för
några Debian-verktyg att den är rätt konfigurerad, kommer vi försöka att täcka
in grunderna i det här avsnittet.

Det finns tre huvudfunktioner som definierar ett e-postsystem. Först är det
e-postklienten (MUA) som är det program som en användare använder för att
skriva och läsa e-post. Sedan är det Mail Transfer Agent (MTA) som tar hand om
överföringen av meddelanden från en dator till en annan. Till sist är det Mail
Delivery Agent (MDA) som tar hand om leveransen av inkommande e-post till
användarens inkorg.

Dessa tre funktioner kan genomföras av separata program, men de kan även
kombineras till ett eller två program. Det är också möjligt att ha olika
program som hanterar dessa funktioner för olika typer av e-post.

På Linux- och Unix-system är mutt historiskt sett en mycket populär
e-postklient. Som de flesta traditionella Linux-program är den textbaserad. Den
används ofta i kombination med exim eller sendmail som MTA och procmail som
MDA.

Med den ökande populariteten för grafiska skrivbordssystem, har användningen av
grafiska e-postprogram som GNOME:s evolution, KDE:s kmail eller Mozilla:s 
thunderbird blivit mer populär. Dessa program kombinerar funktionerna av en
MUA, MTA och MDA, men kan -- och används ofta -- i kombination med de
traditionella Linux-verktygen.

8.4.1. Standardkonfiguration för e-post

Även om du planerar att använda ett grafiskt e-postprogram, skulle det vara
användbart att ha en traditionell MTA/MDA installerad och rätt konfigurerad på
ditt Debian GNU/Linux-system. Anledningen är att olika verktyg som kör på
systemet^[16] kan skicka viktiga notifieringar via e-post för att informera
systemadministratören om (potentiella) problem eller ändringar.

För detta kan du installera exim4 och mutt med apt install exim4 mutt. exim4 är
en kombination av MTA/MDA som är relativt liten men mycket flexibel. Den kommer
som standard att konfigureras för att endast hantera e-post lokalt till själva
systemet, och e-post adresserad till systemadministratören (root-kontot) kommer
att levereras till det vanliga användarkontot som skapades under installationen
^[17].

När e-post från systemet levereras kommer de att läggas till i en fil i /var/
mail/kontonamn. E-postmeddelandena kan läsas med mutt.

8.4.2. Skicka e-post utanför systemet

Som tidigare nämnts, är det installerade Debian-systemet endast konfigurerat
att hantera e-post lokalt för systemet, inte för att skicka e-post till andra
eller för att ta emot post från andra.

Om du vill att exim4 ska hantera extern e-post, referera till nästa
underavsnitt för de grundläggande konfigurationsalternativen. Se till att testa
att post kan skickas och tas emot korrekt.

Om du tänker använda ett grafiskt e-postprogram och använda en e-postserver hos
din Internetleverantör (ISP) eller ditt företag, finns det egentligen inget
behov att konfigurera exim4 till att hantera extern e-post. Konfigurera helt
enkelt ditt grafiska favoritpostprogram till att använda de rätta servrarna
till att skicka och ta emot e-post (hur man gör det är utanför omfånget för den
här handboken).

Men om så är fallet behöver du konfigurera individuella verktyg till att
korrekt skicka e-post. Ett sådant verktyg är reportbug, ett program som
hanterar insändandet av felrapporter mot Debian-paket. Det förväntar sig som
standard att kunna använda exim4 för att skicka in felrapporter.

För att korrekt konfigurera reportbug till att använda en extern e-postserver,
kör kommandot reportbug --configure och svara "nej" på frågan om en MTA finns
tillgänglig. Du kommer då att bli frågad efter den SMTP-server som ska användas
för att skicka in felrapporter.

8.4.3. Konfigurera e-postservern Exim4

Om du vill att ditt system även ska hantera extern e-post, behöver du
konfigurera om paketet exim4^[18]:

# dpkg-reconfigure exim4-config

Efter det kommandot har angivits (som root), kommer du att bli frågad om du
vill dela upp konfigurationen i mindre filer. Välj standardalternativet om du
är osäker.

Härnäst kommer du att bli presenterad med flera vanliga postscenarior. Välj det
alternativ som bäst återspeglar dina behov.

internetsystem

    Ditt system är anslutet till ett nätverk och din e-post skickas och tas
    emot direkt via SMTP. På de efterföljande skärmarna kommer du bli frågad en
    del enkla frågor, såsom postnamnet för din maskin, eller en lista på
    domäner för vilka du tar emot eller vidaresänder post.

e-post skickad av smart värd

    I det här scenariot kommer din utgående post att vidarebefordras till en
    annan maskin, en så kallad "smart värd" (smarthost), som tar hand om
    sändningen av meddelandet till dess mål. Den smarta värden lagrar
    vanligtvis inkommande post som är adresserad till din dator, så att du inte
    behöver vara permanent ansluten. Det betyder också att du måste hämta din
    e-post från den smarta värden med program som till exempel fetchmail.

    I många fall kommer den smarta värden att vara din Internetleverantörs
    e-postserver, vilket gör det här alternativ mycket lämpligt för användare
    med uppringd anslutning. Den kan även vara ett företags e-postserver, eller
    till och med ett annat system på ditt egna nätverk.

e-post skickad av smart värd; ingen lokal post

    Det här alternativet är i stort sett samma som det föregående, förutom att
    systemet inte kommer att konfigureras till att hantera post för en lokal
    e-postdomän. Post på själva systemet (t.ex. för systemadministratören)
    kommer fortfarande att hanteras.

endast lokal leverans

    Det här alternativet har ditt system konfigurerats med som standard.

ingen konfiguration för närvarande

    Välj den här om du är absolut säker på att du vet vad du gör. Det innebär
    att du kommer att ha ett okonfigurerat e-postsystem -- tills du
    konfigurerar det, du kommer inte att kunna ta emot eller skicka någon post
    och du kan missa viktiga meddelanden från dina systemverktyg.

Om inget av dessa scenarior passar dina behov, eller om du behöver en mer
finmaskig konfiguration, behöver du redigera konfigurationsfilerna i katalogen
/etc/exim4 efter att installationen är färdig. Mer information om exim4 kan
hittas i /usr/share/doc/exim4; filen README.Debian.gz har ytterligare detaljer
om hur man konfigurerar exim4 och förklarar var man kan hitta ytterligare
dokumentation.

Observera att sändning av post direkt till Internet, när du inte har ett
officiellt domännamn, kan resultera i att din post avvisas på grund av
skräppostfunktioner på mottagande servrar. Användning av din
Internetleverantörs e-postserver är att föredra. Om du fortfarande vill skicka
ut post direkt, kanske du vill använda en annan e-postadress än den som
genereras som standard. Om du använder exim4 som din MTA, är det här möjligt
genom att lägga till en post i /etc/email-addresses.

8.5. Bygg en ny kärna

Varför skulle någon vilja sammanställa en ny kärna? Det är förmodligen inte
nödvändigt eftersom standardkärnan som levereras med Debian hanterar nästan
alla konfigurationer.

Om du ändå vill kompilera en egen kärna är detta förstås möjligt och vi
rekommenderar att du använder "make deb-pkg" målet. För mer information, läs
Debian Linux kernel Handbook.

8.6. Återställning av ett trasigt system

Ibland går saker och ting fel och systemet du noga installerat inte kan startas
upp. Kanske är konfigurationen för starthanteraren trasig efter att ha provat
ut en ändring, kanske startar inte den nya kärnan du installerat eller kanske
kosmiska strålar träffat din disk och vänt på en bit i /sbin/init. Oavsett
anledning behöver du ett fungerande system under tiden du reparerar felet och
räddningsläget kan då vara användbart för det här.

För att komma åt räddningsläget, välj rescue från uppstartsmenyn, ange rescue
vid prompten boot: eller starta med startparametern rescue/enable=true. Du
kommer då att visas de första skärmarna av installationsprogrammet med en
notering i skärmhörnet som indikerar att den körs i räddningsläget och inte en
full installation. Var lugn, ditt system kommer inte att skrivas över!
Räddningsläget använder helt enkelt fördelarna av funktionerna för
identifiering av maskinvara som är tillgängliga i installationsprogrammet för
att vara säker på att dina diskar, nätverksenheter och så vidare är
tillgängliga för dig under tiden du reparerar ditt system.

Istället för partioneringsverktyget bör du nu presenteras med en lista över
partitionerna på ditt system och bli frågad att välja en av dem. Normalt sett
bör du välja partitionen som innehåller rotfilsystemet du behöver reparera. Du
kan välja partitioner på RAID- och LVM-enheter såväl som de som skapas direkt
på diskarna.

Om möjligt kommer installationsprogrammet nu att ge dig en skalprompt i
filsystemet du valt, vilket du kan använda för att genomföra nödvändiga
reparationer. Till exempel om du behöver installera om starthanteraren GRUB
till huvudstartsektorn på första hårddisken kan du ange kommandot grub-install
'(hd0)' för att göra det här.

Om installationsprogrammet inte kan köra ett användbart skal i rotfilsystemet
du valt, det kanske beror på att filsystemet innehåller fel, kommer den att
skriva ut en varning och efter det ge dig ett skal i installationsprogrammets
miljö istället. Du kanske inte har så många verktyg tillgängliga i denna miljö
men de räcker ofta för att laga ditt system. Rotfilsystemet du valt kommer att
monteras på katalogen /target.

Oavsett vilket, efter du har avslutat skalet kommer systemet att startas om.

Till slut, observera att det kan vara svårt att reparera trasiga system och
denna handbok försöker inte att gå in så djupt i alla saker som kan ha gått fel
och hur man rättar till dem. Om du har problem, konsultera en expert.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[15] Under SysV init systemet hade halt samma effekt som poweroff, men med
systemd som init system (standard sedan Jessie) är deras effekter olika.

^[16] Exempel är: cron, quota, logcheck, aide, ...

^[17] Vidarebefordring av e-post för root till det vanliga användarkontot
konfigureras i /etc/aliases. Om inget vanligt användarkonto skapades, kommer
posten så klart att levereras till själva root-kontot.

^[18] Du kan så klart också ta bort exim4 och ersätta det med en alternativ MTA
/MDA.

Appendix A. Installationshjälp

Innehållsförteckning

A.1. Förberedelser
A.2. Starta upp installationsprogrammet
    A.2.1. Optisk skiva
    A.2.2. USB-minne
    A.2.3. Uppstart från nätverk
    A.2.4. Uppstart från hårddisk
A.3. Installation
A.4. Sänd oss en installationsrapport
A.5. Och till slut...

Det här dokumentet beskriver hur man installerar Debian GNU/Linux trixie för 
64-bit PC ("amd64") med den nya debian-installer. Det här är en snabb genomgång
av installationsprocessen vilken bör innehålla all information du behöver för
de flesta typer av installationer. När mer information är användbart kommer vi
att länka till mer detaljerade förklarningar i andra delar av det här
dokumentet.

A.1. Förberedelser

Om du påträffar fel under din installation, referera till Avsnitt 5.4.7,
"Skicka installationsrapporter" för instruktioner om hur man rapporterar dem.
Om du har frågor som inte kan bli besvarade av det här dokumentet, skicka dem
gärna till sändlistan debian-boot (debian-boot@lists.debian.org) eller fråga på
IRC (#debian-boot på OFTC-nätverket).

A.2. Starta upp installationsprogrammet

Debian-cd-teamet ger ut färdiga installationsavbildningar med debian-installer
på sidan Debian GNU/Linux på CD/DVD. För mer information om var man får tag på
installationsavbildningar, se Avsnitt 4.1, "Officiella Debian GNU/Linux
installationsavbildningar".

Vissa installationsmetoder kräver andra avbildningar än för optiska medier.
Avsnitt 4.2.1, "Var man får tag på installationsfiler" beskriver hur man hittar
avbildningar på Debian-speglar.

Underavsnitten nedan ger detaljer om vilka avbildningar du bör hämta för varje
tänkbar installation.

A.2.1. Optisk skiva

The netinst CD image is a popular image which can be used to install trixie
with the debian-installer. This installation method is intended to boot from
the image and install additional packages over a network; hence the name "
netinst". The image has the software components needed to run the installer and
the base packages to provide a minimal trixie system. If you'd rather, you can
get a DVD image which will not need the network to install. You only need the
first image of such set.

Hämta den typ du föredrar och bränn den till en optisk skiva. För att starta
skivan kanske du behöver att ändra din BIOS/UEFI-konfiguration som förklaras i
Avsnitt 3.6.1, "Starta BIOS/UEFI-inställningsmenyn".

A.2.2. USB-minne

Det är också möjligt att installera från en flyttbar USB-lagringsenhet. Till
exempel kan en USB-nyckelring vara ett händigt lagringsmedia att installera
Debian från och som du kan ta med dig överallt.

Det enklaste sättet att förbereda ditt USB-minne är att hämta en Debian CD-
eller DVD-avbildning som får plats på det och skriva CD-avbildningen direkt
till minnet. Så klart kommer det här att förstöra allt som redan finns på
minnet. Detta fungerar eftersom Debian CD/DVD-avbildningar är "isohybrid" som
kan startas både från optiska och USB-enheter.

There are other, more flexible ways to set up a memory stick to use the
debian-installer, and it's possible to get it to work with smaller memory
sticks. For details, see our wiki.

Även om uppstart från USB-lagring är ganska vanligt på UEFI-system, är detta
något annorlunda i den äldre BIOS-världen. Vissa BIOS kan starta upp på
USB-minnen direkt och vissa kan det inte. Du kan behöva konfigurera ditt BIOS/
UEFI för att aktivera "USB legacy stöd" eller "Legacy stöd". Menyn för val av
startenhet bör visa "flyttbar enhet" eller "USB-HDD" för att få den att starta
upp från USB-enheten. För hjälpfulla tips och detaljer, se Avsnitt 5.1.1,
"Uppstart från USB-minne".

A.2.3. Uppstart från nätverk

Det är också möjligt att starta upp debian-installer helt från nätverket. De
olika metoderna att nätstarta beror på din arkitektur och
nätstartskonfiguration. Filerna i netboot/ kan användas för att nätstarta
debian-installer.

Det enklaste sättet att konfigurera är antagligen nätstart via PXE. Packa upp
filen netboot/pxeboot.tar.gz till /srv/tftp eller där det är lämpligast för din
tftp-server. Ställ in din DHCP-server att skicka filnamnet pxelinux.0 till
klienterna och med lite tur bör allt fungera. För detaljerade instruktioner, se
Avsnitt 4.5, "Förbered filerna för nätverksuppstart via TFTP".

A.2.4. Uppstart från hårddisk

It's possible to boot the installer using no removable media, but just an
existing hard disk, which can have a different OS on it. Download hd-media/
initrd.gz, hd-media/vmlinuz, and a Debian DVD image to the top-level directory
of the hard disk. Make sure that the image has a filename ending in .iso. Now
it's just a matter of booting linux with the initrd. Avsnitt 5.1.3, "Uppstart
från Linux med GRUB" explains one way to do it.

A.3. Installation

När installationsprogrammet har startat kommer du bli hälsad med en startskärm.
Tryck Enter för uppstart, eller läs instruktionerna för de andra
uppstartsmetoderna och parametrar (se Avsnitt 5.3, "Uppstartsparametrar").

Efter ett tag kommer du bli frågad att välja ditt språk. Använd piltangenterna
för att välja ett språk och tryck Enter för att fortsätta. Efter det kommer du
bli frågad att välja ditt land med de val som inkluderar länder där ditt språk
talas. Om det är inte är på den korta listan finns en lista över alla länder i
världen.

Du kan bli frågad att bekräfta ditt tangentbordarrangemang. Välj den förvalda
om du är osäker.

Nu är det bara att luta sig tillbaka under tiden Debian-installeraren
identifierar din maskinvara och läser in resten av installationsavbildningen.

Efter det kommer installationsprogrammet att försöka att identifiera din
nätverksmaskinvara och ställa in nätverket via DHCP. Om du inte är ansluten
till ett nätverk eller inte har DHCP har du getts möjligheten att konfigurera
nätverket manuellt.

Inställningen av nätverket följs av skapandet av användarkonton. Som standard
ombeds du att ange ett lösenord för "root" (administratör) -kontot och
information som krävs för att skapa ett vanligt användarkonto. Om du inte anger
ett lösenord för "root" -användaren kommer detta konto att inaktiveras men
paketet sudo kommer att installeras senare så att administrativa uppgifter kan
utföras på det nya systemet. Som standard tillåts den första användaren som
skapats i systemet att använda kommandot sudo för att bli root.

Nästa steg är att konfigurera din klocka och tidszon. Installationsprogrammet
kommer att försöka att kontakta en tidsserver på Internet för att försäkra sig
om att klockan ställs in korrekt. Tidszonen baseras på det land som tidigare
valts och installationsprogrammet kommer endast att fråga om att välja en
tidszon om ett land har flera olika zoner.

Nu är det dags att partitionera dina diskar. Först kommer du få möjligheten att
automatiskt partitionera, antingen en hel disk eller ledigt utrymme på en disk
(se Avsnitt 6.3.4.2, "Guidad partitionering").. Det här rekommenderas för nya
användare eller de som har bråttom. Om du inte vill partitionera automatiskt,
välj Manuell från menyn.

Om du har en befintlig Windows-partition som du vill behålla, var väldigt
försiktig med automatisk partitionering. Om du väljer manuell partitionering
kan du använda installationsprogrammet för att ändra storlek på existerande FAT
eller NTFS-partitioner för att skapa plats åt Debian-installationen: välj helt
enkelt partitionen och ange dess nya storlek.

På nästa skärm kan du se din partitionstabell, hur partitionerna kommer att
formateras och var de kommer att monteras. Välj en partition att ändra eller ta
bort. Om du använde automatisk partitionering bör du kunna välja Slutför
partitioneringen och skriv ändringarna till hårddisken från menyn för att
använda det som ställts in. Kom ihåg att tilldela åtminstone en partition som
växlingsutrymme och att montera en partition på /. För mer detaljerad
information om hur du använder partitioneraren, se Avsnitt 6.3.4,
"Partitionering och val av monteringspunkter"; bilagan Appendix C, Partitionera
för Debian har mer allmän information om partitionering.

Nu kommer debian-installer att formatera dina partitioner och börja installera
grundsystemet, vilket kan ta lite tid. Det här följs av installation av kärnan.

The base system that was installed earlier is a working, but very minimal
installation. To make the system more functional the next step allows you to
install additional packages by selecting tasks. Before packages can be
installed apt needs to be configured as that defines from where the packages
will be retrieved. The "Standard system utilities" task will be selected by
default and should normally be installed. Select the "Desktop environment" task
if you would like to have a graphical desktop after the installation. See
Avsnitt 6.3.6.2, "Val och installation av programvara" for additional
information about this step.

Det sista steget är att installera en starthanterare. Om
installationsprogrammet identifierar andra operativsystem på din dator kommer
den att lägga till de i uppstartsmenyn och informera dig. Som standard kommer
GRUB att installeras i UEFI-partionens boot-fält på den första diskenheten som
normalt sett är ett bra val. Du kommer att ges möjligheten att åsidosätta det
valet och installera den någon annanstans.

debian-installer kommer nu att berätta för dig att installation är
färdigställd. Mata ut cd-skivan eller andra uppstartsmedia och tryck Enter för
att starta om din maskin. Den bör starta upp till det nyligen installerade
systemet där du kan logga in. Det här förklaras mer i Kapitel 7, Starta upp
ditt nya Debian-system.

Om du behöver mer information om installationsprocessen, se Kapitel 6, 
Användning av Debian Installer.

A.4. Sänd oss en installationsrapport

Om du lyckades att göra en installation med debian-installer, ta dig gärna tid
att skicka in en rapport till oss. Det enklaste sättet att göra det på är att
installera paketet reportbug (apt install reportbug), konfigurera reportbug
vilket förklaras i Avsnitt 8.4.2, "Skicka e-post utanför systemet", och köra 
reportbug installation-reports.

Om du inte färdigställde installation har du möjligen hittat ett fel i
Debian-installer. För att förbättra installationsprogrammet är det nödvändigt
att vi känner till dessa fel, så ta dig tid att rapportera dem. Du kan använda
en installationsrapport för att rapportera problem; om installationen totalt
misslyckades, se Avsnitt 5.4.6, "Rapportering av installationsproblem".

A.5. Och till slut...

Vi hoppas att din Debian-installation känns bra och att du tycker att Debian är
användbar. Du kanske även vill läsa Kapitel 8, Nästa steg och hur man ska gå
vidare.

Appendix B. Automatiserad installation med förinställningar

Innehållsförteckning

B.1. Introduktion
    B.1.1. Metoder för förinställning
    B.1.2. Begränsningar
B.2. Användning av förinställningar
    B.2.1. Inläsning av förkonfigurationsfilen
    B.2.2. Användning av uppstartsparametrar för att förinställa frågor
    B.2.3. Auto-läget
    B.2.4. Användbara alias vid förinställning
    B.2.5. Exempel på förinställning av uppstartsprompt
    B.2.6. Använd en DHCP-server för att ange förkonfigurationsfiler
B.3. Skapa en förkonfigurationsfil
B.4. Innehållet av en förkonfigurationsfil (för trixie)
    B.4.1. Lokalanpassning
    B.4.2. Speech synthesis
    B.4.3. Nätverkskonfiguration
    B.4.4. Nätverkskonsoll
    B.4.5. Spegelinställningar
    B.4.6. Kontoinställning
    B.4.7. Inställning av klocka och tidszon
    B.4.8. Partitionering
    B.4.9. Installation av grundsystem
    B.4.10. Apt-inställning
    B.4.11. Paketval
    B.4.12. Installation av starthanteraren
    B.4.13. Färdigställande av installationen
    B.4.14. Förinställning av andra paket
B.5. Avancerade inställningar
    B.5.1. Kör anpassade kommandon under installationen
    B.5.2. Användning av förinställningar för att ändra på standardvärden
    B.5.3. Kedjeinläsning av förkonfigurationsfiler

Den här bilagan förklarar hur man förinställer svar på frågor i
debian-installer för att automatisera din installation.

Konfigurationsdelarna som används i den här bilagan finns även tillgängliga som
exempelfiler för förkonfiguration från ../example-preseed.txt.

B.1. Introduktion

Förinställningar ger ett sätt att ställa in svar på frågor som ställs under
installationsprocessen, utan att manuellt behöva ange svaren under tiden
installationen körs. Det här gör det möjligt att fullständit automatisera de
flesta typer av installationer och erbjuder även vissa funktioner som inte
finns tillgängliga vid normala installationer.

Förinställning är inte nödvändigt. Om du använder en tom förinställningsfil
kommer installationsprogrammet att uppträda på samma sätt som vid en vanlig
manuell installation. Varje fråga som du förinställer kommer (om du har gjort
rätt!) ändra installationen på något sätt från den grundregeln.

B.1.1. Metoder för förinställning

Det finns tre metoder som kan användas för förinställning: initrd, fil och
nätverk. Förinställning med initrd fungerar med alla installationsmetoder och
har stöd för förinställningar av fler saker, men den kräver den största
förberedelsen. Förinställning med fil och nätverk kan användas med olika
installationsmetoder.

Följande tabell visar vilka förinställningsmetoder som kan användas med vilka
installationsmetoder.

┌─────────────────────────────────────────────────┬─────────┬─────┬───────────┐
│               Installationsmetod                │ initrd  │ fil │  nätverk  │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│CD/DVD/USB                                       │ja       │ja   │ja^[a]     │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│nätuppstart                                      │ja       │nej  │ja         │
├─────────────────────────────────────────────────┼─────────┼─────┼───────────┤
│hd-media (inklusive USB-minne)                   │ja       │ja   │ja^[a]     │
├─────────────────────────────────────────────────┴─────────┴─────┴───────────┤
│^[a] men endast om du har nätverksåtkomst, och ställer in preseed/url på     │
│lämpligt sätt                                                                │
└─────────────────────────────────────────────────────────────────────────────┘

En viktig skillnad mellan förinställningsmetoderna är när
förkonfigurationsfilen läses in och behandlas. För förinställning via initrd
görs det här direkt i början av installationen, före den första frågan ställs.
Förinställning från kärnans kommandorad sker strax efter. Det är alltså möjligt
att åsidosätta konfigurationsinställningarna i initrd:n genom att redigera
kärnans kommandorad (antingen i startladdar-konfigurationen eller manuellt vid
uppstart för startladdare som tillåter det). För förinställning via fil görs
det här efter installationsavbildningen har lästs in. För förinställning via
nätverk är det endast efter att nätverket har konfigurerats.

Viktigt

Uppenbarligen kan alla frågor som har bearbetats innan förkonfigurationsfilen
laddas inte förinställas (detta kommer att inkludera frågor som bara visas med
medelhög eller låg prioritet, som den första hårdvaruidentifieringskörningen).
Ett inte så bekvämt sätt att undvika att dessa frågor ställs är att förinställa
dem genom startparametrarna, som beskrivs i Avsnitt B.2.2, "Användning av
uppstartsparametrar för att förinställa frågor".

För att enkelt förhindra frågorna som vanligtvis visas innan förinställningen
sker, kan du starta installationsprogrammet i "auto"-läget. Det här fördröjer
frågor som vanligtvis skulle ställas för tidigt för förinställning (alltså
språk, land och tangentbordsval) tills efter nätverket har konfigurerats,
vilket tillåter dem att bli förinställda. Det kan även köra installationen i
kritisk prioritet, vilket undviker många oviktiga frågor. Se Avsnitt B.2.3,
"Auto-läget" för detaljer.

B.1.2. Begränsningar

Även om de flesta frågor som används av debian-installer kan förinställas med
den här metoden finns det vissa undantag. Du måste partitionera (om) en hel
disk eller använda tillgängligt ledigt utrymme på en disk; det är inte möjligt
att använda befintliga partitioner.

B.2. Användning av förinställningar

Du behöver först skapa en förkonfigurationsfil och placera den på platsen där
du vill använda den. Skapandet av förkonfigurationsfilen förklaras senare i den
här bilagan. Lägga den på rätt plats är ganska självförklarande för
förinställning via nätverket eller om du vill läsa filen från ett USB-minne. Om
du vill inkludera filen på en i en installations ISO avbild, behöver du göra om
avbildningen. Hur man får förkonfigurationsfil inkluderad i initrd är utanför
omfånget för det här dokumentet; konsultera utvecklarnas dokumentation för
debian-installer.

Ett exempel på en förkonfigurationsfil du kan använda som grund för din egna
förkonfigurationsfil finns tillgänglig från ../example-preseed.txt. Den filen
är baserad på konfigurationsdelarna som inkluderats i den här bilagan.

B.2.1. Inläsning av förkonfigurationsfilen

Om du använder förinställning via initrd, behöver du endast se till att filen
som heter preseed.cfg finns inkluderar i rotkatalogen på initrd.
Installationsprogrammet kommer automatiskt att kontrollera om den filen finns
och sedan läsa in den.

För de övriga förinställningsmetoderna behöver du tala om för
installationsprogrammet vilken fil du använder när du startar upp den. Det gör
du genom att skicka med en uppstartsparameter till kärnan, antingen manuellt
vid uppstart eller genom att redigera konfigurationsfilen för starthanteraren 
(syslinux.cfg) och där lägga till parametern på slutet av append-raden för
varje kärna som listas. För kärnan.

Om du anger förkonfigurationsfilen i konfigurationen för starthanteraren, bör
du kanske ändra konfigurationen så att du inte behöver trycka Enter för att
starta installationsprogrammet. För syslinux betyder det att ställa in
timeout-värdet till 1 i syslinux.cfg.

För att se till att installationsprogrammet får rätt förkonfigurationsfil, kan
du valfritt ange en kontrollsumma för filen. För närvarande behöver det vara en
md5sum och om den anges måste den stämma med förkonfigurationsfilen eller så
kommer installationsprogrammet att vägra använda den.

Uppstartsparametrar att ange:
- om du startar upp via nätverket:
  preseed/url=http://värd/sökväg/till/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d
eller
  preseed/url=http://värd/sökväg/till/preseed.cfg
  preseed/url/checksum=5da499872becccfeda2c4872f9171c3d



- om du startar upp på en ombyggd cd:
  preseed/file=/cdrom/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

- om du installerar från ett USB-media (lägg förkonfigurationsfilen i
  rotkatalogen på USB-minnet):
  preseed/file=/hd-media/preseed.cfg
  preseed/file/checksum=5da499872becccfeda2c4872f9171c3d

Observera att preseed/url kan kortas ner till endast url, preseed/file till
file och preseed/file/checksum till preseed-md5 när de skickas med som
uppstartsparametrar.

B.2.2. Användning av uppstartsparametrar för att förinställa frågor

Om en förkonfigurationsfil inte kan användas för att förinställa vissa steg,
kan installationsprogrammet fortfarande vara fullständigt automatiserad
eftersom du kan skicka förinställningsvärden på kommandoraden när
installationsprogrammet startar upp.

Uppstartsparametrar kan även användas om du inte vill använda förinställning
utan bara vill tillhandahålla ett svar på en specifik fråga. Några exempel på
var det här kan vara användbart finns dokumenterat i den här handboken.

För att ställa in ett värde som kan användas i debian-installer, skicka helt
enkelt sökväg/till/variabel=värde för någon av de förinställningsvariabler som
listas i de exempel i den här bilagan. Om ett värde ska användas för att
konfigurera paket för målsystemet, behöver du lägga till owner^[19] för
variabeln som i ägare:sökväg/till/variabel=värde. Om du inte anger ägaren,
kommer värdet för variabeln inte att kopieras till debconf-databasen på
målsystemet och därigenom inte användas under konfigurationen av det relevanta
paketet.

Vanligtvis betyder förinställning av en fråga på det här sättet att frågan inte
kommer att ställas. För att ställa in ett specifikt standardvärde för en fråga,
men fortfarande ställa frågan, kan du använda "?=" istället för "=" som
operator. Se även Avsnitt B.5.2, "Användning av förinställningar för att ändra
på standardvärden".

Observera att vissa variabler som ofta ställs in vid uppstartsprompten har ett
kortare alias. Om ett alias finns tillgängligt kommer det att användas i
exemplen i denna bilaga istället för den fullständiga variabeln. Speciellt
variabeln preseed/url, som har fått aliaset url. Ett annat exempel är aliaset
tasks som översätts till tasksel:tasksel/first.

En "---" i uppstartsflaggorna har en speciell betydelse. Kärnparametrar som
dyker upp efter den sista "---" kan kopieras in i starthanterarens
konfiguration för det installerade systemet (om det stöds av
installationsprogrammet för starthanteraren). Installationsprogrammet kommer
automatiskt att filtrera ut alla flaggor (som förkonfigurationsflaggor) som den
känner igen.

Notera

De aktuella linux-kärnorna (2.6.9 och senare) accepterar maximalt 32
kommandoradsflaggor och 32 miljöflaggor, inklusive eventuella flaggor som läggs
till som standard för installationsprogrammet. Om dessa tal överstigs kommer
kärnan att få panik (krasch). (För tidigare kärnor var dessa tal lägre.)

För de flesta installationer kan vissa av de standardflaggor i din
konfigurationsfil för starthanteraren såsom vga=normal med säkerhet tas bort,
vilket kan ge dig möjlighet att lägga till fler flaggor för förinställningen.

Notera

Det kanske inte alltid är möjligt att ange värden med blanksteg för
uppstartsparametrar, även om du avgränsar dem med citationstecken.

B.2.3. Auto-läget

Det finns flera funktioner i Debians Installationsprogram som kombinerar att
tillåta ganska enkla kommandorader vid startprompten för att resultera i
godtyckligt komplexa anpassade automatiska installationer.

Dessa är aktiverade genom att använda Automated installboot-valet, även kallat
auto för vissa arkitekturer eller startmetoder. I denna sektion, auto är alltså
ingen parameter det betyder att du väljer det startalternativet och lägger till
följande startparametrar på startprompten. SeAvsnitt 5.1.5, "Uppstartsskärmen"
för information om hur du lägger till en startparameter.

För att visa detta är några exempel som kan användas vid uppstartsprompten:

auto url=autoserver

Det här förlitar sig på att det finns en DHCP-server som får maskinen till den
punkt där autoserver kan slås upp av DNS, kanske efter den lokala domänen läggs
till om den tillhandahölls av DHCP. Om det gjordes på ett system där domänen
var exampel.se, och de har en ganska förnuftig DHCP-konfiguration, skulle det
resultera i att förinställningsfilen hämtades från http://autoserver.exampel.se
/d-i/trixie/./preseed.cfg.

Den sista delen av den url:en (d-i/trixie/./preseed.cfg) hämtas från
auto-install/defaultroot. Som standard inkluderar det här katalogen trixie för
att tillåta att framtida versioner anger sina egna kodnamn och låter folk
migrera framåt på ett kontrollerat sätt. Biten /./ används för att indikera en
rot, relativ till vilka efterföljande sökvägar som kan fästas (för användning i
preseed/include och preseed/run). Det här tillåter att filer kan anges antingen
som fullständiga url:er, sökvägar som börjar med / som då är fästa, eller även
sökvägar relativa till platsen där den senaste förinställningsfilen hittades.
Det här kan användas för att bygga mer portabla skript där en hel hierarki av
skript kan flyttas till en ny plats utan att göra sönder den, till exempel
kopiera filerna till ett USB-minne när de ursprungligen fann spå en webbserver.
I det här exemplet, om förinställningsfilen ställer in preseed/run till /skript
/sent_kommando.sh kommer filen att hämtas från http://autoserver.exempel.se/d-i
/trixie/./skript/sent_kommando.sh.

Om det inte finns någon lokal DHCP- eller DNS-infrastruktur, eller om du inte
vill använda standardsökvägen till preseed.cfg, kan du fortfarande använda en
angiven url, och om du inte vill använda elementet /./ kommer det att fästas
till början av sökvägen (alltså den tredje / i url:en). Här är ett exempel som
kräver minimalt stöd från den lokala nätverksinfrastrukturen:

auto url=http://192.168.1.2/sökväg/till/minförinställnings.fil

Sättet det här fungerar på är:

  • om url:en saknar ett protokoll, antas http,

  • om värdnamnssektionen inte innehåller punkter, den har erhållit domänen
    från DHCP som lagt till den, och

  • om det inte finns några / efter värdnamnet, kommer standardsökvägen att
    läggas till.

I tillägg till att ange url:en, kan du även ange inställningar som inte direkt
påverkar beteendet för själva debian-installer, men som kan skickas genom till
skript som angivits med preseed/run i den inlästa förinställningsfilen. För
tillfället, det enda exemplet på det här är auto-install/classes, vilken har
aliaset classes. Den här kan användas på detta sätt:

auto url=exampel.se classes=klass_A;klass_B

Klasserna skulle till exempel kunna beteckna systemtypen som ska installeras,
eller lokalanpassningen som ska användas.

Det är så klart möjligt att utöka det här konceptet, och om du gör det, är det
rimligt att använda namnrymden auto-install namespace för det här. Så ett
exempel på det här är auto-install/style vilket sedan används i dina skript. Om
du känner behovet att göra det här, nämn det på sändlistan <
debian-boot@lists.debian.org> så att vi kan undvika konflikter i namnrymden,
och kanske lägga till ett alias för parametern åt dig.

Uppstartval auto är ännu inte definierad på alla arkitekturer. Samma effekt kan
uppnås genom att helt enkelt lägga till de två parametrarna auto=true priority=
critical till kärnans kommandorad. Parametern auto kärnparametern är ett alias
för auto-install/enable och ställer man in den till true så fördröjs frågor om
lokalanpassning och tangentbord tills efter det finns en chans att förinställa
dem, samt priority är ett alias för debconf/priority och ställer man in den
till critical så stoppas alla frågor med en lägre prioritet från att ställas.

When an Automatic install is selected without also specifying a preseed
configuration, the user will be prompted to provide a preseed location.
Alternatively, if a preseed configuration has been specified, then that prompt
is normally suppressed in order to enable a fully non-interactive install.
However, if the intent is to modify defaults by using a preseed.cfg in an
initrd, then the result should really behave as though no preseeding has yet
been specified, even though it has. In that case, the debconf variable
auto-install/cloak_initrd_preseed can be set to true (e.g. in the initrd's
preseed.cfg). to get the required behaviour.

Ytterligare flaggor som kan vara intressanta vid försök att automatisera en
installation när DHCP används är: interface=auto netcfg/dhcp_timeout=60 vilket
gör att maskinen väljer det första användbara nätverkskortet och väntar lite
längre på ett svar på sin DHCP-fråga.

Tips

Ett djupgående exempel på hur man använder det här ramverket, inklusive
exempelskript och klasser, kan hittas på webbsidan för dess utvecklare.
Exemplen som finns tillgängliga där visar många andra trevliga effekter som kan
uppnås genom kreativ användning av förkonfigurering.

B.2.4. Användbara alias vid förinställning

Följande alias kan vara användbara vid användning av (automatiskt läge)
förinställning. Observera att dessa helt enkelt är kort alias för frågenamn,
och du behöver även alltid ange ett värde: till exempel, auto=true eller
interface=eth0.

priority         debconf/priority
fb               debian-installer/framebuffer
auto             auto-install/enable
classes          auto-install/classes
fil              preseed/file
url              preseed/url
theme            debian-installer/theme
language         debian-installer/language
country          debian-installer/country
locale           debian-installer/locale
keymap           keyboard-configuration/xkb-keymap
modules          anna/choose_modules
firmware         hw-detect/firmware-lookup
interface        netcfg/choose_interface
domain           netcfg/get_domain
hostname         netcfg/get_hostname
protocol         mirror/protocol
suite            mirror/suite
rekommendationer base-installer/install-recommends
tasks            tasksel:tasksel/first
desktop          tasksel:tasksel/desktop
preseed-md5      preseed/file/checksum

B.2.5. Exempel på förinställning av uppstartsprompt

Här är några exempel på hur startprompten kan se ut (du måste anpassa detta
till dina behov ; se också Avsnitt 5.1.5, "Uppstartsskärmen".

# För att ställa in franska som språk och Frankrike som land:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=fr country=FR --- quiet
# För att ställa in engelska som språk och Tyskland som land och använda en tysk tangentbordslayout:
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz language=en country=DE locale=en_US.UTF-8 keymap=de --- quiet
# För att installera MATE skrivbordet
/install.amd/vmlinuz vga=788 initrd=/install.amd/gtk/initrd.gz desktop=mate-desktop --- quiet
# För att installera webbserveruppgiften:
/install.amd/vmlinuz initrd=/install.amd/initrd.gz tasksel:tasksel/first=web-server ---

B.2.6. Använd en DHCP-server för att ange förkonfigurationsfiler

Det är också möjligt att använda DHCP för att ange en förkonfigurationsfil att
hämta från nätverket. DHCP tillåter att man anger ett filnamn. Normalt är det
en fil som används för uppstart via nätverket men om det verkar vara en URL så
kommer installationsmediumet som har stöd för förinställning via nätverket att
hämta filen från URL:en och använda det som en förkonfigurationsfil. Här är ett
exempel på hur man ställer in dhcpd.conf för version 3 av ISC DHCP-servern
(Debian-paketet heter isc-dhcp-server).

if substring (option vendor-class-identifier, 0, 3) = "d-i" {
    filename "http://värd/preseed.cfg";
}

Observera att exemplet ovan begränsar filnamnet till DHCP-klienter som
identifierar sig själva som "d-i", så det kommer inte att påverka vanliga
DHCP-klienter men endast installationsprogrammet. Du kan också lägga in text i
en sats för endast en speciell värd för att undvika förinställning av alla
installationer på ditt nätverk.

Ett bra sätt att använda förinställning via DHCP är att endast förinställa
värden specifika till ditt nätverk, såsom vilken Debian-spegel som ska
användas. Det här sättet kommer installationer på ditt nätverk att automatiskt
få en bra spegel vald men resten av installationen kan genomföras interaktivt.
Använda förinställning via DHCP för att helt automatisera Debian-installationer
ska genomföras med försiktighet.

B.3. Skapa en förkonfigurationsfil

Förkonfigurationsfilen är i samma format som används av kommandot 
debconf-set-selections. Det allmänna formatet för en rad i en
förkonfigurationsfil är:

<ägare> <frågans namn> <frågetyp> <värde>

Denna fil ska börja med #_preseed_V1

Det finns ett par regler att ha i åtanke när man skriver en
förkonfigurationsfil.

  • Lägg endast till ett enda blanksteg eller tabulatortecken mellan typ och
    värde: eventuella tomrum kommer att tolkas som om de tillhör värdet.

  • En rad kan vara uppdelad i flera rader genom att lägga till ett omvänt
    snedstreck på slutet ("\") som ett radfortsättningstecken. En bra plats att
    dela en rad är efter frågenamnet; en dålig plats är mellan typ och värde.
    Delade rader kommer att sammanfogas till en enda rad med alla inledande/
    avslutade tomrum ihopslagna till ett enda blanksteg.

  • För debconf-variabler (mallar) som endast används i själva
    installationsprogrammet bör ägaren ställas in till "d-i"; för
    förinställningsvariabler som används i det installerade systemet bör namnet
    på paketet som innehåller motsvarade debconf-mall användas. Endast
    variabler som har sina ägare inställda till någonting annat än "d-i" kommer
    att propageras till debconf-databasen för det installerade systemet.

  • De flesta frågor behöver förinställdas med giltiga värden på engelska och
    inte med översatta värden. Dock finns det några frågor (till exempel i
    partman) där översatta värden måste användas.

  • Vissa frågor tar en kod som ett värde istället för den engelska texten som
    visas under installationen.

  • Börja med #_preseed_V1

  • En kommentar består av en rad som börjar med ett hashtecken ("#") och
    sträcker sig upp till längden på den raden.

Det enklaste sättet att skapa en förkonfigurationsfil på är att använda
exempelfilen som länkas i Avsnitt B.4, "Innehållet av en förkonfigurationsfil
(för trixie)" som grund och arbeta vidare därifrån.

En alternativ metod är att göra en manuell installation och sedan, efter
omstart, använda debconf-get-selections från paketet debconf-utils för att
dumpa både debconf-databasen och installationsprogrammets cdebconf-databas till
en enda fil:

$ echo "#_preseed_V1" > file
$ debconf-get-selections --installer >> file
$ debconf-get-selections >> file

Dock, en fil som genereras på detta sätt kommer att ha några poster som inte
bör förinställas, och exempelfilen är en bättre startpunkt för de flesta
användare.

Notera

Denna metod förlitar sig på att vid slutet av installationen, sparas
installationsprogrammets cdebconf-databas till det installerade systemet i /var
/log/installer/cdebconf. Dock, på grund av att databasen kan innehålla känslig
information, är filerna som standard endast läsbara av root.

Katalogen /var/log/installer och alla filer i den kommer att tas bort från ditt
system om du rensar ut paketet installation-report.

För att kontrollera möjliga värden för frågor kan du använda nano för att
undersöka filerna i /var/lib/cdebconf under tiden en installation pågår. Se
templates.dat för de råa mallarna och questions.dat för de aktuella värdena och
för de värden som tilldelas till variabler.

För att kontrollera om formatet på din förkonfigurationsfil är giltigt före en
installation genomförs, kan du använda kommandot debconf-set-selections -c 
preseed.cfg.

B.4. Innehållet av en förkonfigurationsfil (för trixie)

Konfigurationsdelarna som används i den här bilagan finns även tillgängliga som
exempelfiler för förkonfiguration från ../example-preseed.txt.

Observera att det här exemplet är baserat på en installation för Intel
x86-arkitekturen. Om du installerar en annan arkitektur, vissa av exemplen
(såsom tangentbordsval och installation av starthanteraren) kanske inte är
relevanta och behöver ersättas av debconf-inställningar som är lämpliga för din
arkitektur.

Detaljer om hur de olika komponenterna i Debian Installer faktiskt fungerar
beskrivs i Avsnitt 6.3, "Användning av individuella komponenter".

B.4.1. Lokalanpassning

Under en normal installation ställs frågorna om lokalisering först, så dessa
värden kan endast förinställas via initrd eller kärnuppstarts
parametermetoderna. Autoläge (Avsnitt B.2.3, "Auto-läget") inkluderar
inställningen auto-install/enable=true (normalt via förinställningsaliaset
auto). Detta fördröjer ställandet av lokaliseringsfrågorna, så att de kan
förinställas med vilken metod som helst.

Lokalen kan användas för att ange både språk och land samt kan vara en
kombination av ett språk som stöds av debian-installer och ett känt land. Om
kombinationen inte formar en giltig lokal så kommer installationsprogrammet att
automatiskt välja en lokal som är giltig för det valda språket. För att ange
lokalen som en uppstartsparameter, använd locale=sv_SE.UTF-8.

Även om denna metod är mycket enkel att använda så tillåter den inte
förinställning av alla möjliga kombinationer av language, country och locale^
[20]. Så alternativt kan värdena förinställas individuellt. Språk och land kan
även anges som uppstartsparametrar.

# Förinställning av endast locale ställer in language, country och locale.
d-i debian-installer/locale string sv_SE.UTF-8

# Värdena kan även förinställas individuellt för större flexibilitet.
#d-i debian-installer/language string sv
#d-i debian-installer/country string SE
#d-i debian-installer/locale string sv_GB.UTF-8
# Valfritt ange ytterligare lokaler att generera.
#d-i localechooser/supported-locales multiselect sv_US.UTF-8, nl_NL.UTF-8

Tangentbordskonfiguration består av att välja en tangentkarta och (för
icke-latinska tangentbord) en växlingsknapp för att växla mellan den
icke-latinska tangentkartan och den amerikanska tangentkartan. Endast
grundläggande tangentbordsvarianter är tillgängliga under installationen.
Avancerade varianter är endast tillgängliga i det installerade systemet, genom 
dpkg-reconfigure keyboard-configuration.

# Tangentbordsval.
d-i keyboard-configuration/xkb-keymap select se
# d-i keyboard-configuration/toggle select No toggling

För att hoppa över konfiguration av tangentbordet kan du förinställa keymap med
skip-config. Det här kommer att resultera i att kärnans tangentlayout
fortsätter vara aktiv.

B.4.2. Speech synthesis

When installing with software speech synthesis (i.e. speakup.synth=soft passed
on the kernel command line), the sound board and the voice to be used can be
preseeded.

Since speech synthesis is started very early, this can only be preseeded from
initrd or the kernel command line.

Preseeding espeakup/voice also enables configuring the installed system with
speech accessibility features. This takes effect even if software speech
synthesis was not actually enabled inside the installer.

# Which ALSA card to be used for software speech.
# Can be a number from 0, or an ID as seen in
# /sys/class/sound/card*/id
#d-i espeakup/card string 0

# Which espeak-ng voice to be used
#d-i espeakup/voice string en

B.4.3. Nätverkskonfiguration

Så klart, att förinställa nätverkskonfiguration kommer inte att fungera om du
läser in din förkonfigurationsfil från nätverket. Men det är otroligt bra när
du startar upp från en optisk disk eller ett USB-minne. Om du läser in
förkonfigurationsfiler från nätverket, kan du skicka med
konfigurationsparametrar via kärnans uppstartsparametrar.

Om du behöver välja ett specifikt nätgränssnitt när du startar upp via
nätverket före inläsning av en förkonfigurationsfil från nätverket, använd en
uppstartsparameter såsom interface=eth1.

Även om förinställning av nätverkskonfigurationen normalt sett inte är möjlig
när man använder förinställning via nätverk (med "preseed/url") så kan du
använda följande hack för att komma runt det, till exempel om du vill ställa in
en statisk adress för nätverksgränssnittet. Hacket tvingar
nätverkskonfigurationen att köras igen efter att förkonfigurationsfilen har
lästs in genom att skapa ett "preseed/run"-skript som innehåller följande
kommandon:

kill-all-dhcp; netcfg

Följande debconf-variabler är relevanta för nätverkskonfiguration.

# Inaktivera nätverkskonfigurationen helt. Detta är användbart för cdrom
# installationer på icke-nätverksanslutna enheter där nätverksfrågor,
# varningar och långa timeouts är till besvär.
#d-i netcfg/enable boolean false

# netcfg kommer att välja ett gränssnitt som har länk om möjligt. Detta gör att det
# går att hoppa över att visa en lista om det finns mer än ett gränssnitt.
d-i netcfg/choose_interface select auto

# För att välja ett speciellt gränssnitt istället:
#d-i netcfg/choose_interface select eth1

# För att ställa in en annan timeout för länkdetektering (standard är 3 sekunder).
# Värden tolkas som sekunder.
#d-i netcfg/link_wait_timeout string 10

# Om du har en långsam dhcp-server och installationsprogrammet timeout väntar på
# det, det här kan vara användbart.
#d-i netcfg/dhcp_timeout string 60
#d-i netcfg/dhcpv6_timeout string 60

# Automatisk nätverkskonfiguration är standard.
# Om du föredrar att konfigurera nätverket manuellt, avkommentera denna rad och
# i den statiska nätverkskonfigurationen nedan.
#d-i netcfg/disable_autoconfig boolean true

# Om du vill att förkonfigurationsfilen ska fungera på system både med och
# utan en dhcp-server, avkommentera dessa rader i statiska nätverks
# konfiguration nedan.
#d-i netcfg/dhcp_failed note
#d-i netcfg/dhcp_options select Konfigurera nätverk manuellt

# Statisk nätverkskonfiguration.
#
# IPv4 exempel
#d-i netcfg/get_ipaddress string 192.168.1.42
#d-i netcfg/get_netmask string 255.255.255.0
#d-i netcfg/get_gateway string 192.168.1.1
#d-i netcfg/get_nameservers string 192.168.1.1
#d-i netcfg/confirm_static boolean sant
#
# IPv6 exempel
#d-i netcfg/get_ipaddress string fc00::2
#d-i netcfg/get_netmask string ffff:ffff:ffff:ffff::
#d-i netcfg/get_gateway string fc00::1
#d-i netcfg/get_nameservers string fc00::1
#d-i netcfg/confirm_static boolean sant

# Alla värdnamn och domännamn som tilldelas från dhcp har företräde
# värden ställs in här. Men att ställa in värdena förhindrar fortfarande frågorna
# från att visas, även om värden kommer från dhcp.
d-i netcfg/get_hostname string otilldelat-värdnamn
d-i netcfg/get_domain string otilldelad-domän

# Om du vill tvinga ett värdnamn, oavsett vad antingen DHCP
# server returnerar eller vad den omvända DNS-posten för IP är, avkommentar
# och justera följande rad.
#d-i netcfg/hostname string någonvärd

# Inaktivera den där irriterande WEP-nyckeldialogrutan.
d-i netcfg/wireless_wep string
# Det galna dhcp-värdnamnet som vissa internetleverantörer använder som ett slags lösenord.
#d-i netcfg/dhcp_hostname string radisa

# Om du vill inaktivera uppslagning av fast programvara helt (dvs. inte använda filer för fast programvara
# eller paket som kan vara tillgängliga på installationsavbilder):
#d-i hw-detect/firmware-lookup string never

# Om icke-fri fast programvara behövs för nätverket eller annan hårdvara, kan du
# konfigurera installationsprogrammet att alltid försöka ladda det, utan att fråga. Eller
# ändra till false för att inaktivera frågan.
#d-i hw-detect/load_firmware boolean true

Observera att netcfg automatiskt kommer att fastställa nätmasken om netcfg/
get_netmask inte har förinställts. I detta fall måste variabeln markeras som
seen för automatiska installationer. I liknande fall kommer netcfg att välja en
lämplig adress om netcfg/get_gateway inte har angivits. I specifika fall kan du
även ställa in netcfg/get_gateway till "none" för att ange att ingen gateway
ska användas.

B.4.4. Nätverkskonsoll

# Använd följande inställningar om du vill använda komponenten
# network-console för fjärrinstallation över SSH. Detta gäller endast
# om du tänker genomföra återstående del av installationen manuellt.
#d-i anna/choose_modules string network-console
#d-i network-console/authorized_keys_url string http://10.0.0.1/openssh-key
#d-i network-console/password password r00tme
#d-i network-console/password-again password r00tme

Mer information relaterat till network-console kan hittas på Avsnitt 6.3.10,
"Installation över network-console".

B.4.5. Spegelinställningar

Beroende på installationsmetoden du använder, kan en spegel användas både för
att hämta ytterligare komponenter för installationsprogrammet, för att
installera grundsystemet och för att ställa in /etc/apt/sources.list för det
installerade systemet.

Parametern mirror/suite bestämmer sviten för det installerade systemet.

Parametern mirror/udeb/suite bestämmer sviten för ytterligare komponenter för
installationsprogrammet. Den är endast användbar att ställa in om komponenter
faktiskt hämtas över nätverket och bör stämma överens med sviten som användes
för att bygga initrd för installationsmetoden som används för installationen.
Vanligtvis använder installationsprogrammet det korrekta värdet och det ska
inte finnas något behov av att ställa in denna.

Spegel protokoll:
# Om du väljer ftp behöver strängen mirror/country inte ställas in.
# Standardvärde för spegelprotokoll: http.
#d-i mirror/protocol string ftp
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.se.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Svit att installera.
#d-i mirror/suite string testing
# Svit att använda för att läsa in komponenter för installationsprogrammet (valfri).
#d-i mirror/udeb/suite string testing

B.4.6. Kontoinställning

Lösenordet för root-kontot, namn och lösenordet för den första vanliga
användarens konto kan förinställas. För lösenorden kan du använda antingen
klartextvärden eller crypt(3)-hashar.

Varning

Var medveten om att förinställning av lösenord inte är helt säkert eftersom
alla med tillgång till förkonfigurationsfilen kommer att ha kunskap om dessa
lösenord. Att lagra hashade lösenord anses säkert om inte en svag hashalgoritm
som DES eller MD5 används som tillåter bruteforce-attacker. Rekommenderade
lösenordshasningsalgoritmer är SHA-256 och SHA512.

# Hoppa över skapandet av ett root-konto (normalt användarkonto
# kommer att kunna använda sudo).
#d-i passwd/root-login boolean false
# Alternativt, för att hoppa över skapandet av ett normalt användarkonto.
#d-i passwd/make-user boolean false

# Lösenord för root, antingen i klartext
#d-i passwd/root-password password r00tme
#d-i passwd/root-password-again password r00tme
# eller krypterat med en crypt(3)-hash.
#d-i passwd/root-password-crypted password [crypt(3) hash]

# För att skapa ett normalt användarkonto.
#d-i passwd/user-fullname string Debian Användare
#d-i passwd/username string debian
# Normala användarens lösenord, antingen i klartext
#d-i passwd/user-password password insecure
#d-i passwd/user-password-again password insecure
# eller krypterat med en crypt(3)-hash.
#d-i passwd/user-password-crypted password [crypt(3) hash]
# Skapa första användaren med angivet UID istället för standard.
#d-i passwd/user-uid string 1010

# Användarkontot kommer att läggas till i vissa initiala standardgrupper.
# För att åsidosätta detta, använda denna.
#d-i passwd/user-default-groups string audio cdrom video

Variablerna passwd/root-password-crypted och passwd/user-password-crypted kan
också förinställas med "!" som dess värde. I det här fallet, kommer det
motsvarande kontot att inaktiveras. Det här kan vara bekvämt för root-kontot,
om så klart det finns en alternativ metod som tillåter administrativa
aktiviteter eller root-inloggning (till exempel genom att använda autentisering
via SSH-nyckel eller kommandot sudo).

Följande kommando (tillgängligt från paketet whois paketet) kan användas för
att generera en SHA-512-baserad crypt(3) hash för ett lösenord:

mkpasswd -m sha-512

B.4.7. Inställning av klocka och tidszon

# Kontrollerar om maskinvaruklockan är inställd till UTC eller inte.
d-i clock-setup/utc boolean true

# Du kanske vill ställa in den här till någon giltig inställning för $TZ;
# se innehållet i /usr/share/zoneinfo/ för giltiga värden.
d-i time/zone string Europe/Stockholm

# Kontrollerar om NTP ska användas för att ställa in klockan under installationen
d-i clock-setup/ntp boolean true
# NTP-server att använda. Standardvärdet är oftast ett bra värde.
#d-i clock-setup/ntp-server string ntp.exempel.se

B.4.8. Partitionering

Använda förinställning för att partitionera hårddisken är begränsat till vad
som stöds av partman-auto. Du kan välja att antingen partitionera befintligt
ledigt utrymme på en disk eller hela disken. Layouten på disken kan bestämmas
genom att använda en fördefinierad plan, en anpassad plan från en plan-fil
eller en plan som inkluderats i förkonfigurationsfilen.

Stöd finns för att göra förinställningar för installationer som ska använda
RAID, LVM och kryptering men inte med full flexibilitet som vid partitionering
under en vanlig installation utan förinställningar.

Exemplet nedan ger bara grundläggande information om hur recept ska användas.
För deltajerad information se filerna partman-auto-recipe.txt och
partman-auto-raid-recipe.txt inkluderade i paketet debian-installer. Båda
filerna finns också i debian-installers källkodsförråd. Observera att
funktionaliteten som stöds kan skifta mellan utgåvor.

Varning

Identifieringen av diskar är beroende på ordningen som deras drivrutiner läses
in i. Om det finns flera diskar i systemet, bör du vara mycket säker på att den
rätta disken kommer att väljas före förinställningen används.

B.4.8.1. Partitioneringsexempel

# If the system has free space you can choose to only partition that space.
# This is only honoured if partman-auto/method (below) is not set.
#d-i partman-auto/init_automatically_partition select biggest_free

# Alternatively, you may specify a disk to partition. If the system has only
# one disk the installer will default to using that, but otherwise the device
# name must be given in traditional, non-devfs format (so e.g. /dev/sda
# and not e.g. /dev/discs/disc0/disc).
# For example, to use the first SCSI/SATA hard disk:
#d-i partman-auto/disk string /dev/sda
# In addition, you'll need to specify the method to use.
# The presently available methods are:
# - regular: use the usual partition types for your architecture
# - lvm:     use LVM to partition the disk
# - crypto:  use LVM within an encrypted partition
d-i partman-auto/method string lvm

# You can define the amount of space that will be used for the LVM volume
# group. It can either be a size with its unit (eg. 20 GB), a percentage of
# free space or the 'max' keyword.
d-i partman-auto-lvm/guided_size string max

# If one of the disks that are going to be automatically partitioned
# contains an old LVM configuration, the user will normally receive a
# warning. This can be preseeded away...
d-i partman-lvm/device_remove_lvm boolean true
# The same applies to pre-existing software RAID array:
d-i partman-md/device_remove_md boolean true
# And the same goes for the confirmation to write the lvm partitions.
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nooverwrite boolean true

# You can choose one of the predefined partitioning recipes:
# - atomic: all files in one partition
# - home:   separate /home partition
# - multi:  separate /home, /var, and /tmp partitions
# - server: separate /var and /srv partitions; swap limitted to 1G
# - small_disk: scheme dedicated to small harddrives (under 10GB)
d-i partman-auto/choose_recipe select atomic

# Or provide a recipe of your own...
# If you have a way to get a recipe file into the d-i environment, you can
# just point at it.
#d-i partman-auto/expert_recipe_file string /hd-media/recipe

# If not, you can put an entire recipe into the preconfiguration file in one
# (logical) line. This example creates a small /boot partition, suitable
# swap, and uses the rest of the space for the root partition:
#d-i partman-auto/expert_recipe string                         \
#      boot-root ::                                            \
#              40 50 100 ext3                                  \
#                      $primary{ } $bootable{ }                \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ /boot }                     \
#              .                                               \
#              500 10000 1000000000 ext3                       \
#                      method{ format } format{ }              \
#                      use_filesystem{ } filesystem{ ext3 }    \
#                      mountpoint{ / }                         \
#              .                                               \
#              64 512 300% linux-swap                          \
#                      method{ swap } format{ }                \
#              .

# The full recipe format is documented in the file partman-auto-recipe.txt
# included in the 'debian-installer' package or available from D-I source
# repository. This also documents how to specify settings such as file
# system labels, volume group names and which physical devices to include
# in a volume group.

## Partitioning for EFI
# If your system needs an EFI partition you could add something like
# this to the recipe above, as the first element in the recipe:
#               538 538 1075 free                              \
#                      $iflabel{ gpt }                         \
#                      $reusemethod{ }                         \
#                      method{ efi }                           \
#                      format{ }                               \
#               .                                              \
#
# The fragment above is for the amd64 architecture; the details may be
# different on other architectures. The 'partman-auto' package in the
# D-I source repository may have an example you can follow.

# This makes partman automatically partition without confirmation, provided
# that you told it what to do using one of the methods above.
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# Force UEFI booting ('BIOS compatibility' will be lost). Default: false.
#d-i partman-efi/non_efi_system boolean true
# Ensure the partition table is GPT - this is required for EFI
#d-i partman-partitioning/choose_label select gpt
#d-i partman-partitioning/default_label string gpt

# When disk encryption is enabled, skip wiping the partitions beforehand.
#d-i partman-auto-crypto/erase_disks boolean false

B.4.8.2. Partitionering med RAID

Du kan även använda förinställning för att konfigurera partitioner på
programvaru-RAID-kedjor. Nivåer som stöds är RAID 0, 1, 5, 6 och 10, skapa
trasiga kedjor och ange reservenheter.

Om du använder RAID 1 kan du förinställa grub att installera sig på alla
enheter som används i kedjan; se Avsnitt B.4.12, "Installation av
starthanteraren".

Varning

Den här typen av automatiserad partitionering är lätt att göra fel. Det är
också funktionalitet som har fått relativt lite testning från utvecklarna av
debian-installer. Ansvaret att få ordning på de olika planerna (så att de
fungerar och inte är i konflikt med annat) ligger hos användaren. Kontrollera /
var/log/syslog om du springer på problem.

# Metoden ska ställas in till "raid".
#d-i partman-auto/method string raid
# Ange diskarna som ska partitioneras. De kommer alla att få samma layout,
# så att det här fungerar endast om diskarna har samma storlek.
#d-i partman-auto/disk string /dev/sda /dev/sdb

# Härnäst behöver du ange de fysiska partitionerna som ska användas.
#d-i partman-auto/expert_recipe string \
#      multiraid ::                                         \
#              1000 5000 4000 raid                          \
#                      $primary{ } method{ raid }           \
#              .                                            \
#              64 512 300% raid                             \
#                      method{ raid }                       \
#              .                                            \
#              500 10000 1000000000 raid                    \
#                      method{ raid }                       \
#              .

# Till sist behöver du ange hur de tidigare definierade partitionerna kommer att användas i
# i RAID-konfigurationen. Tänk på att använda de korrekta partitionsnumren
# för logiska partitioner. RAID nivåerna 0, 1, 5, 6 och 10 är dom som stöds;
# enheter är separerade genom att använda "#".
# Parametrarna är:
# <raid-typ> <enhetsantal> <reservantal> <fs-typ> <monteringspunkt> \
#          <enheter> <reservenheter>
# RAID-nivåerna 0, 1, 5, 6 och 10 stöds; enheter separeras med "#"
#d-i partman-auto-raid/recipe string \
#    1 2 0 ext3 /                    \
#          /dev/sda1#/dev/sdb1       \
#    .                               \
#    1 2 0 swap -                    \
#          /dev/sda5#/dev/sdb5       \
#    .                               \
#    0 2 0 ext3 /home                \
#          /dev/sda6#/dev/sdb6       \
#    .
# För ytterligare information se filen partman-auto-raid-recipe.txt
# inkluderad i 'debian-installer' paketet eller tillgängligt från D-I s
källkodsarkiv

# Det här gör att partman automatiskt partitionerar utan bekräftelse.
d-i partman-md/confirm boolean true
d-i partman/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

B.4.8.3. Kontrollera hur partitioner monteras

Vanligtvis så monteras filsystem med hjälp av en universiellt unik
identifierare (UUID) som en nyckel; detta tillåter att de monteras korrekt även
om deras enhetsnamn ändras. UUID är långa och svåra att läsa, så om du
föredrar, installationsprogrammet kan montera filsystem som är baserade på de
traditionella enhetsnamnen, eller baserade på en etikett som du tilldelar det.
Om du frågar installationsprogrammet att montera efter etikett så kommer alla
filsystem som inte har en etikett att monteras efter ett UUID istället.

Enheter med stabila namn, såsom logiska LVM-volymer, kommer att fortsätta att
använda deras traditionella namn istället för UUID.

Varning

Traditionella enhetsnamn kan ändras baserat på ordningen i vilken kärnan
upptäcker enheter vid uppstart, vilket kan orsaka att fel filsystem monteras.
På samma sätt kan etiketter krocka om du ansluter en ny disk eller en USB-enhet
och om det händer så kan beteendet för ditt system vara slumpmässigt.

# Standard är att montera efter UUID, men du kan även välja "traditional" för
# att använda traditionella enhetsnamn, eller "label" för att prova filsystemsetiketter
# innan installationsprogrammet faller tillbaka på UUID.
#d-i partman/mount_style select uuid

B.4.9. Installation av grundsystem

Det finns faktiskt inte speciellt mycket som kan förinställas för det här
steget av installationen. De enda frågorna som ställs är angående
installationen av kärnan.

# Konfigurera APT till att inte installera rekommenderade paket som standard.
# Användning av denna flagga kan resultera i ett ofullständigt system och ska endast
# användas av mycket erfarna användare.
#d-i base-installer/install-recommends boolean false



# Kärnavbildningspaketet (meta) att installera; "none" kan användas om ingen
# kärna ska installeras.
#d-i base-installer/kernel/image string linux-image-686

B.4.10. Apt-inställning

Konfiguration av /etc/apt/sources.list och grundläggande
konfigurationsalternativ är fullständigt automatiserade baserat på din
installationsmetod och svar på tidigare ställda frågor. Du kan valfritt lägga
till andra (lokala) förråd.

Välj om du vill skanna ytterligare installationsmedia
# (standard: false).
d-i apt-setup/cdrom/set-first boolean false
# Du kan välja att installera icke fri fastprogramvara.
#d-i apt-setup/non-free-firmware boolean true
# Du kan välja att installera icke-fri och contrib programvara.
#d-i apt-setup/non-free boolean true
#d-i apt-setup/contrib boolean true
# Avkommentera följande rad om du inte vill ha sources.list
# post för en DVD/BD-installationsavbild som är aktiv i det installerade systemet
# (poster för netinst eller CD-avbilder kommer att inaktiveras hur som helst, oavsett
# denna inställning).
#d-i apt-setup/disable-cdrom-entries boolean true
# Avkommentera den här om du inte vill använda en nätverksspegel.
#d-i apt-setup/use_mirror boolean false
# Välj vilka uppdateringstjänster att använda; definiera speglarna att använda.
# Värdena som visas neda är de normala standardvärdena.
#d-i apt-setup/services-select multiselect security, updates
#d-i apt-setup/security_host string security.debian.org
#d-i apt-setup/updates_host string updates.debian.org

# Ytterligare förråd, local[0-9] tillgängliga
#d-i apt-setup/local0/repository string \
#       http://lokal.server/debian stable main
#d-i apt-setup/local0/comment string local server
# Rader för att aktivera deb-src
#d-i apt-setup/local0/source boolean true
# URL till den publika nyckeln för det lokala förrådet; du måste
# tillhandahålla en nyckel eller så kommer apt att klaga om
# det icke-autentiserade förrådet och så kommer sources.list-raden
# att lämnas kvar bortkommenterade.
#d-i apt-setup/local0/key string http://lokal.server/key
# eller så kan man tillhandahålla det på raden genom att base64 koda innehållet i
# nyckelfilen (med `base64 -w0`) och specificerar det så här:
#d-i apt-setup/local0/key string base64://LS0tLS1CRUdJTiBQR1AgUFVCTElDIEtFWSBCTE9DSy0tLS0tCi4uLgo=
# Innehållet i nyckelfilen kontrolleras för att se om den verkar vara ASCII-bepansrad.
# Om så är fallet kommer den att sparas med tillägget ".asc", annars får den tillägget '.gpg'.
# formatet "keybox databas" stöds för närvarande inte. (se generators/60local i apt-setups källkod)

# Som standard kräver installationsprogrammet att förråden autentiseras
# med en känd gpg-nyckel. Den här inställningen kan användas för
# att inaktivera den autentiseringen.
# Varning: osäkert, rekommenderas inte.
#d-i debian-installer/allow_unauthenticated boolean true


# Avkommentera detta för att lägga till multiarch-konfiguration för i386
#d-i apt-setup/multiarch string i386


B.4.11. Paketval

Du kan välja att installera alla kombinationer av funktioner som finns
tillgängliga. Tillgängliga funktioner just nu inkluderar:

  • standard (standard verktyg)

  • skrivbord (grafiskt skrivbord)

  • gnome-desktop (Gnome skrivbord)

  • xfce-desktop (XFCE skrivbord)

  • kde-desktop (KDE Plasma skrivbord)

  • cinnamon-desktop (Cinnamon skrivbord)

  • mate-desktop (MATE skrivbord)

  • lxde-desktop (LXDE skrivbord)

  • web-server (webb server)

  • ssh-server (SSH server)

Du kan även välja att inte installera några funktioner, och tvinga fram
installationen av en uppsättning paket på något annat sätt. Vi rekommenderar
alltid att inkludera funktionen standard.

Eller om du inte vill att dialogrutan tasksel ska visas alls, förinställ pkgsel
/run_tasksel (inga paket installeras via tasksel i så fall).

Om du vill installera några individuella paket i tillägg till de paket som
installeras av funktioner, kan du använda parametern pkgsel/include. Värdet för
denna parameter kan vara en lista över paket, komma- eller blankstegsseparerad,
vilket även tillåter att den enkelt kan användas på kommandoraden för kärnan.

#tasksel tasksel/first multiselect standard, web-server, kde-desktop

# Or choose to not get the tasksel dialog displayed at all (and don't install
# any packages):
#d-i pkgsel/run_tasksel boolean false

# Individual additional packages to install
#d-i pkgsel/include string openssh-server build-essential
# Whether to upgrade packages after debootstrap.
# Allowed values: none, safe-upgrade, full-upgrade
#d-i pkgsel/upgrade select none

# You can choose, if your system will report back on what software you have
# installed, and what software you use. The default is not to report back,
# but sending reports helps the project determine what software is most
# popular and should be included on the first DVD.
#popularity-contest popularity-contest/participate boolean false

B.4.12. Installation av starthanteraren

# Grub är starthanteraren (för x86).

# Detta är ganska säkert att ställa in, det gör att grub installeras automatiskt på UEFI
# partition/startpost om inget annat operativsystem upptäcks på maskinen.
d-i grub-installer/only_debian boolean true

# Det här gör att grub-installer installeras på UEFI-partitionen/startposten, om
# den hittar också något annat operativsystem, som är mindre säkert eftersom det kanske inte kan
# starta upp det andra operativsystemet.
d-i grub-installer/with_other_os boolean true

# På grund av potentiella USB-minnen kan platsen för den primära enheten
# inte fastställas säkert i allmänhet, så detta måste specificeras:
#d-i grub-installer/bootdev string /dev/sda
# För att installera på den primära enheten (förutsatt att det inte är ett USB-minne):
#d-i grub-installer/bootdev string standard

# Alternativt, om du vill installera på en annan plats än UEFI
# partition/uppstartsplats, avkommentera och redigera dessa rader:
#d-i grub-installer/only_debian boolean false
#d-i grub-installer/with_other_os boolean false
#d-i grub-installer/bootdev string (hd0,1)
# För att installera grub på flera diskar:
#d-i grub-installer/bootdev string (hd0,1) (hd1,1) (hd2,1)

# Valfritt lösenord för grub, antingen i klartext
#d-i grub-installer/password lösenord r00tme
#d-i grub-installer/password-again lösenord r00tme
# eller krypterat med en MD5-hash, se grub-md5-crypt(8).
#d-i grub-installer/password-crypted lösenord [MD5-hash]

# Använd följande alternativ för att lägga till ytterligare startparametrar för
# installerat system (om det stöds av installationsprogrammet för uppstartsladdaren).
# Notera: alternativ som skickas till installationsprogrammet läggs till automatiskt.
#d-i debian-installer/add-kernel-opts string nousb

En MD5-hash för ett lösenord för grub kan genereras med kommandot 
grub-md5-crypt eller med kommandot från exemplet i Avsnitt B.4.6,
"Kontoinställning".

B.4.13. Färdigställande av installationen

# During installations from serial console, the regular virtual consoles
# (VT1-VT6) are normally disabled in /etc/inittab. Uncomment the next
# line to prevent this.
#d-i finish-install/keep-consoles boolean true

# Avoid that last message about the install being complete.
d-i finish-install/reboot_in_progress note

# This will prevent the installer from ejecting the disc during the reboot,
# which is useful in some situations.
#d-i cdrom-detect/eject boolean false

# This is how to make the installer shutdown when finished, but not
# reboot into the installed system.
#d-i debian-installer/exit/halt boolean true
# This will power off the machine instead of just halting it.
#d-i debian-installer/exit/poweroff boolean true

B.4.14. Förinställning av andra paket

# Beroende på vilken programvara du väljer att installera, eller om saker går fel
# under installationsprocessen, är det möjligt att andra frågor kan ställas.
# Du kan förinställa de här också, så klart. För att få en lista på alla
# möjliga frågor som kan ställas under en installation, gör en
# installation, och kör sedan de här kommandona:
#   debconf-get-selections --installer > fil
#   debconf-get-selections >> fil

B.5. Avancerade inställningar

B.5.1. Kör anpassade kommandon under installationen

Ett mycket kraftfullt och flexibelt alternativ som erbjuds av
förkonfigurationsverktygen är möjligheten att köra kommandon eller skript vid
vissa punkter i installationen.

When the filesystem of the target system is mounted, it is available in /
target. If an installation CD/DVD is used, when it is mounted it is available
in /cdrom.

# Förinställning i d-i anses inte som säker. Inget i installationsprogrammet letar
# efter buffertöverflöden eller andra attackförsök genom värdena i en
# förkonfigurationsfil såsom den här. Använd endast förkonfigurationfiler från en
# plats du kan lita på! För att gör det och på grund av att det är generellt sett
# användbart, här är ett sätt att automatiskt köra de skalkommandon du vill
# inne i installationsprogrammet.

# Det första kommandot körs så tidigt som möjligt, direkt efter
# att förinställningen är inläst.
#d-i preseed/early_command string anna-install some-udeb
# Det här kommandot körs direkt före partitioneraren startar. Det kan vara
# användbart för att tillämpa förinställning av dynamisk partitionering som är
# beroende av tillståndet för diskarna (som kanske annars inte är synligt när
# preseed/early_command kör).
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Det här kommandot körs precis innan installationen är färdig, men när det
# fortfarande finns en användbar /target-katalog. Du kan göra en chroot till /target och
# använda det direkt, eller använda apt-install och kommandon från /target för att
# enkelt installera paket och köra kommandon på målsystemet.
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh

B.5.2. Användning av förinställningar för att ändra på standardvärden

Det är möjligt att använda förinställning för att ändra standardsvaret på en
fråga, men fortfarande ställa frågan. För att göra det här måste flaggan seen
återställas till "false" efter att värdet ställts in för en fråga.

d-i foo/bar string value
d-i foo/bar seen false

Samma effekt kan uppnås för alla frågor genom att ställa in parametern preseed/
interactive=true på uppstartsprompten. Det här kan också vara användbart för
testning eller felsökning av din förkonfigurationsfil.

Observera att "d-i"-ägaren endast ska användas för variabler som används i
själva installationsprogrammet. För variabler som tillhör paket som installeras
på målsystemet så ska du istället använda namnet för paketet. Se sidfoten på
Avsnitt B.2.2, "Användning av uppstartsparametrar för att förinställa frågor".

Om du förinställer med hjälp av uppstartsparametrar så kan du göra att
installationsprogrammet frågar motsvarade fråga genom att använda operatorn "?=
" operator, t.ex. foo/bar?=värde (eller ägare:foo/bar?=värde).. Det här kommer
så klart endast ha effekt för parametrar som motsvarar frågorna som visas under
en installation och inte för "interna" parametrar.

För mer felsökningsinformation använd uppstartsflagan DEBCONF_DEBUG=5. Detta
innebära att debconf kommer att skriva mer detaljer om varje inställning för
varje variabel och om framstegen genom processen genom varje pakets
installationsskript.

B.5.3. Kedjeinläsning av förkonfigurationsfiler

Det är möjligt att inkludera andra förkonfigurationsfiler från en
förkonfigurationsfil. Alla inställningar i de filerna kommer att åsidosätta
eventuella inställningar från filer som lästs in tidigare. Det gör det möjligt
att lägga in, till exempel, allmänna nätverksinställningar för din plats i en
fil och mer specifika inställningar för vissa konfigurationer i andra filer.

# Fler än en fil kan listas, separerade med blanksteg; alla kommer att
# läsas in. De inkluderade filerna kan även innehålla egna direktiv för preseed/include.
# Observera att om filnamnen är relativa, tas de från samma katalog som
# förkonfigurationsfilen som inkluderar dem.
#d-i preseed/include string x.cfg

# Installationsprogrammet kan valfritt validera kontrollsummor för förkonfigurationsfiler innan
# de används. För närvarande stöds endast md5sums, lista kontrollsummorna
# i samma ordning som listan över filer som ska inkluderas.
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d

# Mer flexibelt, det här kör ett skalkommando och om det skriver ut namnen på
# förkonfigurationsfiler, inkludera de filerna.
#d-i preseed/include_command \
#      string if [ "`hostname`" = bosse ]; then echo bosse.cfg; fi

# Mest flexibelt av alla, denna hämtar ett program och kör det. Programmet
# kan använda kommandon såsom debconf-set för att ändra debconf-databasen.
# Fler än ett skript kan listas, separerade med blanksteg.
# Observera att om filnamnen är relativa tas de från samma katalog
# som förkonfigurationsfilen som kör dem.
#d-i preseed/run string foo.sh

Det är även möjligt att kedjeläsa från initrd- eller filförinställningsfasen,
in i nätverksförinställningen genom att ställa in preseed/url i de tidigare
filerna. Det här kommer att orsaka att nätverksförinställningen genomförs när
nätverket kommer upp. Du måste vara försiktig här, eftersom det kommer att vara
två olika körningar vid förinställning, vilket till exempel betyder att du
kommer att få en andra chans att köra kommandot preseed/early, den andra gången
inträffar efter att nätverket har kommit upp.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[19] Ägaren av en debconf-variabel (eller mall) är vanligtvis namnet på
paketet som innehåller motsvarade debconf-mall. För variabler som används i
själva installationsprogrammet är ägaren "d-i". Mallar och variabler kan ha
fler än en ägare som hjälper till att bestämma huruvida de kan tas bort från
debconf-databasen om paketet avinstalleras.

^[20] Förinställning av locale till en_NL skulle till exempel resultera i
en_US.UTF-8 som standardlokal för det installerade systemet. Om till exempel
en_GB.UTF-8 föredras istället så kommer värdena att behöva förinställas
individuellt.

Appendix C. Partitionera för Debian

Innehållsförteckning

C.1. Bestämma Debian-partitioner och storlekar
C.2. Katalogträdet
C.3. Rekommenderad partitionstabell
C.4. Enhetsnamn i Linux
C.5. Debians partitioneringsprogram
    C.5.1. Partitionera för 64-bit PC

C.1. Bestämma Debian-partitioner och storlekar

Som ett absolut minimum behöver GNU/Linux en partition för sig själv. Du kan ha
en enstaka partition som innehåller hela operativsystemet, program och dina
personliga filer. De flesta personer tycker att en separat partition för
växlingsutrymme också är nödvändig, även om det inte helt är sant. "
Växlingsutrymme" är ett utrymme för ett operativsystem som låter systemet
använda disklagring som "virtuellt minne". Genom att lägga växlingsutrymmet på
en separat partition kan Linux använda det mer effektivt. Det är möjligt att
tvinga Linux att använda en vanlig fil som växlingsutrymme, men det är inte
rekommenderat.

De flesta personer väljer att ge GNU/Linux fler än det minimala antalet
partitioner. Det finns två skäl för att du vill dela upp filsystemet till ett
antal mindre partitioner. Först är det av säkerhetsskäl. Om något händer och
filsystemet blir skadat, påverkas oftast endast en partition. Även om du endast
behöver ersätta (från de säkerhetskopior du noga har gjort) en del av ditt
system. På ett minimum, du bör tänka över att skapa vad som normallt sett
kallas en "rotpartition". Den här innehåller de mest nödvändiga komponenterna i
systemet. Om några andra partitioner blir skadade, kan du fortfarande starta
upp GNU/Linux för att rätta till systemet. Det här kan göra att du slipper
installera om systemet från början.

Det andra skälet är att generellt sett mer viktigt i en företagsmiljö, men det
är beroende på din användning av maskinen. Till exempel, en e-postserver får in
ett stort antal spam via e-post som lätt kan fylla upp en partition. Om du
gjorde /var/mail till en separat partition på e-postservern, kommer det mesta
av systemet fortfarande fungera även om du blir spammad.

Den enda riktiga nackdelen med att använda fler partitioner är att det ofta är
svårt att veta i förväg vilka dina behov kommer att vara. Om du gör en
partition för liten så behöver du antingen installera om systemet eller så
kommer du få flytta runt saker hela tiden för att skapa plats på partitionen.
På andra sidan, om du gör partitionen för stor, kommer du att slösa utrymme som
kunde användas någon annanstans. Diskutrymme är billigt nuförtiden, men varför
kasta bort dina pengar?

C.2. Katalogträdet

Debian GNU/Linux följer Filesystem Hierarchy Standard för namngivning av
kataloger och filer. Den här standarden låter användarna och programvaror att
förutse platsen för filer och kataloger. Rotnivåkatalogen representeras helt
enkelt av ett snedstreck, /. På rotnivån, alla inkluderar Debian-system dessa
kataloger:

┌───────┬────────────────────────────────────────────────────┐
│Katalog│                      Innehåll                      │
├───────┼────────────────────────────────────────────────────┤
│bin    │Systemkritiska kommandobinärer                      │
├───────┼────────────────────────────────────────────────────┤
│boot   │Statiska filer för starthanteraren                  │
├───────┼────────────────────────────────────────────────────┤
│dev    │Enhetsfiler                                         │
├───────┼────────────────────────────────────────────────────┤
│etc    │Värdspecifik systemkonfiguration                    │
├───────┼────────────────────────────────────────────────────┤
│home   │Användarnas hemkataloger                            │
├───────┼────────────────────────────────────────────────────┤
│lib    │Viktiga delade bibliotek och kärnmoduler            │
├───────┼────────────────────────────────────────────────────┤
│media  │Innehåller monteringspunkter för flyttbart media    │
├───────┼────────────────────────────────────────────────────┤
│mnt    │Monteringspunkt för montering av temporärt filsystem│
├───────┼────────────────────────────────────────────────────┤
│proc   │Virtuell katalog för systeminformation              │
├───────┼────────────────────────────────────────────────────┤
│root   │Hemkatalog för root-användaren                      │
├───────┼────────────────────────────────────────────────────┤
│run    │Variabel data för körningstid                       │
├───────┼────────────────────────────────────────────────────┤
│sbin   │Nödvändiga systembinärer                            │
├───────┼────────────────────────────────────────────────────┤
│sys    │Virtuell katalog för systeminformation              │
├───────┼────────────────────────────────────────────────────┤
│tmp    │Temporära filer                                     │
├───────┼────────────────────────────────────────────────────┤
│usr    │Sekundär hierarki                                   │
├───────┼────────────────────────────────────────────────────┤
│var    │Variabeldata                                        │
├───────┼────────────────────────────────────────────────────┤
│srv    │Data för tjänster som tillhandahålls av systemet    │
├───────┼────────────────────────────────────────────────────┤
│opt    │Tilläggsprogrampaket                                │
└───────┴────────────────────────────────────────────────────┘

Följande är en lista på viktiga beaktanden angående kataloger och partitioner.
Observera att diskanvändning varierar stort beroende på systemkonfiguration och
specifika användningsmönster. Rekommendationerna här är allmänna riktlinjer och
ge en startpunkt för partitionering.

  • Rootpartitionen / måste alltid fysiskt innehålla /etc, /bin, /sbin, /lib ,
    /dev och /usr, annars kommer du inte att kunna starta. Det betyder att du
    bör tillhandahålla minst 700-850MB diskutrymme för rootpartitionen
    inklusive /usr, eller 5-6GB för en arbetsstation eller en
    serverinstallation.

  • /var: variabel data såsom nyhetsartiklar, e-post, webbplatser, databaser,
    cache för paketsystemet, etc. kommer att placeras under den här katalogen.
    Storleken på den här katalogen beror mycket på användningen av ditt system
    men för de flesta personer kommer det här att bestämmas av
    pakethanteringsverktygets behov. Om du tänker göra en full installation av
    i stort sett allt som Debian kan erbjuda, på en enda gång, bör 2 eller 3 GB
    utrymme för /var vara tillräckligt. Om du tänker installera i omgångar (så
    att säga, installera tjänster och verktyg, följt av textprogram, sedan X,
    ...), kan du komma runt med 300-500 MB. Om hårddiskutrymme är begränsat och
    du inte planerar att göra några större systemuppdateringar, kan du klara
    dig med så lite som 30 eller 40 MB.

  • /tmp: temporärdata som skapats av program kommer sannolikt att hamna i den
    här katalogen. 40-100 MB bör nog vara tillräckligt. Vissa program --
    inklusive arkivhanterare, verktyg för cd/dvd-tillverkning och
    multimediaprogram -- kan använda /tmp för att temporärt lagra bildfiler. Om
    du planerar att använda sådana program bör du justera tillgängligt utrymme
    för /tmp på lämpligt sätt.

  • /home: varje användare komma att lägga sin personliga data i en
    underkatalog till den här katalogen. Dess storlek beror på hur många
    användare som kommer att använda systemet och vilka filer som lagras i
    deras kataloger. Beroende på din planerade användning bör du reservera
    omkring 100 MB för varje användare, men anpassa det här värdet till dina
    behov. Reservera mycket mer utrymme om du planerar att spara en hel del
    multimediafiler (bilder, MP3, filmer) i din hemkatalog.

C.3. Rekommenderad partitionstabell

För nya användare, personliga Debian burkar, hemsystem och andra
en-användarkonfigurationer, en enda /-partition (plus växlingsutrymme) är
antagligen det lättaste, enklaste sättet att köra. Den rekommenderade
partitionstypen är ext4.

För fleranvändarsystem eller system med massor av diskutrymme, är det bäst att
lägga /var, /tmp, och /home på egna partitioner, separerade från partitionen /.

Du kan behöva en separat /usr/local-partition om du planerar att installera
många program som inte är en del av Debian-utgåvan. Om din maskin ska vara en
e-postserver behöver du kanske göra /var/mail till en separat partition. Om du
sätter upp en server med många användarkonton är det generellt sett bra att ha
en separat, stor /home-partition. Generellt sett skiljer sig partitionering
från dator till dator beroende på dess användning.

För mycket komplexa system, bör du se Multi Disk HOWTO. Den innehåller
fördjupad information, mestadels av intresse för Internetleverantörer och
personer som installerar servrar.

Med tanke på frågan om storleken för växlingsutrymmet, finns det många synsätt.
En tumregel som fungerar bra är att använda så mycket växlingsutrymme som du
har systemminne. Den bör heller inte vara mindre än 512MB, i de flesta fall. Så
klart, det finns ett antal undantag till dessa regler.

Som ett exempel, en äldre hemdator kan ha 512MB RAM-minne och en 20GB stor
SATA-disk på /dev/sda. Det kan finns en 8GB stor partition för ett annat
operativsystem på /dev/sda1, en 512MB stor växlingspartition på /dev/sda3 och
ungefär 11.4GB på /dev/sda2 som Linux-partitionen.

Som en idé för utrymmet som tas upp av de funktioner som du kanske är
intresserade av att lägga in efter din systeminstallation är klar, se på
Avsnitt D.2, "Nödvändig diskplats för funktioner".

C.4. Enhetsnamn i Linux

Namnen på Linux diskar och partitioner kan vara olika från andra
operativsystem. Du behöver veta namnen som Linux använder när du skapar och
monterar partitioner. Här är de grundläggande benämningarna:

  • Den första hårddisken som upptäckts heter /dev/sda.

  • Den andra hårddisken som upptäcks heter /dev/sdb och så vidare.

  • Den första SCSI Cd-rom kallas /dev/scd0 också känd som /dev/sr0.

Partitionerna på varje disk representeras av lägga till ett decimaltal till
disknamnet: sda1 och sda2 representerar den första och andra partitionen på
första SCSI-disken i ditt system.

Här är ett exempel från dagliga livet. Låt oss anta att du har ett system med 2
SCSI-diskar, en på SCSI-adress 2 och den andra på SCSI-adress 4. Den första
disken (på adress 2) kallas för sda, och den andra sdb. Om sda-disken har 3
partitioner på sig, kommer dessa att kallas sda1, sda2, och sda3. Det samma
gäller för sdb-disken och dess partitioner.

Observera att om du har två SCSI-värdbussadaptrar (alltså, styrkort), ordningen
på diskarna kan vara förvirrande. Den bästa lösningen i det här fallet är att
se på uppstartsmeddelandena, och antagligen känner du till diskmodellerna och/
eller storlekarna.

Linux representerar de primära partitionerna som disknamnet, plus siffrorna 1
till 4. Till exempel, den första primära partitionen på första disken är /dev/
sda1. De logiska partitionerna är numrerade från 5 och uppåt, så den första
logiska partitionen på den disken är /dev/sda5. Kom ihåg att den utökade
partitionen, alltså, den primära partitionen som tillhandahåller de logiska
partitionerna, inte är användbar av sig själv.

C.5. Debians partitioneringsprogram

Flera varianter av partitioneringsprogram har anpassats av Debians utvecklare
för att fungera på olika typer av hårddiskar och datorarkitekturer. Följande är
en listan på de program som lämpar sig för din arkitektur.

partman

    Rekommenderat partitioneringsverktyg i Debian. Den här schweiziska
    armékniven kan också ändra storlek på partitioner, skapa filsystem ("
    formatera" på Windows-språk) och tilldela dem monteringspunkter.

fdisk

    Den originella diskpartitioneraren för Linux, bra för experter.

    Var försiktig om du har befintliga FreeBSD-partitioner på din maskin.
    Installationskärnorna inkluderar stöd för dessa partitioner, men sättet som
    fdisk representerar dem på (eller inte) kan göra att enhetsnamnen skiljer
    sig. Se Linux+FreeBSD HOWTO.

cfdisk

    En diskpartitionerare i helskärm som är enkel att använda för resten av
    oss.

    Observera att cfdisk inte förstår FreeBSD-partitioner alls, och, igen, som
    ett resultat av det kan enhetsnamnen skilja sig.

Ett av dessa program kommer att köras som standard när du väljer Partitionera
diskar (eller liknande). Det kan vara möjligt att använda ett annat
partitioneringsverktyg från kommandoraden på VT2, men det är inte
rekommenderat.

Kom ihåg att märka din uppstartspartition som "Startbar".

C.5.1. Partitionera för 64-bit PC

Om du använder en ny hårddisk (eller vill radera hela partitionstabellen på din
disk), måste en ny partitionstabell skapas. "Guidad partitionering" gör detta
automatiskt, men när du partitionerar manuellt flyttar du markeringen på den
översta nivån på disken och trycker på Enter. Det kommer att skapa en ny
partitionstabell på den disken. I expertläge kommer du att bli tillfrågad om
typen av partitionstabell. Standard för UEFI-baserade system är "gpt", medan
standardvärdet för den äldre BIOS-världen är "msdos". I en standardprioriterad
installation kommer dessa standardinställningar att användas automatiskt.

Notera

När en partitionstabell med typ "gpt" valdes (standard för UEFI system), ett
ledigt utrymme på 1 MB kommer automatiskt skapas i början av disken. Detta är
avsett och krävs för att bädda in starthanteraren GRUB2.

Om du redan har ett befintligt operativsystem såsom Windows installerat och du
vill behålla det efter installationen av Debian, kan du behöva förändra
partitionsstorleken för att få mer ledigt diskutrymme för
Debian-installationen. Installationsprogrammet har stöd för att förändra
storleken på både FAT- och NTFS-filsystem; när du kommer till
installationsprogrammets partitioneringssteg, välj alternativet Manuell och
välj sedan helt enkelt en existerande partition och ändra dess storlek.

While modern UEFI systems don't have such limitations as listed below, the old
PC BIOS generally adds additional constraints for disk partitioning. There is a
limit to how many "primary" and "logical" partitions a drive can contain.

On such old PC BIOS system, "primary" partitions are the original partitioning
scheme for PC disks. However, there can only be four of them. To get past this
limitation, "extended" and "logical" partitions were invented. By setting one
of your primary partitions as an extended partition, you can subdivide all the
space allocated to that partition into logical partitions. You can create up to
60 logical partitions per extended partition; however, you can only have one
extended partition per drive.

Appendix D. Diverse bitar

Innehållsförteckning

D.1. Linux-enheter
    D.1.1. Konfigurera din mus
D.2. Nödvändig diskplats för funktioner
D.3. Installera Debian GNU/Linux från ett Unix/Linux-system
    D.3.1. Påbörja arbetet
    D.3.2. Installera debootstrap
    D.3.3. Kör debootstrap
    D.3.4. Konfigurera grundsystemet
    D.3.5. Installera en kärna
    D.3.6. Ställ in starthanteraren
    D.3.7. Fjärråtkomst: installera SSH och konfigurera åtkomst
    D.3.8. Slutgiltiga justeringar
D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)
    D.4.1. Krav
    D.4.2. Ställ in källor
    D.4.3. Installera måldatorn
D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

D.1. Linux-enheter

De olika specialfilerna för Linux kan hittas under katalogen /dev. Dessa filer
kallas för enhetsfiler och uppträder inte på samma sätt som vanliga filer. De
mest vanliga typer av enhetsfiler är för blockenheter och teckenenheter. Dessa
filer är ett gränssnitt mot den faktiska drivrutinen (del av Linux-kärnan) som
i sin tur kommer åt hårdvaran. En annan, mindre vanlig, typ av enhetsfil är den
namngivna röret (named pipe). De mest viktiga enhetsfilerna listas i tabellerna
nedan.

┌────┬──────────────────────────────────────────┐
│sda │Första hårddisken                         │
├────┼──────────────────────────────────────────┤
│sdb │Andra hårddisken                          │
├────┼──────────────────────────────────────────┤
│sda1│Första partitionen på första hårddisken   │
├────┼──────────────────────────────────────────┤
│sdb7│Sjunde partitionen på den andra hårddisken│
└────┴──────────────────────────────────────────┘

┌───┬─────────────────────┐
│sr0│Första CD-ROM-skivan │
├───┼─────────────────────┤
│sr1│Andra CD-ROM-skivan  │
└───┴─────────────────────┘

┌───────┬──────────────────────────────────────────────────┐
│ttyS0  │Seriell port 0, även kallad COM1                  │
├───────┼──────────────────────────────────────────────────┤
│ttyS1  │Seriell port 1, även kallad COM2                  │
├───────┼──────────────────────────────────────────────────┤
│psaux  │PS/2-musenhet                                     │
├───────┼──────────────────────────────────────────────────┤
│gpmdata│Pseudoenhet, repeterar data från GPM-demonen (mus)│
└───────┴──────────────────────────────────────────────────┘

┌─────┬──────────────────────────────┐
│cdrom│Symbolisk länk till Cd-enheten│
├─────┼──────────────────────────────┤
│mus  │Symbolisk länk till musenheten│
└─────┴──────────────────────────────┘

┌────┬────────────────────────────────────────────────────────────┐
│null│Allting som skrivs till den här enheten kommer att försvinna│
├────┼────────────────────────────────────────────────────────────┤
│zero│Man kan läsa oändligt antal nollor från den här enheten     │
└────┴────────────────────────────────────────────────────────────┘

D.1.1. Konfigurera din mus

Musen kan användas i både Linux-konsollen (med gpm) och X-fönstermiljön. Oftast
är det här en enkel sak att installera gpm och själva X-servern. Båda ska
konfigureras till att använda /dev/input/mice som musenheten. Det korrekta
musprotokollet heter exps2 i gpm, och ExplorerPS/2 i X. Konfigurationsfilerna
är /etc/gpm.conf och /etc/X11/xorg.conf.

D.2. Nödvändig diskplats för funktioner

A standard installation for the amd64 architecture, including all standard
packages and using the default kernel, takes up 843MB of disk space. A minimal
base installation, without the "Standard system utilities" task selected, will
take 647MB.

Viktigt

I båda fallen är det här det här det faktiska diskutrymmet som används efter
att installationen är färdig och eventuella temporärfiler har tagits bort. Det
tar heller inte hänsyn till utrymme som används av filsystemet, till exempel
för journalfiler. Det här betyder en markant ökning av diskutrymmet som behövs
av båda under installationen och för normal systemanvändning.

Följande tabell listar storlekar som rapporterats av aptitude för funktionerna
listade i tasksel. Observera att några funktioner har överlappande
beståndsdelar, så den totala installerade storleken för två funktioner
tillsammans kan vara mindre än totalen som fås genom att lägga ihop siffrorna.

Som standard kommer installationsprogrammet att installera skrivbordsmiljön
GNOME, men alternativa skrivbordsmiljöer kan väljas antingen genom att använda
en av de speciella installationsavbildningarna eller genom att ange den önskade
skrivbordsmiljön under installationen (se Avsnitt 6.3.6.2, "Val och
installation av programvara").

Observera att du behöver lägga till storlekarna som listas i tabellen till
storleken för standardinstallationen när storlekarna på partitionerna bestäms.
De flesta storlekar listade som "Installerad storlek" kommer att hamna i /usr
och i /lib; storleken listad som "Hämtad storlek" krävs (temporärt) för /var.

┌───────────────┬─────────────────┬──────────────┬────────────────────────────┐
│   Funktion    │   Installerad   │Hämtad storlek│   Utrymme som behövs för   │
│               │  storlek (MB)   │     (MB)     │     installation (MB)      │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│Skrivbordsmiljö│                 │              │                            │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • GNOME      │3323             │861           │4184                        │
│(standard)     │                 │              │                            │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • KDE Plasma │5429             │1499          │6928                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • Xfce       │2771             │734           │3505                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • LXDE       │2635             │708           │3343                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • MATE       │3197             │832           │4029                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│  • Cinnamon   │3852             │1027          │4879                        │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│Webbserver     │116              │26            │142                         │
├───────────────┼─────────────────┼──────────────┼────────────────────────────┤
│SSH-server     │2                │1             │3                           │
└───────────────┴─────────────────┴──────────────┴────────────────────────────┘

Om du installerar i ett annat språk än engelska, kan tasksel automatiskt
installera en lokalanpassningsfunktion om det finns en tillgänglig för ditt
språk. Utrymmeskrav skiljer sig mellan språken; du bör avsätta upp till 350 MB
totalt för hämtning och installation.

D.3. Installera Debian GNU/Linux från ett Unix/Linux-system

Det här avsnittet förklarar hur man installerar Debian GNU/Linux från ett
befintligt Unix- eller Linux-system, utan att använda det menystyrda
installationsprogrammet som förklaras i resten av handboken. Den här HOWTO:n
för "cross-installation" har efterfrågats av användare som byter till Debian
GNU/Linux från Red Hat, Mandriva och SUSE. I detta avsnitt antas att viss
erfarenhet av *nix-kommandon och navigering i filsystemet. I detta avsnitt
symboliserar $ ett kommando som ska anges i användarens aktuella system, medan
# refererar till ett kommando som ska anges i Debians chroot-miljö.

När du har fått det nya Debian-systemet konfigurerat enligt din smak, kan du
migrera din befintliga användardata (om den finns) till det, och fortsätta
köra. Det här är alltså en installation av Debian GNU/Linux "utan nedtid". Det
är också ett klurigt sätt att hantera maskinvara som annars inte fungerar
snällt med olika uppstarts- eller installationsmedia.

Notera

Eftersom det här till största del är en manuell procedur bör du tänka på att du
kommer att behöva göra en hel del grundläggande konfiguration av själva
systemet själv, vilket även kräver mer kunskaper om Debian och speciellt Linux
i allmänhet än att genomföra en vanlig installation. Du kan inte förvänta dig
att denna procedur resulterar i ett system som är identiskt med ett system från
en vanlig installation. Du bör även tänka på att denna procedur endast ger de
grundläggande stegen för att konfigurera ett system. Ytterligare installation
och/eller konfigurationssteg kan behövas.

D.3.1. Påbörja arbetet

Partitionera om hårddisken efter behov med dina aktuella
*nix-partitioneringsverktyg. Skapa åtminstone ett filsystem plus
växlingsutrymme. Du behöver ungefär 647 MB tillgängligt diskutrymme för en
installation för endast konsoll, eller ungefär 2635 MB om du planerar att
installera X (mer om du tänker installera skrivbordsmiljöer som GNOME eller KDE
Plasma).

Skapa sedan filsystem på dina partitioner. För att till exempel skapa ett
ext3-filsystem på partitionen /dev/sda6 (det är vår rotpartition i exemplet):

# mke2fs -j /dev/sda6

För att istället skapa ett ext2-filsystem, uteslut -j.

Initialisera och aktivera växlingsutrymmet (ersätt partitionsnumret med din
tilltänkta Debian-partition för växlingsutrymme):

# mkswap /dev/sda5
# sync
# swapon /dev/sda5

Montera en partition som /mnt/debinst (installationspunkten, som ska vara
rotfilsystemet (/) på ditt nya system). Namnet på monteringspunkten är strikt
godtyckligt, det refereras till senare här nedan.

# mkdir /mnt/debinst
# mount /dev/sda6 /mnt/debinst

Notera

Om du vill ha delar av filsystemet (exempelvis, /usr) monterat på separata
partitioner, behöver du skapa och montera dessa kataloger manuellt innan du
fortsätter till nästa steg.

D.3.2. Installera debootstrap

Verktyget som Debian Installer använder, som är känt som det officiella sättet
att installera Debians grundsystem, är debootstrap. Det använder wget och ar,
men är annars endast beroende av /bin/sh och grundläggande Unix/Linux-verktyg^
[21]. Installera wget och ar om de inte redan finns på ditt aktuella system,
hämta och installera sedan debootstrap.

Eller så kan du använda följande procedur för att installera det manuellt.
Skapa en arbetskatalog för att extrahera .deb-filen till:

# mkdir arbetskatalog
# cd arbetskatalog

Binärfilen debootstrap finns i Debian-arkivet (se till att välja den lämpliga
filen för din arkitektur). Hämta .deb-filen för debootstrap från pool, kopiera
paketet till arbetskatalogen, och extrahera filerna från det. Du kommer att
behöva root-privilegier för att installera filerna.

# ar -x debootstrap_0.X.X_all.deb
# cd /
# zcat /fullständig-sökväg-till-arbetskatalog/arbetskatalog/data.tar.gz | tar xv

D.3.3. Kör debootstrap

debootstrap kan hämta de nödvändiga filerna direkt från arkivet när du kör det.
Du kan ersätta ftp.se.debian.org/debian med vilken Debian-arkivspegel som du
vill i kommandoexemplet nedan, föredragsvis en spegel som är så nära ditt
nätverk som möjligt. Speglarna finns listade på http://www.debian.org/mirror/
list.

Om du har en trixie Debian GNU/Linux installationsavbildning monterad på /
cdrom, kan du ersätta en fil-URL istället för en http-URL: file:/cdrom/debian/

Ersätt en av följande för ARCH i kommandot debootstrap: amd64, arm64, armhf,
ppc64el, riscv64, s390x.

# /usr/sbin/debootstrap --arch ARCH trixie \
      /mnt/debinst http://ftp.us.debian.org/debian

Om målarkitekturen skiljer sig från värden bör du lägga till alternativet
--foreign.

D.3.4. Konfigurera grundsystemet

Nu är du har ett riktigt Debian-system, även om det är ganska minimalt, på
disk. Kör chroot in i det:

# LANG=C.UTF-8 chroot /mnt/debinst /bin/bash

Om målarkitekturen skiljer sig från värden måste du först kopiera
qemu-user-static till den nya värden:

# cp /usr/bin/qemu-ARCH-static /mnt/debinst/usr/bin
# LANG=C.UTF-8 chroot /mnt/debinst qemu-ARCH-static /bin/bash

Efter chroot kan du behöva ställa in terminaldefinitionen så att den är
kompatibel med Debian bassystemet, till exempel:

# export TERM=xterm-color

Beroende på värdet av TERM, kan du behöva installera ncurses-term paketet för
att få stöd för det.

Om målarkitekturen skiljer sig från värden måste du avsluta flerstegets
startband:

/debootstrap/debootstrap --second-stage

D.3.4.1. Skapa enhetsfiler

Vid det här tillfället innehåller /dev/ endast mycket grundläggande
enhetsfiler. För nästkommande steg av installationen kan ytterligare
enhetsfiler behövas. Det finns olika sätt att göra detta på och vilken metod
som du väljer beror på värdsystemet som du använder för installationen, om du
tänker använda en modulär kärna eller inte och om du tänker använda dynamisk
(t.ex. använda udev) eller statiska enhetsfiler för det nya systemet.

Ett par av de tillgängliga alternativen är:

  • installera makedev-paketet och skapa en standarduppsättning med statiska
    enhetsfiler (efter chroot)

    # apt install makedev
    # mount none /proc -t proc
    # cd /dev
    # MAKEDEV generic

  • skapa manuellt endast specifika enhetsfiler med MAKEDEV

  • bindmontera /dev från ditt värdsystem på toppen av /dev i målsystemet;
    observera att postinst-skripten för vissa paket kan försöka att skapa
    enhetsfiler, så detta alternativ ska endast användas med försiktighet

D.3.4.2. Montera partitioner

Du måste skapa /etc/fstab.

# editor /etc/fstab

Här är ett exempel som du kan ändra på för att passa in:

# /etc/fstab: statisk filsystemsinformation.
#
# filsystem      monteringsp.  typ     flaggor                  dump pass
/dev/XXX         /             ext3    defaults                 0    1
/dev/XXX         /boot         ext3    ro,nosuid,nodev          0    2

/dev/XXX         none          swap    sw                       0    0
proc             /proc         proc    defaults                 0    0

/dev/cdrom       /media/cdrom  iso9660 noauto,ro,user,exec      0    0

/dev/XXX         /tmp          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /var          ext3    rw,nosuid,nodev          0    2
/dev/XXX         /usr          ext3    rw,nodev                 0    2
/dev/XXX         /home         ext3    rw,nosuid,nodev          0    2

Använd mount -a för att montera alla filsystem som du har angivna i din /etc/
fstab, eller använd följande kommando för att montera filsystem individuellt:

# mount /path   # exempelvis: mount /usr

Nuvarande Debian-system har monteringspunkter för flyttbara media under /media,
men innehåller symboliska länkar / för att vara kompatibla. Skapa dessa efter
behov, till exempel:

# cd /media
# mkdir cdrom0
# ln -s cdrom0 cdrom
# cd /
# ln -s media/cdrom

Du kan montera proc-filsystemet flera gånger till godtyckliga platser, även om
/proc är vanligast. Om du inte använde mount -a, tänk på att montera proc innan
du fortsätter:

# mount -t proc proc /proc

Kommandot ls /proc bör nu visa en icke-tom katalog. Om det här skulle
misslyckas, kan du kanske montera proc utanför chroot:

# mount -t proc proc /mnt/debinst/proc

D.3.4.3. Ställ in tidszon

Att ställa in den tredje raden i filen /etc/adjtime till "UTC" eller "LOCAL"
avgör om systemet kommer att tolka hårdvaruklockan som inställd på UTC
respektive lokal tid. Följande kommando låter dig ställa in det.

# editor /etc/adjtime

Här är ett exempel:

0.0 0 0.0
0
UTC

Följande kommando låter dig välja din tidszon.

# dpkg-reconfigure tzdata

D.3.4.4. Konfigurera nätverket

För att konfigurera nätverket, redigera /etc/network/interfaces, /etc/
resolv.conf, /etc/hostname och /etc/hosts.

# editor /etc/network/interfaces

Här är några enkla exempel från /usr/share/doc/ifupdown/examples:

######################################################################
# /etc/network/interfaces -- konfigurationsfil för ifup(8), ifdown(8)
# Se manualsidan interfaces(5) för information om vilka flaggor som
# finns tillgängliga.
######################################################################

# loopback-gränssnittet behövs egentligen inte längre, men kan användas
# om det behövs.
#
# auto lo
# iface lo inet loopback

# För att använda dhcp:
#
# auto eth0
# iface eth0 inet dhcp

# Ett exempel på statisk IP-konfiguration: (nätverk, broadcast och gateway är valfria)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1

Ange din namnserver (eller flera) och sökdirektiv i /etc/resolv.conf:

# editor /etc/resolv.conf

En enkelt exempel för /etc/resolv.conf:

search example.com
nameserver 10.1.1.36
nameserver 192.168.9.100

Ange värdnamnet för ditt system (2 till 63 tecken):

# echo DebianVardNamn > /etc/hostname

Och en grundläggande /etc/hosts med IPv6-stöd:

127.0.0.1 localhost
127.0.1.1 DebianVardNamn

# Följande rader är önskvärda för IPv6-kapabla värdar
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

Om du har flera nätverkskort bör du sortera namnen på drivrutinsmodulerna i
filen /etc/modules i önskad ordning. Sedan, under uppstart, kommer varje kort
att associeras med gränssnittsnamnet (eth0, eth1, etc.) som du förväntar dig.

D.3.4.5. Konfigurera apt

Debootstrap har skapat en mycket grundläggande /etc/apt/sources.list som
tillåter installation av ytterligare paket. Dock kanske du vill lägga till
ytterligare källor, till exempel för källkodspaket och säkerhetsuppdateringar:

deb-src http://ftp.se.debian.org/debian trixie main

deb http://security.debian.org/ trixie-security main
deb-src http://security.debian.org/ trixie-security main

Se till att köra apt update efter att du har gjort ändringar i källistan.

D.3.4.6. Konfigurera lokaler och tangentbord

För att konfigurera dina lokalinställningar till att använda ett språk annat än
engelska, installera stödpaketet locales och konfigurera det. För närvarande
rekommenderas användning av UTF-8-lokaler.

# apt install locales
# dpkg-reconfigure locales

För att konfigurera ditt tangentbord (om det behövs):

# apt install console-setup
# dpkg-reconfigure keyboard-configuration

Observera att tangentbordet inte kan ställas in när chroot används men kommer
att konfigureras inför nästa omstart.

D.3.5. Installera en kärna

Om du tänker starta upp det här systemet, vill du antagligen ha en Linux-kärna
och en starthanterare. Identifiera tillgängliga förpaketerade kärnor med:

# apt search linux-image

Installera sedan det kärnpaket som du önskar med hjälp av dess paketnamn.

# apt install linux-image-arch-etc

D.3.6. Ställ in starthanteraren

För att göra ditt Debian GNU/Linux-system startbart, ställ in din
starthanterare att läsa in den installerade kärnan med din nya rotpartition.
Observera att debootstrap inte installerar en starthanterare, men du kan
använda apt inne i din Debian chroot-miljö för att göra det.

Kontrollera info grub för instruktioner om hur man ställer in starthanteraren.
Om du behåller systemet du använde för att installera Debian, lägg bara till en
post för Debian-installationen till din befintliga grub2 grub.cfg.

Installering och konfigurering av grub2 är så här enkelt:

# apt install grub-pc
# grub-install /dev/sda
# update-grub

Det andra kommandot kommer att installera grub2 (i det här fallet i
huvudstartsektorn (MBR) på sda). Det sista kommandot kommer att skapa en ren
och fungerande /boot/grub/grub.cfg.

Observera att detta antar att enhetsfilen /dev/sda har skapats. Det finns
alternativa metoder för att installera grub2, men dessa är utanför omfånget för
denna bilaga.

D.3.7. Fjärråtkomst: installera SSH och konfigurera åtkomst

Om du kan logga in på systemet via konsolen kan du hoppa över det här
avsnittet. Om systemet ska vara tillgängligt via nätverket senare, måste du
installera SSH och konfigurera åtkomst.

# apt install ssh

Root login med lösenord är inaktiverat som standard, så att ställa in tillgång
kan göras genom att ange ett lösenord och återaktivera root login med lösenord:

# passwd
# editor /etc/ssh/sshd_config

Detta är alternativet som ska aktiveras:

PermitRootLogin yes

Åtkomst kan också ställas in genom att lägga till en SSH-nyckel till
root-kontot:

# mkdir /root/.ssh
# cat << EOF > /root/.ssh/authorized_keys
ssh-rsa ....
EOF

Slutligen kan åtkomst ställas in genom att lägga till en icke-root-användare
och ange ett lösenord:

# adduser joe
# passwd joe

D.3.8. Slutgiltiga justeringar

Som nämnts tidigare, det installerade systemet kommer att vara mycket minimalt.
Om du vill fylla upp systemet lite mer, finns det en enkel metod för att
installera alla paket med "standard"prioritet:

# tasksel install standard

Du kan så klart också använda apt för att installera paket individuellt.

Efter installationen kommer det att finnas en hel del hämtade paket i /var/
cache/apt/archives/. Du kan frigöra diskutrymme genom att köra:

# apt clean

D.4. Installera Debian GNU/Linux över Parallel Line IP (PLIP)

Det här avsnittet förklarar hur man installerar Debian GNU/Linux på en dator
som saknar ett Ethernet-kort, men med en dator som fjärrgateway ansluten via en
nollmodemkabel (kallas även för nollskrivarkabel). Gatewaydatorn bör vara
ansluten till ett nätverk som har en Debian-spegel på sig (t.ex. Internet).

I exemplet i den här bilagan kommer vi att ställa in en PLIP-anslutning med en
gateway ansluten till Internet över en uppringd anslutning (ppp0). Vi kommer
att använda IP-adresserna 192.168.0.1 och 192.168.0.2 för PLIP-gränssnitten på
målsystemet respektive källsystemet (dessa adresser bör vara oanvända inom ditt
nätverksadressintervall).

Inställningen av PLIP-anslutningen under installationen kommer också vara
tillgänglig efter omstart till det installerade systemet (se Kapitel 7, Starta
upp ditt nya Debian-system).

Innan du börjar, behöver du kontrollera BIOS-konfigurationen (IO-basadress och
IRQ) för parallellportar på både käll- och målsystemet. De mest vanliga värdena
är io=0x378 och irq=7.

D.4.1. Krav

  • En måldator, kallad mål, där Debian kommer att installeras.

  • Systeminstallationsmedia; se Avsnitt 2.4, "Installationsmedia".

  • En annan dator ansluten till Internet, kallad källa, som kommer att fungera
    som en gateway.

  • En DB-25-nollmodemkabel. Se PLIP-Install-HOWTO för mer information för den
    här kabeln och instruktioner hur man tillverkar en egen.

D.4.2. Ställ in källor

Följande skript är ett enkelt exempel på hur man konfigurerar källdatorn som en
gateway till Internet med ppp0.

#!/bin/sh

# Vi tar bort körande moduler från kärnan för att undvika konflikter och
# för att konfigurera om dem manuellt.
modprobe -r lp parport_pc
modprobe parport_pc io=0x378 irq=7
modprobe plip

# Konfigurera plip-gränssnittet (plip0 för mig, se dmesg | grep plip)
ifconfig plip0 192.168.0.2 pointopoint 192.168.0.1 netmask 255.255.255.255 up

# Konfigurera gateway
modprobe iptable_nat
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
echo 1 > /proc/sys/net/ipv4/ip_forward

D.4.3. Installera måldatorn

Starta upp på installationsmediat. Installationen behöver köras i expertläget;
skriv expert vid uppstartsprompten. Om du behöver ställa in paramentrar för
kärnmoduler behöver du även göra detta vid uppstartsprompten. För att till
exempel starta upp installationsprogrammet och ställa in värden för flaggorna "
io" och "irq" för modulen parport_pc, skriv följande vid uppstartsprompten:

expert parport_pc.io=0x378 parport_pc.irq=7

Nedan finns svaren som bör anges under de olika stegen av installationen.

 1. Läs in installationskomponenter från installationsmedia

    Välj plip-modules från listan; det här kommer att göra drivrutinerna för
    PLIP tillgängliga för installationssystemet.

 2. Identifiera nätverksmaskinvara

      □ Om målet har ett nätverkskort, kommer en lista över drivrutinsmoduler
        för identifierade kort att visas. Om du vill tvinga debian-installer
        att använda plip istället, måste du avmarkera alla listade
        drivrutinsmoduler. Så klart, om målet inte har ett nätverkskort kommer
        installationsprogrammet inte att visa den här listan.

      □ På grund av att inget nätverkskort hittades/valdes tidigare, kommer
        installationsprogrammet att fråga dig om att välja en
        nätverksdrivrutinsmodul från en lista. Välj modulen plip.

 3. Konfigurera nätverket

      □ Auto-konfigurera nätverk med DHCP: Nej

      □ IP-adress: 192.168.0.1

      □ Punkt-till-punkt-adress: 192.168.0.2

      □ Namnserveradresser: du kan ange samma adresser som används på källan
        (se /etc/resolv.conf)

D.5. Installera Debian GNU/Linux över PPP over Ethernet (PPPoE)

I vissa länder är PPP over Ethernet (PPPoE) ett vanligt protokoll för
bredbandsanslutningar (ADSL eller kabel) till en internetleverantör.
Konfiguration av en nätverksanslutning med PPPoE stöds inte som standard i
installationsprogrammet men går att få att fungera mycket enkelt. Det här
avsnittet förklarar hur man gör.

PPPoE-anslutningen som konfigurerats under installationen kommer också vara
tillgänglig efter omstart till det installerade systemet (se Kapitel 7, Starta
upp ditt nya Debian-system).

För att få möjligheten att konfigurera och använda PPPoE under installationen
behöver du installera från en av cd/dvd-avbildningarna som finns tillgängliga.
Det stöds inte för andra installationsmetoder (t.ex. nätinstallation).

Installation över PPPoE är mestadels samma som för andra installationer.
Följande steg förklarar skillnaderna.

  • Starta upp installationsprogrammet med uppstartsparameter modules=ppp-udeb^
    [22]. Det här kommer att se till att komponenten som ansvarar för
    konfigurering av PPPoE (ppp-udeb) kommer att läsas in och köras
    automatiskt.

  • Följ de vanliga initiala steg för installationen (språk, land och
    tangentbordsval; inläsningen av ytterligare installerarkomponenter^[23]).

  • Nästa steg är identifieringen av nätverksmaskinvaran för att identifiera de
    Ethernet-kort som finns anslutna till systemet.

  • Efter det här är konfigurationen av PPPoE startad. Installationsprogrammet
    kommer att söka igenom alla identifierade Ethernet-gränssnitt i ett försök
    att hitta en PPPoE-koncentrator (en typ av server som hanterar
    PPPoE-anslutningar).

    Det är möjligt att koncentratorn inte kommer att hittas vid första
    försöket. Det kan hända ibland vid långsamma eller belastade nätverk eller
    med felaktiga servrar. I de flesta fall lyckas ett andra försök att
    identifiera koncentratorn; för att försöka igen, välj Konfigurera och
    starta en PPPoE-anslutning från huvudmenyn i installationsprogrammet.

  • Efter att en koncentrator har hittats kommer användaren att bli tillfrågad
    att ange inloggningsinformationen (användarnamn och lösenord för
    PPPoE-anslutningen).

  • Nu kommer installationsprogrammet att använda den angivna informationen för
    att etablera PPPoE-anslutningen. Om korrekt information har angivits kommer
    PPPoE-anslutningen att konfigureras och installationsprogrammet ska kunna
    använda den för att ansluta till Internet och hämta ner paket (om det
    behövs). Om inloggningsinformationen inte är korrekt eller några fel dyker
    upp kommer installationsprogrammet att stoppa, men konfigurationen kan
    startas om igen genom att välja menyposten Konfigurera och starta en
    PPPoE-anslutning.


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

^[21] Dessa inkluderar GNU-kärnverktyg och kommandon såsom sed, grep, tar och 
gzip.

^[22] Se Avsnitt 5.1.5, "Uppstartsskärmen" för information om hur man lägger
till en uppstartsparameter.

^[23] Komponenten ppp-udeb läses in som en av de ytterligare komponenterna i
det här steget. Om du vill installera på medium eller låg prioritet
(expertläge) kan du även manuellt välja ppp-udeb istället för att ange
parametern "modules" vid uppstartsprompten.

Appendix E. Administrivia

Innehållsförteckning

E.1. Om det här dokumentet
E.2. Bidrag till det här dokumentet
E.3. Stora bidragsgivare
E.4. Varumärken

E.1. Om det här dokumentet

Den här handboken skapades för Sarges debian-installer och baserades på
installationsmanualen för Woody för uppstartsdisketter som var baserad på
tidigare installationsmanualer för Debian och på Progeny-utgåvans manual som
utgavs under GPL år 2003.

Det här dokumentet är skrivet i DocBook XML. Formaten för utdata genereras av
olika program med information från paketen docbook-xml och docbook-xsl.

För att förbättra hanteringen av det här dokumentet använder vi ett antal
XML-funktioner såsom entities och profil-attribut. Dessa spelar en roll som är
besläktad med variabler och villkor i programspråk. XML-källkoden till det här
dokumentet innehåller information om varje arkitektur och profil-attribut
används för att isolera vissa delar av texten som är arkitekturspecifik.

E.2. Bidrag till det här dokumentet

Om du har problem eller förslag angående det här dokumentet bör du antagligen
sända in om som en felrapport mot paketet installation-guide. Se paketet
reportbug eller läs online-dokumentationen för Debians felrapporteringssystem.
Det vore trevligt om du kunde kontrollera öppna fel mot paketet
debian-installer-manual för att se om ditt problem redan har blivit
rapporterat. Om det har gjorts kan du ange ytterligare bekräftelse på problemet
eller behjälplig information till <XXXX@bugs.debian.org> där XXXX är numret för
den redan öppnade felrapporten.

Ännu bättre, skaffa en kopia av DocBook-källan för det här dokumentet och skapa
rättningar mot den. DocBook-källan kan hittas på projektet installation-guide
på salsa. Om du inte känner till DocBook, var inte rädd, det finns en enkel
lathund i handbokslkatalogen som gör det lättare att starta. Det liknar html
men riktar sig mer mot betydningen av texten hellre än presentationen.
Rättningar som skickas till sändlistan debian-boot (se nedan) välkomnas. För
instruktioner om hur man tar ner källan via git, se README från källans
rotkatalog.

Vänligen kontakta inte författaren av det här dokumentet direkt. Det finns även
en diskussionslista för debian-installer som inkluderar diskussioner om den här
handboken. Sändlistan är <debian-boot@lists.debian.org>. Instruktioner för
prenumeration av den här listan kan hittas på sidan Debian Mailing List
Subscription eller så kan du bläddra i Debian Mailing List Archives online.

E.3. Stora bidragsgivare

Detta dokument skrevs ursprungligen av Bruce Perens, Sven Rudolph, Igor
Grobman, James Treacy och Adam Di Carlo. Sebastian Ley skrev
installationshjälpen.

Miroslav Kuře har dokumenterat mycket av den nya funktionaliteten i
debian-installer för Sarge. Frans Pop var huvudredaktör och utgivningsansvarig
för utgåvorna Etch, Lenny och Squeeze.

Många, många Debian-användare och utvecklare har bidragit till det här
dokumentet. Speciellt tack måste ges till Michael Schmitz (m68k-stöd), Frank
Neumann (originalförfattare av installationshandboken för Amiga), Arto Astala,
Eric Delaunay/Ben Collins (SPARC-information), Tapio Lehtonen och Stéphane
Bortzmeyer för ett flertal redigeringar och texter. Vi måste tacka Pascal Le
Bail för användbar information om uppstart från USB-minnen.

Mycket behjälplig text och information hittades i Jim Minthas HOWTO för
uppstart via nätverket (ingen URL tillgänglig), Debian FAQ, Linux/m68k FAQ,
Linux för SPARC-processorer FAQ, Linux/Alpha FAQ bland andra. Ansvariga för
dessa fritt tillgängliga och rikliga källor av information måste erkännas.

Avsnittet om chrootade installationer i den här handboken (Avsnitt D.3,
"Installera Debian GNU/Linux från ett Unix/Linux-system") blev framtagen ur
delar från dokument som är copyright Karsten M. Self.

Avsnittet för installationer över plip i den här handboken (Avsnitt D.4,
"Installera Debian GNU/Linux över Parallel Line IP (PLIP)") baserades på
PLIP-Install-HOWTO av Gilles Lamiral.

E.4. Varumärken

Alla varumärken tillhör sina respektive ägare.

Appendix F. GNU General Public License

Notera

This is an unofficial translation of the GNU General Public License into
Swedish. It was not published by the Free Software Foundation, and does not
legally state the distribution terms for software that uses the GNU GPL -- only
the original English text of the GNU GPL does that. However, we hope that this
translation will help Swedish speakers to better understand the GNU GPL.

Det här är en inofficiell svensk översättning av GNU General Public License.
Den har inte publicerats av Free Software Foundation och fastställer inte
heller de juridiska villkor för distribuering för programvara som använder GNU
GPL -- det gör endast den ursprungliga engelska texten av GNU GPL. Dock hoppas
vi att denna översättning kan hjälpa svenska läsare att förstå GNU GPL bättre.

Version 2, June 1991

Copyright © 1989, 1991 Free Software Foundation, Inc.
51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA.

Var och en äger kopiera och distribuera exakta kopior av det
här licensavtalet, men att ändra det är inte tillåtet.

F.1. BAKGRUND

De flesta programvarulicenser är skapade för att ta bort din frihet att ändra
och dela med dig av programvaran. GNU General Public License är tvärtom skapad
för att garantera din frihet att dela med dig av och förändra fri programvara
-- för att försäkra att programvaran är fri för alla dess användare. Den här
licensen [General Public License] används för de flesta av Free Software
Foundations programvaror och för alla andra program vars upphovsmän använder
sig av General Public License. (Viss programvara från Free Software Foundation
använder istället GNU Library General Public License.) Du kan använda licensen
för dina program.

När vi talar om fri programvara syftar vi på frihet och inte på pris. Våra
[General Public License-] licenser är skapade för att garantera din rätt
distribuera och sprida kopior av fri programvara (och ta betalt för den här
tjänsten om du önskar), att garantera att du får källkoden till programvaran
eller kan få den om du så önskar, att garantera att du kan ändra och modifiera
programvaran eller använda dess delar i ny fri programvara samt slutligen att
garantera att du är medveten om dessa rättigheter.

För att skydda dina rättigheter, måste vi begränsa var och ens möjlighet att
hindra dig från att använda dig av dessa rättigheter samt från att kräva att du
ger upp dessa rättigheter. Dessa begränsningar motsvaras av en förpliktelse för
dig om du distribuerar kopior av programvaran eller om du ändrar eller
modifierar programvaran.

Om du exempelvis distribuerar kopior av en fri programvara, oavsett om du gör
det gratis eller mot en avgift, måste du ge mottagaren alla de rättigheter du
själv har. Du måste också tillse att mottagaren får källkoden eller kan få den
om mottagaren så önskar. Du måste också visa dessa licensvillkor för mottagaren
så att mottagaren känner till sina rättigheter.

Vi skyddar dina rättigheter i två steg: (1) upphovsrätt till programvaran och
(2) dessa licensvillkor som ger dig rätt att kopiera, distribuera och eller
ändra programvaran.

För varje upphovsmans säkerhet och vår säkerhet vill vi för tydlighets skull
klargöra att det inte lämnas några garantier för den här fria programvaran. Om
programvaran förändras av någon annan än upphovsmannen vill vi klargöra för
mottagaren att det som mottagaren har är inte originalversionen av programvaran
och att förändringar av och felaktigheter i programvaran inte skall belasta den
ursprunglige upphovsmannen.

Slutligen skall det sägas att all fri programvara ständigt hotas av
programvarupatent. Vi vill undvika att en distributör [eller vidareutvecklare]
av fri programvara individuellt skaffar patentlicenser till programvaran och
därmed gör programvaran till föremål för äganderätt. För att undvika det här
har vi gjort det tydligt att samtliga programvarupatent måste registreras för
allas fria användning eller inte registreras alls.

Här nedan följer licensvillkoren för att kopiera, distribuera och ändra
programvaran.

F.2. GNU GENERAL PUBLIC LICENSE

VILLKOR FÖR ATT KOPIERA, DISTRIBUERA OCH ÄNDRA PROGRAMVARAN

0. Dessa licensvillkor gäller varje programvara eller annat verk som innehåller
en hänvisning till dessa licensvillkor där upphovsrättsinnehavaren stadgat att
programvaran kan distribueras enligt [General Public License] dessa villkor. "
Programvaran" enligt nedan syftar på varje sådan programvara eller verk och "
Verk baserat på Programvaran" syftar på antingen Programvaran eller på
derivativa verk, såsom ett verk som innehåller Programvaran eller en del av
Programvaran, antingen en exakt kopia eller en ändrad kopia och/eller översatt
till ett annat språk. (Översättningar ingår nedan utan begränsningar i
begreppet "modifiering".) Varje licenstagare benämns som "du".

Åtgärder utom kopiering, distribution och ändringar täcks inte av dessa
licensvillkor. Användningen av Programvaran är inte begränsad och resultatet av
användningen av Programvaran täcks endast av dessa licensvillkor om resultatet
utgör ett Verk baserat på Programvaran (oberoende av att det skapats av att
programmet körts). Det beror på vad Programvaran gör.

1. Du äger kopiera och distribuera exakta kopior av Programvarans källkod såsom
du mottog den, i alla medier, förutsatt att Du tydligt och på ett skäligt sätt
på varje exemplar fäster en riktig upphovsrättsklausul och garantiavsägelse,
vidhåller alla hänvisningar till dessa licensvillkor och till alla
garantiavsägelser samt att till alla mottagaren av Programvaran ge en kopia av
dessa licensvillkor tillsammans med Programvaran.

Du äger utta en avgift för mekaniseringen [att fysiskt fästa Programvaran på
ett medium, såsom en diskett eller en CD-ROM-skiva] eller överföringen av en
kopia och du äger erbjuda en garanti för Programvaran mot en avgift.

2. Du äger ändra ditt exemplar eller andra kopior av Programvaran eller någon
del av Programvaran och därmed skapa ett Verk baserat på Programvaran, samt att
kopiera och distribuera sådana förändrade versioner av Programvaran eller verk
enligt villkoren i paragraf 1 ovan, förutsatt att du också uppfyller följande
villkor:

 a. Du tillser att de förändrade filerna har ett tydligt meddelande som
    berättar att Du ändrat filerna samt vilket datum dessa ändringar gjordes.

 b. Du tillser att alla verk som du distribuerar eller offentliggör som till en
    del eller i sin helhet innehåller eller är härlett från Programvaran eller
    en del av Programvaran, licensieras i sin helhet, utan kostnad till tredje
    man enligt dessa licensvillkor.

 c. Om den förändrade Programvaran i sitt normala utförande kan utföra
    interaktiv kommandon när det körs, måste Du tillse att när Programmet
    startas skall det skriva ut eller visa, på ett enkelt tillgängligt sätt,
    ett meddelande som tydligt och på ett skäligt sätt på varje exemplar fäster
    en riktig upphovsrättsklausul och garantiavsägelse (eller i förekommande
    fall ett meddelande som klargör att du tillhandahåller en garanti) samt att
    mottagaren äger distribuera Programvaran enligt dessa licensvillkor samt
    berätta hur mottagaren kan se dessa licensvillkor. (Från den här
    skyldigheten undantas det fall att Programvaran förvisso är interaktiv, men
    i sitt normala utförande inte visar ett meddelande av den här typen. I
    sådant fall behöver Verk baserat Programvaran inte visa ett sådant
    meddelande som nämns ovan.)

Dessa krav gäller det förändrade verket i dess helhet. Om identifierbara delar
av verket inte härrör från Programvaran och skäligen kan anses vara fristående
och självständiga verk i sig, då skall dessa licensvillkor inte gälla i de
delarna när de distribueras som egna verk. Men om samma delar distribueras
tillsammans med en helhet som innehåller verk som härrör från Programvaran,
måste distributionen i sin helhet ske enligt dessa licensvillkor.
Licensvillkoren skall i sådant fall gälla för andra licenstagare för hela
verket och sålunda till alla delar av Programvaran, oavsett vem som är
upphovsman till vilka delar av verket.

Den här paragrafen skall sålunda inte tolkas som att anspråk görs på
rättigheter eller att ifrågasätta Dina rättigheter till programvara som
skrivits helt av Dig. Syftet är att tillse att rätten att kontrollera
distributionen av derivativa eller samlingsverk av Programvaran.

Förekomsten av ett annat verk på ett lagringsmedium eller samlingsmedium som
innehåller Programvaran eller Verk baserat på Programvaran leder inte till att
det andra verket omfattas av dessa licensvillkor.

3. Du äger kopiera och distribuera Programvaran (eller Verk baserat på
Programvaran enligt paragraf 2) i objektkod eller i körbar form enligt
villkoren i paragraf 1 och paragraf 2 förutsatt att Du också gör en av följande
saker:

 a. Bifogar den kompletta källkoden i maskinläsbar form, som måste distribueras
    enligt villkoren i paragraf 1 och 2 på ett medium som i allmänhet används
    för utbyte av programvara, eller

 b. Bifogar ett skriftligt erbjudande, med minst tre års giltighet, att ge
    tredje man, mot en avgift som högst uppgår till Din kostnad att utföra
    fysisk distribution, en fullständig kopia av källkoden i maskinläsbar form,
    distribuerad enligt villkoren i paragraf 1 och 2 på ett medium som i
    allmänhet används för utbyte av programvara, eller

 c. Bifogar det skriftligt erbjudande Du fick att erhålla källkoden. (Det här
    alternativet kan endast användas för icke-kommersiell distribution och
    endast om Du erhållit ett program i objektkod eller körbar form med ett
    erbjudande i enlighet med b ovan.)

Källkoden för ett verk avser den form av ett verk som är att föredra för att
göra förändringar av verket. För ett körbart verk avser källkoden all källkod
för moduler det innehåller, samt alla tillhörande gränssnittsfiler,
definitioner, scripts för att kontrollera kompilering och installation av den
körbara Programvaran. Ett undantag kan dock göras för sådant som normalt
distribueras, antingen i binär form eller som källkod, med huvudkomponterna i
operativsystemet (kompliator, kärna och så vidare) i vilket den körbara
programvaran körs, om inte den här komponenten medföljer den körbara
programvaran.

Om distributionen av körbar Programvara eller objektkod görs genom att erbjuda
tillgång till att kopiera från en bestämd plats, då skall motsvarande tillgång
till att kopiera källkoden från samma plats räknas som distribution av
källkoden, även om trejde man inte behöver kopiera källkoden tillsammans med
objektkoden.

4. Du äger inte kopiera, ändra, licensiera eller distribuera Programvaran utom
på dessa licensvillkor. All övrig kopiering, ändringar, licensiering eller
distribution av Programvaran är ogiltig och kommer automatiskt medföra att Du
förlorar Dina rättigheter enligt dessa licensvillkor. Tredje man som har
mottagit kopior eller rättigheter från Dig enligt dessa licensvillkor kommer
dock inte att förlora sina rättigheter så länge de följer licensvillkoren.

5. Du åläggs inte att acceptera licensvillkoren, då du inte har skrivit under
det här avtalet. Du har dock ingen rätt att ändra eller distribuera
Programvaran eller Verk baserat på Programvaran. Sådan verksamhet är förbjuden
i lag om du inte accepterar och följer dessa licensvillkor. Genom att ändra
eller distribuera Programvaran (eller verk baserat på Programvaran) visar du
med genom ditt handlande att du accepterar licensvillkoren och alla villkor för
att kopiera, distribuera eller ändra Programvaran eller Verk baserat på
Programvaran.

6. Var gång du distributerar Progamvaran (eller Verk baserat på Programvaran),
kommer mottagaren per automatik att få en licens från den första licensgivaren
att kopiera, distribuera eller ändra Programvaran enligt dessa licensvillkor.
Du äger inte ålägga mottagaren några andra restriktioner än de som följer av
licensvillkoren. Du är inte skyldig att tillse att tredje man följer
licensvillkoren.

7. Om Du på grund av domstolsdom eller anklagelse om patentintrång eller på
grund av annan anledning (ej begränsat till patentfrågor), Du får villkor
(oavsett om de kommer via domstols dom, avtal eller på annat sätt) som strider
mot dessa licensvillkor så fråntar de inte Dina förpliktelser enligt dessa
licensvillkor. Om du inte kan distribuera Programvaran och samtidigt uppfylla
licensvillkor och andra skyldigheter, får du som en konsekvens inte distribuera
Programvaran. Om exempelvis ett patent gör att Du inte distribuera Programvaran
fritt till alla de som mottager kopior direkt eller indirekt från Dig, så måste
Du helt sluta distribuera Programvaran.

Om delar av den här paragrafen förklaras ogiltig eller annars inte kan
verkställas skall resten av paragrafen äga fortsatt giltighet och paragrafen i
sin helhet äga fortsatt giltighet i andra sammanhang.

Syftet med den här paragrafen är inte att förmå Dig att begå patentintrång
eller att begå intrång i andra rättigheter eller att förmå Dig att betrida
giltigheten i sådana rättigheter. Den här paragrafen har ett enda syfte, vilket
är att skydda distributionssystemet för fri programvara vilket görs genom
användandet av dessa licensvillkor. Många har bidragit till det stora utbudet
av programvara som distribueras med hjälp av dessa licensvillkor och den
fortsatta giltigheten och användningen av det här systemet, men det är
upphovsmannen själv som måste besluta om han eller hon vill distribuera
Programvaran genom det här systemet eller ett annat och en licenstagare kan
inte tvinga en upphovsman till ett annat beslut.

Den här paragrafen har till syfte att ställa det utom tvivel vad som anses
följa av resten av dessa licensvillkor.

8. Om distributionen och/eller användningen av Programvaran är begränsad i
vissa länder på grund av patent eller upphovsrättsligt skyddade gränssnitt kan
upphovsmannen till Programvaran lägga till en geografisk spridningsklausul,
enligt vilken distribution är tillåten i länder förutom dem i vilket det är
förbjudet. Om så är fallet kommer begränsningen att utgöra en fullvärdig del av
licensvillkoren.

9. The Free Software Foundation kan offentliggöra ändrade och/eller nya
versioner av the General Public License från tid till annan. Sådana nya
versioner kommer i sin helhet att påminna om nuvarande version av the General
Public License, men kan vara ändrade i detaljer för att behandla nya problem
eller göra nya överväganden. Varje version ges ett särskiljande versionsnummer.
Om Programvaran specificerar ett versionsnummer av licensvillkoren samt "alla
senare versioner" kan Du välja mellan att följa dessa licensvillkor eller
licensvillkoren i alla senare versioner offentliggjorda av the Free Software
Foundation. Om Programvaran inte specificerar ett versionnummer av
licensvillkoren kan Du välja fritt bland samtliga versioner som någonsin
offentligjorts.

10. Om du vill använda delar av Programvaran i annan fri programvara som
distribueras enligt andra licensvillkor, begär tillstånd från upphovsmannen.
För Programvaran var upphovsrätt innehas av Free Software Foundation, skriv
till Free Software Foundation, vi gör ibland undantag för det här. Vårt beslut
grundas på våra två mål att bibehålla den fria statusen av alla verk som
härleds från vår Programvara och främjandet av att dela med sig av och
återanvända programvara i allmänhet.

INGEN GARANTI

11. DÅ DENNA PROGRAMVARA LICENSIERAS UTAN KOSTNAD GES INGEN GARANTI FÖR
PROGRAMMET, UTOM SÅDAN GARANTI SOM MÅSTE GES ENLIGT TILLÄMPLIG LAG. FÖRUTOM DÅ
DET UTTRYCKS I SKRIFT TILLHANDAHÅLLER UPPHOVSRÄTTSINNEHAVAREN OCH/ELLER ANDRA
PARTER PROGRAMMET "I BEFINTLIGT SKICK" UTAN GARANTIER AV NÅGRA SLAG, VARKEN
UTTRYCKLIGA ELLER UNDERFÖRSTÅDDA, INKLUSIVE, MEN INTE BEGRÄNSAT TILL,
UNDERFÖRSTÅDDA GARANTIER VID KÖP OCH LÄMPLIGHET FÖR ETT SÄRSKILT ÄNDAMÅL. HELA
RISKEN FÖR KVALITET OCH ANVÄNDBARHET BÄRS AV DIG. OM PROGRAMMET SKULLE VISA SIG
HA DEFEKTER SKALL DU BÄRA ALLA KOSTNADER FÖR FELETS AVHJÄLPANDE, REPARATIONER
ELLER NÖDVÄNDIGSERVICE.

12. INTE I NÅGOT FALL, UTOM NÄR DET GÄLLER ENLIGT TILLÄMPLIG LAG ELLER NÄR DET
ÖVERENSKOMMITS SKRIFTLIGEN, SKALL EN UPPHOVSRÄTTSINNEHAVARE ELLER ANNAN PART
SOM ÄGER ÄNDRA OCH/ELLER DISTRIBUERA PROGRAMVARAN ENLIGT OVAN, VARA SKYLDIG
UTGE ERSÄTTNING FÖR SKADA DU LIDER, INKLUSIVE ALLMÄN, DIREKT ELLER INDIREKT
SKADA SOM FÖLJER PÅ GRUND AV ANVÄNDNING ELLER OMÖJLIGHET ATT ANVÄNDA
PROGRAMVARAN (INKLUSIVE MEN INTE BEGRÄNSAT TILL FÖRLUST AV DATA OCH INFORMATION
ELLER DATA OCH INFORMATION SOM FRAMSTÄLLTS FELAKTIGT AV DIG ELLER TREDJE PART
ELLER FEL DÄR PROGRAMMET INTE KUNNAT KÖRAS SAMTIDIGT MED ANNAN PROGRAMVARA),
ÄVEN OM EN SÅDAN UPPHOVSRÄTTSINNEHAVAREN ELLER ANNAN PART UPPLYSTS OM
MÖJLIGHETEN TILL SÅDAN SKADA.

SLUT PÅ LICENSVILLKOR

F.3. METOD FÖR ATT ANVÄNDA DESSA VILLKOR

Om du utvecklar ett nytt program och vill att det skall vara av största möjliga
nytta för allmänheten är det bästa du kan göra att göra programmet till fri
programvara som var och en kan mångfaldiga och ändra enligt dessa villkor.

För att uppnå det här skall du lägga till följande text till programmet. Det är
säkrast att lägga dem i början av varje källkodsfil för att tillse att du med
överlåtelser avsaknaden av garantiåtagande och varje fil skall minst ha "
copyright"-raderna och en länk till var användaren hittar hela licensen.

en rad för programmets namn och en kort beskrivning av vad det gör.
Copyright © år  namn på upphovsmannen

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

Lägg här in information om hur användaren når dig per e-post och vanlig post.

Om ditt program är interaktivt visa följande för användaren när programmet
startas i interaktivt läge:

Gnomovision version 69, Copyright © år namn på upphovsman
Gnomovision comes with absolutely no warranty; for details
type show w. This is free software, and you are welcome
to redistribute it under certain conditions; type show c
for details.

Kommandot "show w" respektive "show c" skall visa tillämpliga delar av General
Public License. Du kan givetvis använda andra kommandon än "show w" och "show c
" det kan till och med röra sig om musklick eller menyval, använd det som
passar till programmet.

Om du arbetar som programmerare skall din arbetsgivare eller din skola skriva
under en "copyright disclaimer" för programmet om det är nödvändigt. Här är ett
exempel, ändra namnen:

Yoyodyne, Inc., hereby disclaims all copyright interest in the
program Gnomovision (which makes passes at compilers) written
by James Hacker.

signaturen för Ty Coon, 1 April 1989
Ty Coon, President of Vice

Den här General Public License tillåter inte att du inkorperar ditt program i
icke-fri programvara. Om du utvecklar subrutiner eller programbibliotek kan det
vara lämpligt att tillåta länkning till icke-fri programvara. Om du vill göra
det här bör du istället för den här licensen använda GNU Lesser General Public
License.

