<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>5.4. Усунення несправностей у процесі встановлення</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Настанова з інсталяції Debian GNU/Linux">
<link rel="up" href="ch05.html" title="Розділ 5. Завантаження системи встановлення">
<link rel="prev" href="ch05s03.html" title="5.3. Параметри завантаження">
<link rel="next" href="ch06.html" title="Розділ 6. Використання інсталятора Debian">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">5.4. Усунення несправностей у процесі встановлення</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch05s03.html"><img src="images/prev.png" alt="назад"></a> </td>
<th width="60%" align="center">Розділ 5. Завантаження системи встановлення</th>
<td width="20%" align="right"> <a accesskey="n" href="ch06.html"><img src="images/next.png" alt="далі"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="boot-troubleshooting"></a>5.4. Усунення несправностей у процесі встановлення</h2></div></div></div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="unreliable-cd"></a>5.4.1. Надійність оптичних носіїв</h3></div></div></div>
<p>Іноді, особливо на старих дисках, програма встановлення може не завантажитися з оптичного диска. Програма встановлення також може — навіть після успішного завантаження з такого диска — не розпізнати диск або видавати помилки при читанні з нього під час встановлення. </p>
<p>Існує багато різних можливих причин цих проблем. Ми можемо лише перерахувати деякі поширені проблеми та надати загальні рекомендації щодо їх вирішення. Все інше залежить від вас. </p>
<p>Є дві дуже прості речі, які варто спробувати в першу чергу. </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Якщо диск не завантажується, перевірте, чи правильно він вставлений і чи не забруднений. </p></li>
<li class="listitem"><p>Якщо програмі встановлення не вдається розпізнати диск, спробуйте виконати параметр <span class="guimenuitem">Виявити і змонтувати інсталяційний носій</span> вдруге. Відомо, що деякі проблеми, пов'язані з DMA у дуже старих приводах CD-ROM, можна вирішити у такий спосіб. </p></li>
</ul></div>
<p>

</p>
<p>Якщо це не спрацювало, спробуйте скористатися порадами в наступних підрозділах. Більшість, але не всі, пропозиції, що обговорювалися там, дійсні для CD-ROM і DVD. </p>
<p>Якщо вам не вдається запустити інсталяцію з оптичного диска, спробуйте один з інших доступних способів інсталяції. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="id2293"></a>5.4.1.1. Основні проблеми</h4></div></div></div>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Деякі старі приводи CD-ROM не підтримують читання з дисків, записаних на високих швидкостях за допомогою сучасного пристрою запису компакт-дисків. </p></li>
<li class="listitem"><p>Деякі дуже старі приводи CD-ROM не працюють належним чином, якщо для них увімкнено <span class="quote">«<span class="quote">прямий доступ до пам'яті</span>»</span> (DMA). </p></li>
</ul></div>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="id2301"></a>5.4.1.2. Як дослідити і, можливо, вирішити проблеми</h4></div></div></div>
<p>Якщо оптичний диск не завантажується, спробуйте скористатися наведеними нижче порадами. </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Переконайтеся, що ваш BIOS/UEFI дійсно підтримує завантаження з оптичних дисків (це проблема лише для дуже старих систем) і що завантаження з таких носіїв увімкнено в BIOS/UEFI. </p></li>
<li class="listitem">
<p>Якщо ви завантажили iso-образ, перевірте, чи md5-сума цього образу відповідає md5-сумі, вказаній для образу у файлі <code class="filename">MD5SUMS</code>, який має знаходитися у тому ж місці, звідки ви завантажили образ. </p>
<div class="informalexample"><pre class="screen">
$ md5sum <em class="replaceable"><code>debian-testing-i386-netinst.iso</code></em>
a20391b12f7ff22ef705cee4059c6b92  <em class="replaceable"><code>debian-testing-i386-netinst.iso</code></em>
</pre></div>
<p> Далі перевірте, чи збігається md5-сума спаленого диска. Наступна команда повинна спрацювати. Вона використовує розмір зображення для зчитування потрібної кількості байт з диска. </p>
<div class="informalexample"><pre class="screen">$ dd if=/dev/cdrom | \
&gt; head -c `stat --format=%s <em class="replaceable"><code>debian-testing-i386-netinst.iso</code></em>` | \
&gt; md5sum
a20391b12f7ff22ef705cee4059c6b92  -
262668+0 записів всередині
262668+0 записів ззовні
134486016 байтів (134 МБ) скопійовано, 97.474 секунд, 1.4 МБ/с
</pre></div>
<p>

  </p>
</li>
</ul></div>
<p>

</p>
<p>Якщо після успішного завантаження програми встановлення диск не виявлено, інколи проблему можна вирішити простим повторенням спроби. Якщо у вас більше одного оптичного приводу, спробуйте замінити диск на інший привід. Якщо це не спрацювало, або якщо диск розпізнано, але виникають помилки під час читання з нього, спробуйте скористатися наведеними нижче порадами. Для цього потрібні деякі базові знання про Linux. Щоб виконати будь-яку з команд, слід спочатку переключитися на другу віртуальну консоль (VT2) і активувати оболонку там. </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>Перейдіть до VT4 або перегляньте вміст <code class="filename">/var/log/syslog</code> (використовуйте <span class="command"><strong>nano</strong></span> як редактор), щоб перевірити наявність певних повідомлень про помилки. Після цього, також перевірте вивід <span class="command"><strong>dmesg</strong></span>. </p></li>
<li class="listitem">
<p>Перевірте у виводі <span class="command"><strong>dmesg</strong></span>, чи було розпізнано ваш оптичний привід. Ви повинні побачити щось на кшталт (рядки не обов'язково повинні йти підряд): </p>
<div class="informalexample"><pre class="screen">
ata1.00: ATAPI: MATSHITADVD-RAM UJ-822S, 1.61, max UDMA/33
ata1.00: сконфігуровано для UDMA/33
scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-822S  1.61 PQ: 0 ANSI: 5
sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray
cdrom: Уніфікована версія драйвера CD-ROM: 3.20
</pre></div>
<p> Якщо ви не бачите нічого подібного, швидше за все, контролер, до якого підключено ваш диск, не було розпізнано або він взагалі не підтримується. Якщо ви знаєте, який драйвер потрібен для контролера, ви можете спробувати завантажити його вручну за допомогою <span class="command"><strong>modprobe</strong></span>. </p>
</li>
<li class="listitem"><p>Перевірте, чи є вузол пристрою для вашого оптичного приводу у теці <code class="filename">/dev/</code>. У наведеному вище прикладі це буде <code class="filename">/dev/sr0</code>. Також має бути <code class="filename">/dev/cdrom</code>. </p></li>
<li class="listitem">
<p>Використовуйте команду <span class="command"><strong>mount</strong></span>, щоб перевірити, чи оптичний диск вже змонтовано; якщо ні, спробуйте встановити його вручну: </p>
<div class="informalexample"><pre class="screen">
$ mount /dev/<em class="replaceable"><code>hdc</code></em> /cdrom
</pre></div>
<p> Перевірте, чи не з'являються повідомлення про помилки після цієї команди. </p>
</li>
<li class="listitem">
<p>Перевірте, чи наразі увімкнено DMA: </p>
<div class="informalexample"><pre class="screen">
$ cd /proc/<em class="replaceable"><code>ide</code></em>/<em class="replaceable"><code>hdc</code></em>
$ grep using_dma settings
using_dma      1       0       1       rw
</pre></div>
<p> <span class="quote">«<span class="quote">1</span>»</span> у першому стовпчику після <code class="literal">using_dma</code> означає, що його увімкнено. Якщо це так, спробуйте вимкнути його: </p>
<div class="informalexample"><pre class="screen">
$ echo -n "using_dma:0" &gt;settings
</pre></div>
<p> Переконайтеся, що ви перебуваєте в каталозі пристрою, який відповідає вашому оптичному приводу. </p>
</li>
<li class="listitem"><p>Якщо під час встановлення виникли проблеми, спробуйте перевірити цілісність інсталяційного носія за допомогою опції внизу головного меню програми встановлення. Цей параметр також можна використовувати як загальну перевірку надійності зчитування диска. </p></li>
</ul></div>
<p>

</p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2353"></a>5.4.2. Налаштування завантаження</h3></div></div></div>
<p>Якщо у вас виникли проблеми і ядро зависає під час завантаження, не розпізнає периферійні пристрої або неправильно розпізнає диски, перше, що слід перевірити - це параметри завантаження, як описано у <a class="xref" href="ch05s03.html" title="5.3. Параметри завантаження">Розділ 5.3, «Параметри завантаження»</a>. </p>
<p>У деяких випадках несправності можуть бути спричинені відсутністю прошивки пристрою (див. <a class="xref" href="ch02s02.html" title="2.2. Пристрої, що потребують прошивки">Розділ 2.2, «Пристрої, що потребують прошивки»</a> і <a class="xref" href="ch06s04.html" title="6.4. Завантаження втраченої прошивки">Розділ 6.4, «Завантаження втраченої прошивки»</a>). </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2360"></a>5.4.3. Програмний синтез мовлення</h3></div></div></div>
<p>Якщо програмний синтез мови не працює, найімовірніше, проблема у вашій звуковій платі, зазвичай через те, що драйвер для неї не включено до інсталятора, або через те, що вона має незвичні назви рівнів мікшера, які за замовчуванням налаштовано на вимкнення. Таким чином, ви повинні надіслати звіт про ваду, який включає виведення наступних команд, запущених на тій самій машині із системи Linux, яка, як відомо, працює зі звуком (наприклад, з живого компакт-диска). </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><strong class="userinput"><code>dmesg</code></strong></p></li>
<li class="listitem"><p><strong class="userinput"><code>lspci</code></strong></p></li>
<li class="listitem"><p><strong class="userinput"><code>lsmod</code></strong></p></li>
<li class="listitem"><p><strong class="userinput"><code>amixer</code></strong></p></li>
</ul></div>
<p>

</p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="i386-boot-problems"></a>5.4.4. Загальний <span class="phrase">64-bit PC</span> Проблеми встановлення</h3></div></div></div>
<p>Існує кілька поширених проблем зі встановленням, які можна вирішити або уникнути, передавши програмі встановлення певні параметри завантаження. </p>
<p>Якщо під час завантаження ядра на екрані з'являється дивна картинка, наприклад, чистий білий, чистий чорний або кольорове піксельне сміття, можливо, у вашій системі встановлена відеокарта, яка неправильно перемикається у режим фреймбуфера. Тоді ви можете використати параметр завантаження <strong class="userinput"><code>vga=normal nomodeset</code></strong>, щоб вимкнути консоль фреймбуфера. Через обмежені можливості консолі під час інсталяції буде доступний лише обмежений набір мов. Див. <a class="xref" href="ch05s03.html" title="5.3. Параметри завантаження">Розділ 5.3, «Параметри завантаження»</a>, щоб дізнатися подробиці. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="id2383"></a>5.4.4.1. Зависання системи на етапі конфігурації PCMCIA</h4></div></div></div>
<p>Відомо, що деякі дуже старі моделі ноутбуків виробництва Dell виходять з ладу, коли виявлення пристроїв PCMCIA намагається отримати доступ до деяких апаратних адрес. Інші ноутбуки можуть мати схожі проблеми. Якщо у вас виникла така проблема і вам не потрібна підтримка PCMCIA під час встановлення, ви можете вимкнути PCMCIA за допомогою параметра завантаження <strong class="userinput"><code>hw-detect/start_pcmcia=false</code></strong>. Після завершення інсталяції ви можете налаштувати PCMCIA і виключити діапазон ресурсів, який спричиняє проблеми. </p>
<p>Крім того, ви можете запустити програму встановлення у експертному режимі. Потім вам буде запропоновано ввести параметри діапазону ресурсів, необхідних для вашого обладнання. Наприклад, якщо у вас один зі згаданих вище ноутбуків Dell, вам слід ввести тут <strong class="userinput"><code>виключити порт 0x800-0x8ff</code></strong>. Також є список деяких поширених варіантів діапазонів ресурсів у <a class="ulink" href="http://pcmcia-cs.sourceforge.net/ftp/doc/PCMCIA-HOWTO-1.html#ss1.12" target="_top">Розділ налаштувань системних ресурсів настанови PCMCIA HOWTO</a>. Зверніть увагу, що вам слід опустити коми, якщо вони є, коли ви вводите це значення у програмі встановлення. </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="kernel-msgs"></a>5.4.5. Інтерпретація повідомлень запуску ядра</h3></div></div></div>
<p>Під час завантаження, ви можете побачити багато повідомлень у вигляді <code class="computeroutput">неможливо знайти <em class="replaceable"><code> щось</code></em></code>, або <code class="computeroutput"><em class="replaceable"><code>something</code></em> відсутній</code>, <code class="computeroutput">неможливо ініціалізувати <em class="replaceable"><code>щось</code></em></code>, або навіть <code class="computeroutput">цей випуск драйвера залежить від <em class="replaceable"><code>чогось</code></em></code>. Більшість цих повідомлень нешкідливі. Ви бачите їх, тому що ядро інсталяційної системи створено для роботи на комп'ютерах з багатьма різними периферійними пристроями. Очевидно, що жоден комп'ютер не може мати всі можливі периферійні пристрої, тому операційна система може видавати кілька скарг під час пошуку периферійних пристроїв, яких у вас немає. Ви також можете побачити, що система призупиниться на деякий час. Це трапляється, коли програма очікує на відповідь пристрою, який відсутній у вашій системі. Якщо ви вважаєте час завантаження системи неприйнятно довгим, ви можете створити власне ядро пізніше <span class="phrase">(див. <a class="xref" href="ch08s05.html" title="8.5. Компіляція нового ядра">Розділ 8.5, «Компіляція нового ядра»</a>)</span>. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="problem-report"></a>5.4.6. Повідомлення про проблеми з установкою</h3></div></div></div>
<p>Якщо ви пройшли початкову фазу завантаження, але не можете завершити встановлення, вам може допомогти пункт меню <span class="guimenuitem">Зберегти журнали налагодження</span>. Він дозволяє зберігати журнали системних помилок та інформацію про конфігурацію від інсталятора на носії або завантажувати їх за допомогою браузера. Ця інформація може дати підказки про те, що пішло не так, і як це виправити. Якщо ви надсилаєте повідомлення про ваду, ви можете додати цю інформацію до повідомлення про ваду. </p>
<p>Інші відповідні повідомлення про встановлення можна знайти у <code class="filename">/var/log/</code> під час встановлення та у <code class="filename">/var/log/installer/</code> після завантаження комп'ютера у встановлену систему. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="submit-bug"></a>5.4.7. Надсилання звітів про встановлення</h3></div></div></div>
<p>Якщо у вас все ще виникають проблеми, будь ласка, надішліть звіт про встановлення (англійською мовою, якщо це можливо). Ми також заохочуємо надсилати звіти про встановлення, навіть якщо воно пройшло успішно, щоб ми могли отримати якомога більше інформації про якомога більшу кількість апаратних конфігурацій. </p>
<p>Зауважте, що ваш звіт про встановлення буде опубліковано у Debian Bug Tracking System (BTS) і надіслано до відкритого списку розсилки. Переконайтеся, що ви використовуєте адресу електронної пошти, яку ви не проти зробити публічною. </p>
<p>Якщо у вас працює система Debian, найпростіший спосіб надіслати звіт про встановлення - це встановити пакунки <code class="classname">installation-report</code> та <code class="classname">reportbug</code> (<span class="command"><strong>apt install installation-report reportbug</strong></span>), налаштувати <code class="classname">reportbug</code>, як описано у <a class="xref" href="ch08s04.html#mail-outgoing" title="8.4.2. Надсилання пошти за межі системи">Розділ 8.4.2, «Надсилання пошти за межі системи»</a>, та виконати команду <span class="command"><strong>reportbug installation-reports</strong></span>. </p>
<p>Крім того, ви можете використовувати цей шаблон для заповнення звітів про встановлення і подати звіт як повідомлення про ваду до псевдопакета <code class="classname">installation-reports</code>, надіславши його на адресу <code class="email">&lt;<a class="email" href="mailto:submit@bugs.debian.org">submit@bugs.debian.org</a>&gt;</code>. </p>
<div class="informalexample"><pre class="screen">
Пакунок: installation-reports

Метод завантаження: &lt;Як ви завантажили інсталятор? CD/DVD? Флешка? З мережі?&gt;
Версія образу: &lt;Найкраще - повна URL-адреса зображення, яке ви завантажили&gt;
Дата: &lt;Дата та час встановлення&gt;

Машина: &lt;Опис машини (наприклад, IBM Thinkpad R32)&gt;
Процесор:
Пам'ять:
Розділи?: &lt;df -Tl підійде; бажано використовувати сиру таблицю розділів&gt;

Виведення lspci -knn (або lspci -nn):

Контрольний список встановлення базової системи:
[O] = OK, [E] = Error (будь ласка, поясніть нижче), [ ] = не пробував це

Початкове завантаження:           [ ]
Визначити мережеву карту:    [ ]
Налаштування мережі:      [ ]
Виявити носії:           [ ]
Завантажити модулі інсталятора: [ ]
Виявити жорсткі диски:     [ ]
Розбиття жорстких дисків на розділи:  [ ]
Встановити базову систему:    [ ]
Налаштування годинника/часового поясу:   [ ]
Налаштування користувача/пароля:    [ ]
Встановити завдання:          [ ]
Встановити завантажувач:    [ ]
Загальна установка:        [ ]

Коментарі/Проблеми:

&lt;Опис інсталяції, в прозі, та будь-які думки, коментарі
      та ідеї, які у вас виникли під час початкової інсталяції.&gt;

Будь ласка, переконайтеся, що всі журнали встановлення, які, на вашу думку, могли б
можуть бути корисними, додаються до цього звіту. (Ви можете знайти їх в інсталяторі
system in /var/log/ а згодом і встановлену систему під
/var/log/installer.) Будь ласка, стискайте великі файли за допомогою gzip.

</pre></div>
<p> У звіті про ваду, опишіть суть проблеми, включаючи останні видимі повідомлення ядра у випадку зависання ядра. Опишіть кроки, які ви зробили, щоб привести систему в проблемний стан. </p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch05s03.html"><img src="images/prev.png" alt="назад"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch05.html"><img src="images/up.png" alt="Догори"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch06.html"><img src="images/next.png" alt="далі"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">5.3. Параметри завантаження </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Початок"></a></td>
<td width="40%" align="right" valign="top"> Розділ 6. Використання інсталятора Debian</td>
</tr>
</table>
</div>
</body>
</html>
