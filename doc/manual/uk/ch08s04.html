<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>8.4. Налаштування поштової системи</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Настанова з інсталяції Debian GNU/Linux">
<link rel="up" href="ch08.html" title="Розділ 8. Наступні кроки та куди йти далі">
<link rel="prev" href="ch08s03.html" title="8.3. Додаткова інформація">
<link rel="next" href="ch08s05.html" title="8.5. Компіляція нового ядра">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">8.4. Налаштування поштової системи</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch08s03.html"><img src="images/prev.png" alt="назад"></a> </td>
<th width="60%" align="center">Розділ 8. Наступні кроки та куди йти далі</th>
<td width="20%" align="right"> <a accesskey="n" href="ch08s05.html"><img src="images/next.png" alt="далі"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="mail-setup"></a>8.4. Налаштування поштової системи</h2></div></div></div>
<p>Сьогодні е-пошта є важливим компонентом життя багатьох людей. Оскільки існує багато варіантів її налаштування, а правильне налаштування є важливим для деяких утиліт Debian, ми спробуємо у цьому розділі торкнутися основ. </p>
<p>Існує три основні функції, які складають систему електронної пошти. По-перше, це <em class="firstterm">програма-клієнт (агент) електронної пошти</em> (MUA), в якій користувач створює та читає е-листи. Крім того, є <em class="firstterm">програма-сервер (агент передачі) е-пошти</em> (MTA), який опікується обміном повідомленнями між комп'ютерами. І нарешті, є <em class="firstterm">агент доставки повідомлень</em> (MDA), який опікується доставкою вхідної пошти до користувацької теки Вхідні. </p>
<p>Ці три функції можуть виконуватися окремими програмами, але їх можна також об’єднати в одній або у двох програмах. Також можна мати різні програми для цих функцій з різними типами пошти. </p>
<p>У системах Linux та Unix історично є дуже популярним MUA з назвою <span class="command"><strong>mutt</strong></span>. Як і більшість традиційних програм Linux, вона працює в текстовому режимі. Часто вона використовується у поєднанні з MTA <span class="command"><strong>exim</strong></span> або <span class="command"><strong>sendmail</strong></span> та з MDA <span class="command"><strong>procmail</strong></span>. </p>
<p>Зі зростанням популярності використання графічних настільних систем використання графічних програм для електронної пошти, таких як <span class="command"><strong>evolution</strong></span> від GNOME, <span class="command"><strong>kmail</strong></span> від KDE або <span class="command"><strong>thunderbird</strong></span> від Mozilla стає також все більш популярним. Ці програми поєднують функції MUA, MTA та MDA, але можуть — а часто так і є — використовуватися у поєднанні з традиційними інструментами Linux. </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="mail-default"></a>8.4.1. Стандартне налаштування е-пошти</h3></div></div></div>
<p>Навіть якщо Ви плануєте використовувати графічну поштову програму, було б корисно встановити традиційний MTA/MDA та правильно налаштувати його в системі Debian GNU/Linux. Суть у тому, що в системі працюють різні утиліти.<a href="#ftn.id3732" class="footnote" name="id3732"><sup class="footnote">[16]</sup></a> можуть надсилати важливі повідомлення електронною поштою для системного адміністратора про (потенційні) проблеми або зміни. </p>
<p>Для цього Ви можете встановити <code class="classname">exim4</code> та <code class="classname">mutt</code> за допомогою команди <span class="command"><strong>apt install exim4 mutt</strong></span>. <code class="classname">exim4</code> — це програма з комбінацією MTA/MDA, яка є відносно малою, але дуже гнучкою. Типово, вона буде налаштована на обробку лише локальної е-пошти в самій системі, а електронні листи, адресовані системному адміністратору (root), будуть доставлені до звичайного облікового запису користувача, створеного під час інсталяції<a href="#ftn.id3743" class="footnote" name="id3743"><sup class="footnote">[17]</sup></a>. </p>
<p>Коли доставляються системні е-листи, вони додаються до файлу у <code class="filename">/var/mail/<em class="replaceable"><code>назва-облікового-запису</code></em></code>. Ці електронні листи можна читати програмою <span class="command"><strong>mutt</strong></span>. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="mail-outgoing"></a>8.4.2. Надсилання пошти за межі системи</h3></div></div></div>
<p>Як згадувалося раніше, після базової інсталяції Debian система може обробляти лише пошту, що надходить із того самого комп’ютера. Надсилання назовні або отримання пошти з інших систем не налаштовано. </p>
<p>Якщо Ви бажаєте, щоби <code class="classname">exim4</code> також обробляв і зовнішню пошту, перегляньте наступний підрозділ для розуміння основних параметрів. Також перевірте потім, чи надсилання та отримання е-пошти працює правильно. </p>
<p>Якщо Ви збираєтеся використовувати графічну поштову програму та використовуєте поштовий сервер свого інтернет-провайдера (ISP) або своєї компанії, то насправді немає потреби налаштовувати <code class="classname">exim4</code> для обробки зовнішньої е-пошти. Просто налаштуйте свою улюблену графічну поштову програму на використання правильних серверів для надсилання та отримання е-пошти (але це вже виходить за межі цього посібника). </p>
<p>Однак у такому випадку можливо Вам знадобиться налаштувати окремі утиліти для правильного надсилання електронних листів. Однією з таких утиліт є програма <span class="command"><strong>reportbug</strong></span>, яка спрощує надсилання звітів про помилки пакунків Debian. Стандартно очікується, що для надсилання звітів вона зможе використовувати <code class="classname">exim4</code>. </p>
<p>Для правильного налаштування <span class="command"><strong>reportbug</strong></span> з використанням зовнішнього поштового сервера, виконайте команду <span class="command"><strong>reportbug --configure</strong></span> та надайте відповідь <span class="quote">«<span class="quote">ні</span>»</span> на запитання, чи доступний MTA. Після цього Вам буде запропоновано вказати сервер SMTP для надсилання звітів. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="config-mta"></a>8.4.3. Налаштування поштового сервера Exim4</h3></div></div></div>
<p>Якщо Ви бажаєте, щоби Ваша система також обробляла зовнішню електронну пошту, Вам буде потрібно переналаштувати пакет <code class="classname">exim4</code><a href="#ftn.id3768" class="footnote" name="id3768"><sup class="footnote">[18]</sup></a>: </p>
<div class="informalexample"><pre class="screen"># dpkg-reconfigure exim4-config
</pre></div>
<p>

</p>
<p>Після введення команди (від імені root) Вас спочатку запитають чи Ви хочете розбити конфігурацію на менші файли. Якщо не впевнені, залиште параметр як є. </p>
<p>Далі Вам буде запропоновано кілька поширених сценаріїв налаштування пошти. Виберіть той, який найбільше відповідає Вашим потребам. </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">інтернет-сайт</span></dt>
<dd><p>Ваша система під'єднана до комп’ютерної мережі, і пошта надсилається/отримується безпосередньо через протокол SMTP. На наступних екранах у Вас запитано про певну інформацію, на кшталт поштового імені або списку доменів, для яких Ви хочете отримувати або пересилати пошту. </p></dd>
<dt><span class="term">пошта надсилається через smarthost</span></dt>
<dd>
<p>У цьому випадку вся вихідна пошта надсилається на комп'ютер <span class="quote">«<span class="quote">smarthost</span>»</span>, який далі розподіляє її відповідно до призначень. Smarthost також зазвичай зберігає вхідну пошту на Вашому комп'ютері, тож Вам немає потреби постійно бути на зв’язку. Це також означає, що Вам доведеться забирати пошту зі smarthost за допомогою програми на кшталт fetchmail. </p>
<p>У багатьох випадках smarthost буде поштовим сервером Вашого провайдера, що робить цей варіант дуже придатним для користувачів комутованого доступу (був такий раніше dial-up - прим.пер.). Це також може бути поштовий сервер компанії або навіть інша система у Вашій власній мережі. </p>
</dd>
<dt><span class="term">пошта надсилається через smarthost; без локальної пошти</span></dt>
<dd><p>Цей параметр в цілому такий самий, як і попередній, за винятком того, що систему не буде налаштовано на обробку пошти для локального домену електронної пошти. Пошта в самій системі (наприклад, для системного адміністратора) буде працювати й далі. </p></dd>
<dt><span class="term">тільки місцева доставка</span></dt>
<dd><p>Це стандартний параметр, на який налаштована Ваша система. </p></dd>
<dt><span class="term">зараз конфігурації немає</span></dt>
<dd><p>Виберіть це, якщо Ви абсолютно впевнені у тому, що робите. Це залишить Вас із неналаштованою поштовою системою — доки Ви самі її не налаштуєте, — Ви не зможете надсилати чи отримувати пошту та можете пропустити деякі важливі повідомлення від системних утиліт. </p></dd>
</dl></div>
<p>Якщо жоден із цих сценаріїв не відповідає Вашим потребам або якщо Вам потрібні більш детальні налаштування, Вам потрібно буде відредагувати файли конфігурації у каталозі <code class="filename">/etc/exim4</code> після завершення встановлення. Більше інформації щодо <code class="classname">exim4</code> можна знайти у <code class="filename">/usr/share/doc/exim4</code>; файл <code class="filename">README.Debian.gz</code> містить додаткові відомості про налаштування <code class="classname">exim4</code> та пояснює, де можна знайти додаткову документацію. </p>
<p>Зверніть увагу, що надсилання пошти безпосередньо в Інтернет, коли у Вас немає офіційного доменного імені, може призвести до відхилення Вашої пошти заходами захисту від спаму. Бажано використовувати поштовий сервер Вашого провайдера. Якщо Ви все ще хочете надсилати пошту напряму, можете використовувати адресу е-пошти, яка відрізняється від згенерованої. Якщо використовуєте як MTA <code class="classname">exim4</code>, це можна зробити, додавши запис у <code class="filename">/etc/email-addresses</code>. </p>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div id="ftn.id3732" class="footnote"><p><a href="#id3732" class="para"><sup class="para">[16] </sup></a> Наприклад, <span class="command"><strong>cron</strong></span>, <span class="command"><strong>quota</strong></span>, <span class="command"><strong>logcheck</strong></span>, <span class="command"><strong>aide</strong></span>, … </p></div>
<div id="ftn.id3743" class="footnote"><p><a href="#id3743" class="para"><sup class="para">[17] </sup></a> Пересилання пошти для root для звичайного облікового запису користувача налаштовано у файлі <code class="filename">/etc/aliases</code>. Якщо обліковий запис звичайного користувача не був створений, то звичайно пошта буде доставлятися до облікового запису root. </p></div>
<div id="ftn.id3768" class="footnote"><p><a href="#id3768" class="para"><sup class="para">[18] </sup></a> Звичайно, Ви можете видалити <code class="classname">exim4</code> та замінити його іншим MTA/MDA. </p></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch08s03.html"><img src="images/prev.png" alt="назад"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch08.html"><img src="images/up.png" alt="Догори"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch08s05.html"><img src="images/next.png" alt="далі"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">8.3. Додаткова інформація </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Початок"></a></td>
<td width="40%" align="right" valign="top"> 8.5. Компіляція нового ядра</td>
</tr>
</table>
</div>
</body>
</html>
