<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>6.3. Використання окремих компонентів</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Настанова з інсталяції Debian GNU/Linux">
<link rel="up" href="ch06.html" title="Розділ 6. Використання інсталятора Debian">
<link rel="prev" href="ch06s02.html" title="6.2. Вступ до компонентів">
<link rel="next" href="ch06s04.html" title="6.4. Завантаження втраченої прошивки">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">6.3. Використання окремих компонентів</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ch06s02.html"><img src="images/prev.png" alt="назад"></a> </td>
<th width="60%" align="center">Розділ 6. Використання інсталятора Debian</th>
<td width="20%" align="right"> <a accesskey="n" href="ch06s04.html"><img src="images/next.png" alt="далі"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="module-details"></a>6.3. Використання окремих компонентів</h2></div></div></div>
<p>У цьому розділі ми детально опишемо кожен компонент інсталятора. Компоненти були згруповані в етапи, які повинні бути зрозумілими для користувачів. Вони представлені в тому порядку, в якому з'являються під час інсталяції. Зауважте, що не всі модулі будуть використані для кожної інсталяції; які саме модулі будуть використані, залежить від методу інсталяції, який ви використовуєте, і від вашого обладнання. </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-setup"></a>6.3.1. Налаштування Debian інсталятора та конфігурації обладнання</h3></div></div></div>
<p>Припустимо, що Debian Installer завантажився і ви бачите його перший екран. Наразі можливості <code class="classname">debian-installer</code> все ще досить обмежені. Він не знає багато про ваше обладнання, мову, якою ви віддаєте перевагу, або навіть про завдання, які він повинен виконувати. Не турбуйтесь. Оскільки <code class="classname">debian-installer</code> досить розумний, він може автоматично проаналізувати ваше обладнання, знайти решту його компонентів і оновити себе до здатної інсталяційної системи. Однак, вам все одно потрібно допомогти програмі з деякою інформацією, яку вона не може визначити автоматично (наприклад, вибрати мову, розкладку клавіатури або бажане мережеве дзеркало). </p>
<p>Ви помітите, що <code class="classname">debian-installer</code> виконує <em class="firstterm">визначення обладнання</em> кілька разів на цьому етапі. Перший раз призначено саме для обладнання, необхідного для завантаження компонентів інсталятора (наприклад, ваш CD-ROM або мережева карта). Оскільки під час першого запуску можуть бути доступні не всі драйвери, виявлення обладнання потрібно повторити пізніше. </p>
<p>Під час виявлення обладнання <code class="classname">debian-installer</code> перевіряє, чи драйвери для апаратних пристроїв у вашій системі потребують завантаження мікропрограми. Якщо запитується будь-яка прошивка, але вона відсутня, буде показано діалогове вікно, яке дозволить завантажити відсутню прошивку зі знімного носія. Дивіться <a class="xref" href="ch06s04.html" title="6.4. Завантаження втраченої прошивки">Розділ 6.4, «Завантаження втраченої прошивки»</a> для отримання докладнішої інформації. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="lowmem"></a>6.3.1.1. Перевірка доступної пам'яті / режим низької пам'яті</h4></div></div></div>
<p>Одна з перших речей, яку робить <code class="classname">debian-installer</code> - це перевірка доступної пам'яті. Якщо доступна пам'ять обмежена, цей компонент внесе деякі зміни у процес встановлення, які, сподіваємося, дозволять вам встановити Debian GNU/Linux у вашій системі. </p>
<p>Першим заходом для зменшення споживання пам'яті інсталятором є вимкнення перекладу, що означає, що інсталяція може бути виконана лише англійською мовою. Звичайно, ви можете локалізувати встановлену систему і після завершення інсталяції. </p>
<p>Якщо цього недостатньо, програма встановлення додатково зменшить споживання пам'яті, завантаживши лише ті компоненти, які є необхідними для завершення базового встановлення. Це знижує функціональність інсталяційної системи. Вам буде надано можливість завантажити додаткові компоненти вручну, але ви повинні знати, що кожен обраний вами компонент буде використовувати додаткову пам'ять, що може призвести до збою під час встановлення. </p>
<p>Якщо програма встановлення працює в режимі малої пам'яті, рекомендується створити відносно великий розділ підкачки (1–2 ГБ). Розділ підкачки буде використовуватися як віртуальна пам'ять і таким чином збільшить обсяг пам'яті, доступної системі. Програма встановлення активує розділ підкачки якомога раніше у процесі встановлення. Зауважте, що інтенсивне використання підкачки знижує продуктивність вашої системи і може призвести до високої активності диска. </p>
<p>Незважаючи на ці заходи, все ще можливе зависання системи, виникнення непередбачуваних помилок або завершення процесів ядром через брак пам'яті (що призведе до появи повідомлень <span class="quote">«<span class="quote">Немає пам'яті</span>»</span> на VT4 та у системному журналі). </p>
<p>Наприклад, повідомлялося, що створення великої файлової системи ext3 не вдається в режимі малої пам'яті, коли не вистачає місця підкачки. Якщо збільшення обсягу пам'яті не допоможе, спробуйте створити файлову систему у форматі ext2 (який є важливим компонентом програми встановлення). Після встановлення можна змінити розділ ext2 на ext3. </p>
<p>Можна змусити програму встановлення використовувати вищий рівень lowmem, ніж той, що базується на доступній пам'яті, за допомогою параметра завантаження <span class="quote">«<span class="quote">lowmem</span>»</span>, як описано у <a class="xref" href="ch05s03.html#installer-args" title="5.3.2. Debian Параметри встановлення">Розділ 5.3.2, «Debian Параметри встановлення»</a>. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="localechooser"></a>6.3.1.2. Вибір опцій локалізації</h4></div></div></div>
<p>У більшості випадків перші питання, які вам поставлять, стосуються вибору варіантів локалізації, які будуть використовуватися як для інсталяції, так і для інстальованої системи. Опції локалізації складаються з мови, місцевості та локалі. </p>
<p>Обрана вами мова буде використовуватися протягом усього процесу встановлення за умови наявності перекладу різних діалогових вікон. Якщо для вибраної мови немає правильного перекладу, програма встановлення за замовчуванням використовує англійську мову. </p>
<p>Вибране географічне розташування (у більшості випадків країна) буде використано пізніше у процесі встановлення для вибору правильного часового поясу і дзеркала Debian, відповідного для цієї країни. Мова і країна разом допоможуть визначити локаль за замовчуванням для вашої системи і вибрати правильну розкладку клавіатури. </p>
<p>Спочатку вам буде запропоновано вибрати мову, якою ви бажаєте користуватися. Назви мов подано як англійською (ліворуч), так і самою мовою (праворуч); імена з правого боку також відображаються у відповідному шрифті для цієї мови. Список відсортовано за англійськими назвами. У верхній частині списку є додаткова опція, яка дозволяє вибрати локаль <span class="quote">«<span class="quote">C</span>»</span> замість мови. Вибір локалі <span class="quote">«<span class="quote">C</span>»</span> призведе до того, що інсталяцію буде виконано англійською мовою; встановлена система не матиме підтримки локалізації, оскільки пакунок <code class="classname">locales</code> не буде встановлено. </p>
<p>Далі вам буде запропоновано вибрати географічне розташування. Якщо ви вибрали мову, яка визнана офіційною більш ніж в одній країні<a href="#ftn.id2645" class="footnote" name="id2645"><sup class="footnote">[4]</sup></a>, вам буде показано список лише цих країн. Щоб вибрати країну, якої немає в цьому списку, виберіть <span class="guimenuitem">інше</span> (остання опція). Після цього вам буде представлений список континентів; вибравши континент, ви побачите список відповідних країн на цьому континенті. </p>
<p>Якщо з мовою пов'язана лише одна країна, буде показано список країн для континенту або регіону, до якого належить ця країна, з вибором цієї країни за замовчуванням. Використовуйте опцію <span class="guibutton">Go Back</span>, щоб вибрати країни на іншому континенті. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>Важливо вибрати країну, в якій ви живете або перебуваєте, оскільки вона визначає часовий пояс, який буде налаштовано для встановленої системи. </p></td></tr>
</table></div>
<p>Якщо ви вибрали комбінацію мови і країни, для якої не визначено жодної локалі, а для мови існує декілька локалей, програма встановлення дозволить вам вибрати, якій з цих локалей ви надаєте перевагу як локалі за замовчуванням для встановленої системи<a href="#ftn.id2653" class="footnote" name="id2653"><sup class="footnote">[5]</sup></a>. У всіх інших випадках буде обрано локаль за замовчуванням на основі обраної мови та країни. </p>
<p>Будь-яка локаль за замовчуванням, вибрана, як описано у попередньому пункті, використовуватиме <em class="firstterm">UTF-8</em> як кодування символів. </p>
<p>Якщо ви встановлюєте систему з низьким пріоритетом, у вас буде можливість вибрати додаткові локалі, зокрема так звані <span class="quote">«<span class="quote">застарілі</span>»</span> локалі<a href="#ftn.id2659" class="footnote" name="id2659"><sup class="footnote">[6]</sup></a>, який буде згенеровано для встановленої системи; якщо ви це зробите, вас буде запитано, яку з вибраних локалей буде встановлено за замовчуванням для інстальованої системи. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="kbd-chooser"></a>6.3.1.3. Вибір клавіатури</h4></div></div></div>
<p>Клавіатури часто пристосовані до символів, що використовуються в тій чи іншій мові. Виберіть розкладку, яка відповідає клавіатурі, яку ви використовуєте, або виберіть щось схоже, якщо потрібної вам розкладки немає. Після завершення встановлення системи ви зможете вибрати розкладку клавіатури з широкого спектра варіантів (виконайте <span class="command"><strong>dpkg-reconfigure keyboard-configuration</strong></span> від імені користувача root після завершення встановлення). </p>
<p>Перемістіть підсвічування на потрібну клавіатуру і натисніть <span class="keycap"><strong>Enter</strong></span>. Використовуйте клавіші зі стрілками для переміщення виділення — вони знаходяться в одному і тому ж місці в усіх національних мовних розкладках клавіатури, тому не залежать від конфігурації клавіатури. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="iso-scan"></a>6.3.1.4. Шукаємо ISO-образ інсталятора Debian</h4></div></div></div>
<p>При встановленні методом <span class="emphasis"><em>hd-media</em></span> буде момент, коли вам потрібно буде знайти і змонтувати iso-образ Debian Installer, щоб отримати решту інсталяційних файлів. Компонент <span class="command"><strong>iso-scan</strong></span> робить саме це. </p>
<p>Спочатку, <span class="command"><strong>iso-scan</strong></span> автоматично змонтує усі блокові пристрої (наприклад, розділи і логічні томи), на яких є відома файлова система, і послідовно шукає файли, назви яких закінчуються на <code class="filename">.iso</code> (або <code class="filename">.ISO</code>, якщо це має значення). Зауважте, що перша спроба сканує лише файли у кореневому каталозі та у підкаталогах першого рівня (тобто знаходить <code class="filename">/<em class="replaceable"><code>whatever</code></em>.iso</code>, <code class="filename">/data/<em class="replaceable"><code>whatever</code></em>.iso</code>, але не <code class="filename">/data/tmp/<em class="replaceable"><code>whatever</code></em>.iso</code>). Після того, як iso-образ знайдено, <span class="command"><strong>iso-scan</strong></span> перевіряє його вміст, щоб визначити, чи є він дійсним Debian iso-образом чи ні. У першому випадку ми закінчили, у другому <span class="command"><strong>iso-scan</strong></span> шукає інше зображення. </p>
<p>Якщо попередня спроба знайти iso-образ установника виявиться невдалою, <span class="command"><strong>iso-scan</strong></span> запитає вас, чи бажаєте ви виконати ретельніший пошук. Цей прохід не просто переглядає верхні каталоги, а дійсно обходить всю файлову систему. </p>
<p>Якщо <span class="command"><strong>iso-scan</strong></span> не виявить ваш образ iso-файлу інсталятора, перезавантажтеся у вихідну операційну систему і перевірте, чи правильно названо образ (закінчується на <code class="filename">.iso</code>), чи розміщено його у файловій системі, яку можна розпізнати за допомогою <code class="classname">debian-installer</code>, і чи не пошкоджено його (перевірте контрольну суму). Досвідчені користувачі Unix можуть зробити це без перезавантаження на другій консолі. </p>
<p>Зауважте, що розділ (або диск), на якому міститься ISO-образ, не можна використовувати повторно під час процесу встановлення, оскільки він буде використовуватися програмою встановлення. Щоб обійти цю проблему і за умови, що у вас достатньо системної пам'яті, програма встановлення може скопіювати ISO-образ до оперативної пам'яті перед тим, як змонтувати його. Це контролюється питанням debconf з низьким пріоритетом <code class="literal">iso-scan/copy_iso_to_ram</code> (воно задається лише у випадку, якщо вимога до пам'яті виконана). </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="netcfg"></a>6.3.1.5. Налаштування мережі</h4></div></div></div>
<p>На цьому кроці, якщо система виявить, що у вас більше одного мережевого пристрою, вам буде запропоновано вибрати, який пристрій буде вашим <span class="emphasis"><em>первинним</em></span> мережевим інтерфейсом, тобто тим, який ви хочете використовувати для інсталяції. Інші інтерфейси наразі не будуть налаштовані. Ви можете налаштувати додаткові інтерфейси після завершення встановлення; див. <span class="citerefentry"><span class="refentrytitle">інтерфейси</span>(5)</span> сторінку. </p>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="netcfg-automatic"></a>6.3.1.5.1. Автоматичне налаштування мережі</h5></div></div></div>
<p>За замовчуванням, <code class="classname">debian-installer</code> намагається налаштувати мережу вашого комп'ютера автоматично, наскільки це можливо. Якщо автоматична конфігурація не вдається, це може бути викликано багатьма факторами, починаючи від відключеного мережевого кабелю і закінчуючи відсутністю інфраструктури для автоматичної конфігурації. Для отримання додаткових пояснень у разі виникнення помилок, зверніться до повідомлень про помилки на четвертій консолі. У будь-якому випадку, вас запитають, чи хочете ви повторити спробу, чи хочете виконати налаштування вручну. Іноді мережеві служби, що використовуються для автоконфігурації, можуть відповідати повільно, тому, якщо ви впевнені, що все на місці, просто повторіть спробу автоконфігурації. Якщо автоконфігурація неодноразово не вдається, ви можете вибрати ручне налаштування мережі. </p>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="netcfg-manual"></a>6.3.1.5.2. Ручне налаштування мережі</h5></div></div></div>
<p>Ручне налаштування мережі, у свою чергу, ставить вам низку запитань про вашу мережу, зокрема <code class="computeroutput">IP-адреса</code>, <code class="computeroutput">Маска мережі</code>, <code class="computeroutput">Шлюз</code>, <code class="computeroutput">Адреси серверів імен</code> і <code class="computeroutput">Ім'я хоста</code>. Крім того, якщо у вас є бездротовий мережевий інтерфейс, вас попросять вказати ваш <code class="computeroutput">Wireless ESSID</code> (<span class="quote">«<span class="quote">ім'я бездротової мережі</span>»</span>) і <code class="computeroutput">WEP ключ</code> або <code class="computeroutput">WPA/WPA2 парольну фразу</code>. Заповніть відповіді з <a class="xref" href="ch03s03.html" title="3.3. Інформація, яка Вам знадобиться">Розділ 3.3, «Інформація, яка Вам знадобиться»</a>. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>Деякі технічні деталі, які можуть виявитися корисними, а можуть і ні: програма вважає, що IP-адреса мережі - це побітове AND з IP-адреси вашої системи і маски мережі. Широкомовна адреса за замовчуванням обчислюється як побітове OR IP-адреси вашої системи з побітовим запереченням маски мережі. Це також вгадає ваш шлюз. Якщо ви не можете знайти жодної з цих відповідей, скористайтеся запропонованими значеннями за замовчуванням — при необхідності ви можете змінити їх, відредагувавши <code class="filename">/etc/network/interfaces</code> після інсталяції системи. </p></td></tr>
</table></div>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="netcfg-ipv4-ipv6"></a>6.3.1.5.3. IPv4 та IPv6</h5></div></div></div>
<p>Починаючи з Debian GNU/Linux 7.0 (<span class="quote">«<span class="quote">Wheezy</span>»</span>), <code class="classname">debian-installer</code> підтримує IPv6, а також <span class="quote">«<span class="quote">класичний</span>»</span> IPv4. Підтримуються всі комбінації IPv4 і IPv6 (тільки IPv4, тільки IPv6 і двостекові конфігурації). </p>
<p>Автоконфігурація для IPv4 виконується за допомогою DHCP (Dynamic Host Configuration Protocol - протокол динамічної конфігурації хоста). Автоконфігурація для IPv6 підтримує автоконфігурацію без стану за допомогою NDP (Neighbor Discovery Protocol, включаючи рекурсивне призначення DNS-сервера (RDNSS)), автоконфігурацію зі станом за допомогою DHCPv6 і змішану автоконфігурацію без стану/зі станом (конфігурація адреси за допомогою NDP, додаткових параметрів за допомогою DHCPv6). </p>
</div>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-user-setup"></a>6.3.2. Налаштування користувачів та паролів</h3></div></div></div>
<p>Безпосередньо перед налаштуванням годинника, програма встановлення дозволить вам налаштувати обліковий запис <span class="quote">«<span class="quote">кореневого користувача</span>»</span> та/або обліковий запис першого користувача. Інші облікові записи користувачів можна створити після завершення інсталяції. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="user-setup-root"></a>6.3.2.1. Встановлення пароля root</h4></div></div></div>
<p>Обліковий запис <span class="emphasis"><em>root</em></span> також називається <span class="emphasis"><em>над-користувачем</em></span>; це логін, який обходить усі засоби захисту у вашій системі. Обліковий запис root слід використовувати лише для виконання системного адміністрування, і лише якомога коротший час. </p>
<p>Будь-який пароль, який ви створюєте, повинен містити щонайменше 6 символів, причому як великі, так і малі літери, а також знаки пунктуації. Будьте особливо уважні, встановлюючи пароль root, оскільки це дуже потужний обліковий запис. Уникайте словникових слів або використання будь-якої особистої інформації, про яку можна здогадатися. </p>
<p>Якщо хтось коли-небудь скаже вам, що йому потрібен ваш пароль root, будьте вкрай обережні. Зазвичай ви ніколи не повинні повідомляти свій пароль root, якщо тільки ви не адмініструєте комп'ютер, на якому працює більше одного системного адміністратора. </p>
<p>Якщо ви не вкажете тут пароль для користувача <span class="quote">«<span class="quote">root</span>»</span>, цей обліковий запис буде вимкнено, але пізніше буде встановлено пакунок <span class="command"><strong>sudo</strong></span>, який дозволить виконувати адміністративні завдання у новій системі. За замовчуванням, першому користувачеві, створеному у системі, буде дозволено використовувати команду <span class="command"><strong>sudo</strong></span>, щоб стати root. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="make-normal-user"></a>6.3.2.2. Створення звичайного користувача</h4></div></div></div>
<p>Система запитає вас, чи бажаєте ви створити звичайний обліковий запис користувача на цьому етапі. Цей обліковий запис має бути вашим основним особистим логіном. Ви <span class="emphasis"><em>не</em></span> повинні використовувати обліковий запис root для щоденного використання або як особистий логін. </p>
<p>Чому не варто? Однією з причин не використовувати привілеї root є те, що від імені користувача root дуже легко завдати непоправної шкоди. Інша причина полягає в тому, що вас можуть обманом змусити запустити <span class="emphasis"><em>троянського коня</em></span>, тобто програму, яка використовує ваші повноваження суперкористувача, щоб скомпрометувати безпеку вашої системи за вашою спиною. Будь-яка хороша книга з системного адміністрування Unix висвітлює цю тему більш детально — почитайте її, якщо вона для вас нова. </p>
<p>Спочатку вам буде запропоновано ввести повне ім'я користувача. Потім вас попросять ввести ім'я для облікового запису користувача; як правило, вашого імені або чогось подібного буде достатньо, і за замовчуванням це ім'я буде використано. Нарешті, вам буде запропоновано ввести пароль для цього облікового запису. </p>
<p>Якщо в будь-який момент після встановлення ви захочете створити інший обліковий запис, скористайтеся командою <span class="command"><strong>adduser</strong></span>. </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="clock-setup"></a>6.3.3. Налаштування годинника і часового поясу</h3></div></div></div>
<p>Спочатку програма встановлення спробує з'єднатися з сервером часу в Інтернеті (за протоколом <em class="firstterm">NTP</em>), щоб правильно встановити системний час. Якщо це не вдасться, програма встановлення вважатиме правильними час і дату, отримані з системного годинника під час завантаження системи встановлення. Неможливо вручну встановити системний час під час інсталяції. </p>
<p>Залежно від місця, вибраного раніше в процесі встановлення, вам може бути показано список часових поясів, що відповідають цьому місцю. Якщо у вашому регіоні є лише один часовий пояс і ви встановлюєте систему за замовчуванням, вам не буде запропоновано нічого запитувати, і система прийме цей часовий пояс. </p>
<p>У режимі експерта або при встановленні з середнім пріоритетом, у вас буде додаткова можливість вибрати <span class="quote">«<span class="quote">Всесвітній координований час</span>»</span> (UTC) як часовий пояс. </p>
<p>Якщо з якихось причин ви хочете встановити часовий пояс для інстальованої системи, який <span class="emphasis"><em>не</em></span> відповідає вибраному місцезнаходженню, є два варіанти. </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<p>Найпростіший варіант - просто вибрати інший часовий пояс після завершення інсталяції та завантаження нової системи. Команда для цього є такою: </p>
<div class="informalexample"><pre class="screen"># dpkg-reconfigure tzdata
</pre></div>
<p>

</p>
</li>
<li class="listitem"><p>Крім того, часовий пояс можна встановити на самому початку встановлення, передавши параметр <strong class="userinput"><code>time/zone=<em class="replaceable"><code>value</code></em></code></strong> під час завантаження системи встановлення. Звичайно, значення повинно відповідати дійсному часовому поясу, наприклад, <strong class="userinput"><code>Europe/London</code></strong> або <strong class="userinput"><code>UTC</code></strong>. </p></li>
</ol></div>
<p>Для автоматизованих установок часовий пояс можна встановити на будь-яке потрібне значення за допомогою попереднього налаштування. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-partition"></a>6.3.4. Створення розділів і вибір точок кріплення</h3></div></div></div>
<p>В цей час, після того, як визначення апаратного забезпечення було виконано в останній раз, <code class="classname">debian-installer</code> має бути на повну потужність, налаштований під потреби користувача і готовий до виконання реальної роботи. Як випливає з назви цього розділу, основне завдання наступних компонентів полягає у розбитті дисків на розділи, створенні файлових систем, призначенні точок монтування і додатковому налаштуванні тісно пов'язаних з ними опцій, таких як RAID, LVM або зашифровані пристрої. </p>
<p>Якщо вам незручно працювати з розділами або ви просто хочете дізнатися більше деталей, див. <a class="xref" href="apc.html" title="Додаток C. Перерозподіл диска для Debian">Додаток C, <i>Перерозподіл диска для Debian</i></a>. </p>
<p>Спочатку вам буде надано можливість автоматично розбити на розділи або весь диск, або доступне вільне місце на диску. Це також називається <span class="quote">«<span class="quote">кероване</span>»</span> розбиття на розділи. Якщо ви не бажаєте використовувати автоматичне створення розділів, виберіть <span class="guimenuitem">Вручну</span> з меню. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-fs"></a>6.3.4.1. Підтримувані параметри розбиття на розділи</h4></div></div></div>
<p>Розділювач, який використовується в <code class="classname">debian-installer</code> є досить універсальним. Він дозволяє створювати безліч різних схем розбиття на розділи, використовуючи різні таблиці розділів, файлові системи та сучасні блокові пристрої. </p>
<p>Які саме варіанти доступні, залежить головним чином від архітектури, а також від інших факторів. Наприклад, на системах з обмеженою внутрішньою пам'яттю деякі опції можуть бути недоступні. Значення за замовчуванням також можуть відрізнятися. Тип таблиці розділів, що використовується за замовчуванням, може, наприклад, відрізнятися для жорстких дисків великої ємності від жорстких дисків меншої ємності. Деякі параметри можна змінити лише під час встановлення із середнім або низьким пріоритетом debconf; при вищих пріоритетах будуть використовуватися розумні значення за замовчуванням. </p>
<p>Програма встановлення підтримує різні форми розширеного розбиття на розділи та використання пристроїв зберігання даних, які у багатьох випадках можна використовувати у комбінації. </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>
    <span class="emphasis"><em>Керування логічними томами (LVM)</em></span>
  </p></li>
<li class="listitem">
<p>
    <span class="emphasis"><em>Програмний RAID</em></span>
  </p>
<p>Підтримувані рівні RAID 0, 1, 4, 5, 6 і 10. </p>
</li>
<li class="listitem"><p>
    <span class="emphasis"><em>Шифрування</em></span>
  </p></li>
<li class="listitem">
<p><span class="emphasis"><em>Мультишлях</em></span> (експериментальний) </p>
<p>Дивіться <a class="ulink" href="https://wiki.debian.org/DebianInstaller/MultipathSupport" target="_top">нашу Вікі</a> для отримання інформації. Підтримка багатоканальності наразі доступна, лише якщо її увімкнено під час завантаження програми встановлення. </p>
</li>
</ul></div>
<p>

</p>
<p>Підтримувані наступні файлові системи. </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<p> <span class="emphasis"><em>ext2</em></span>, <span class="phrase"><span class="emphasis"><em>ext3</em></span>,</span> <span class="phrase"><span class="emphasis"><em>ext4</em></span></span> </p>
<p>Типовою файловою системою за замовчуванням у більшості випадків є ext4. </p>
</li>
<li class="listitem"><p><span class="emphasis"><em>jfs</em></span> (доступний не на всіх архітектурах) </p></li>
<li class="listitem"><p><span class="emphasis"><em>xfs</em></span> (доступний не на всіх архітектурах) </p></li>
<li class="listitem">
<p><span class="emphasis"><em>reiserfs</em></span> (необов'язково; доступно не на всіх архітектурах) </p>
<p>Підтримка файлової системи Reiser більше не доступна за замовчуванням. Якщо програму встановлення запущено із середнім або низьким пріоритетом debconf, його можна увімкнути, вибравши компонент <code class="classname">partman-reiserfs</code>. Підтримується лише версія 3 файлової системи. </p>
</li>
<li class="listitem">
<p>
    <span class="emphasis"><em>qnx4</em></span>
  </p>
<p>Існуючі розділи будуть розпізнані, і для них можна буде призначити точки монтування. Неможливо створити нові розділи qnx4. </p>
</li>
<li class="listitem"><p><span class="emphasis"><em>FAT16</em></span>, <span class="emphasis"><em>FAT32</em></span> </p></li>
<li class="listitem">
<p><span class="emphasis"><em>NTFS</em></span> (лише читання) </p>
<p>Існуючі розділи NTFS можна змінювати за розміром і призначати для них точки монтування. Неможливо створити нові розділи NTFS. </p>
</li>
</ul></div>
<p>

</p>
<p>Розділювач приймає одиниці як десяткової степені (1 МБ = 1000 кБ = 1000000 Б), так і двійкової степені (1 Мб = 1024 кБ = 1048576 Б). Префікси одиниць підтримуються до EB/EiB (ексабайт/ексбібайт). </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-auto"></a>6.3.4.2. Кероване створення розділів</h4></div></div></div>
<p>Якщо ви обираєте кероване створення розділів, у вас може бути три варіанти: створити розділи безпосередньо на жорсткому диску (класичний спосіб), або створити їх за допомогою Керування логічними томами (LVM), або створити їх за допомогою зашифрованого LVM<a href="#ftn.id2839" class="footnote" name="id2839"><sup class="footnote">[7]</sup></a>. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>Можливість використання (зашифрованого) LVM може бути доступна не на всіх архітектурах. </p></td></tr>
</table></div>
<p>У разі використання LVM або зашифрованого LVM, програма встановлення створить більшість розділів у межах одного великого розділу; перевагою цього методу є те, що розділи у цьому великому розділі можна буде відносно легко змінити згодом. У випадку зашифрованого LVM великий розділ неможливо буде прочитати без знання спеціальної ключової фрази, що забезпечує додатковий захист ваших (персональних) даних. </p>
<p>Якщо ви використовуєте зашифрований LVM, програма встановлення також автоматично видалить диск, записавши на нього випадкові дані. Це додатково підвищує безпеку (оскільки унеможливлює визначення того, які частини диска використовуються, а також гарантує, що всі сліди попередніх інсталяцій буде стерто), але може зайняти деякий час, залежно від розміру вашого диска. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>Якщо ви вибрали кероване створення розділів за допомогою LVM або зашифрованого LVM, деякі зміни у таблиці розділів потрібно буде записати на вибраний диск під час налаштування LVM. Ці зміни фактично видаляють всі дані, які знаходяться на вибраному жорсткому диску, і ви не зможете скасувати їх пізніше. Однак програма встановлення попросить вас підтвердити ці зміни, перш ніж їх буде записано на диск. </p></td></tr>
</table></div>
<p>Якщо ви виберете кероване розбиття на розділи<span class="phrase"> (класичне або з використанням (зашифрованого) LVM)</span> для всього диска, вам буде запропоновано вибрати диск, який ви хочете використати. Перевірте, чи всі ваші диски є в списку, і, якщо у вас кілька дисків, переконайтеся, що ви вибрали правильний. Порядок, в якому вони перераховані, може відрізнятися від того, до якого ви звикли. Розмір дисків може допомогти їх ідентифікувати. </p>
<p>Будь-які дані на обраному вами диску з часом будуть втрачені, але вам завжди буде запропоновано підтвердити будь-які зміни, перш ніж вони будуть записані на диск. <span class="phrase"> Якщо ви вибрали класичний метод розбиття на розділи, ви зможете скасувати будь-які зміни до самого кінця; при використанні (зашифрованого) LVM це неможливо. </span> </p>
<p>Далі Ви зможете обрати одну зі схем, наведених у таблиці нижче. Всі схеми мають свої плюси та мінуси, деякі з яких обговорені в <a class="xref" href="apc.html" title="Додаток C. Перерозподіл диска для Debian">Додаток C, <i>Перерозподіл диска для Debian</i></a>. Якщо Ви не впевнені, оберіть першу. Майте на увазі, що керований розподіл потребує певної мінімальної кількості вільного простору для роботи. Якщо Ви не надасте принаймні 3 ГБ місця (залежить від обраної схеми), керований розподіл на розділи буде невдалий. Отже, на малих дисках Ви, радше за все, не побачите усі згадані нижче схеми. </p>
<div class="informaltable"><table class="informaltable" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Схема розбиття на розділи</th>
<th>Мінімальне місце</th>
<th>Створені розділи</th>
</tr></thead>
<tbody>
<tr>
<td>Всі файли в одному розділі</td>
<td>8 ГБ</td>
<td>
<code class="filename">/</code>, обмін</td>
</tr>
<tr>
<td>Окремий розділ /home</td>
<td>9 ГБ</td>
<td>
<code class="filename">/</code>, <code class="filename">/home</code>, обмін </td>
</tr>
<tr>
<td>Окремі розділи /home, /var та /tmp</td>
<td>12 ГБ</td>
<td>
<code class="filename">/</code>, <code class="filename">/home</code>, <code class="filename">/var</code>, <code class="filename">/tmp</code>, обмін </td>
</tr>
<tr>
<td>Окремі розділи /srv та /var; своп обмежений 1 ГБ (для сервера)</td>
<td>8 ГБ</td>
<td>
<code class="filename">/</code>, <code class="filename">/srv</code>, <code class="filename">/var</code>, swap </td>
</tr>
<tr>
<td>Схема особливо для малих дисків</td>
<td>3 ГБ</td>
<td>
<code class="filename">/</code>, обмін</td>
</tr>
</tbody>
</table></div>
<p>Якщо ви виберете кероване створення розділів за допомогою (зашифрованого) LVM, програма встановлення також створить окремий розділ <code class="filename">/boot</code>. Інші розділи, зокрема розділ підкачки, буде створено всередині розділу LVM. </p>
<p>Якщо ви завантажилися у режимі EFI, то під час автоматичного створення розділів буде створено додатковий розділ, відформатований як завантажувальна файлова система FAT32, для завантажувача EFI. Цей розділ називається системним розділом EFI (ESP). У меню форматування також є додатковий пункт, за допомогою якого можна вручну налаштувати розділ як ESP. </p>
<p>Після вибору схеми на наступному екрані буде показано вашу нову таблицю розділів, включно з інформацією про те, чи будуть відформатовані розділи, як вони будуть відформатовані і де будуть змонтовані. </p>
<p>Список розділів може виглядати так: </p>
<div class="informalexample"><pre class="screen">
  SCSI1 (0,0,0) (sda) - 6.4 GB WDC AC36400L
        #1 primary   16.4 MB  B f ext2       /boot
        #2 primary  551.0 MB      swap       swap
        #3 primary    5.8 GB      ntfs
           pri/log    8.2 MB      FREE SPACE

  SCSI2 (1,0,0) (sdb) - 80.0 GB ST380021A
        #1 primary   15.9 MB      ext3
        #2 primary  996.0 MB      fat16
        #3 primary    3.9 GB      xfs        /home
        #5 logical    6.0 GB    f ext4       /
        #6 logical    1.0 GB    f ext3       /var
        #7 logical  498.8 MB      ext3
</pre></div>
<p> У цьому прикладі показано два жорсткі диски, розділені на кілька розділів; на першому диску є трохи вільного місця. Кожен рядок розділу складається з номера розділу, його типу, розміру, необов'язкових прапорів, файлової системи та точки монтування (якщо є). Примітка: цей конкретний приклад не може бути створений за допомогою керованого створення розділів, але він показує можливі варіанти, яких можна досягти за допомогою ручного створення розділів. </p>
<p>На цьому кероване розділення завершується. Якщо вас влаштовує створена таблиця розділів, ви можете вибрати пункт <span class="guimenuitem">Завершити розбиття на розділи і записати зміни на диск</span> з меню, щоб застосувати нову таблицю розділів (як описано наприкінці цього розділу). Якщо вас щось не влаштовує, ви можете вибрати пункт <span class="guimenuitem">Скасувати зміни до розділів</span> і запустити кероване створення розділів знову, або змінити запропоновані зміни, як описано нижче для ручного створення розділів. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-manual"></a>6.3.4.3. Ручне розбиття на розділи</h4></div></div></div>
<p>Якщо ви виберете ручне створення розділів, буде показано екран, подібний до наведеного вище, за винятком того, що буде показано наявну таблицю розділів, але без точок монтування. Про те, як вручну налаштувати таблицю розділів та використання розділів вашою новою системою, буде описано у наступних частинах цього розділу. </p>
<p>Якщо ви виберете чистий диск, на якому немає ні розділів, ні вільного місця, вам буде запропоновано створити нову таблицю розділів (це потрібно для того, щоб ви могли створювати нові розділи). Після цього, у таблиці під вибраним диском має з'явитися новий рядок під назвою <span class="quote">«<span class="quote">FREE SPACE</span>»</span>. </p>
<p>Якщо ви виділите трохи вільного місця, у вас буде можливість створити новий розділ. Вам потрібно буде відповісти на кілька запитань про його розмір, тип (первинний чи логічний) та розташування (початок чи кінець вільного простору). Після цього, вам буде представлено детальний огляд вашого нового розділу. Основним параметром є <span class="guimenuitem">Використовувати як:</span>, який визначає, чи буде на розділі встановлено файлову систему, чи його буде використано для підкачки,<span class="phrase"> програмний RAID, LVM, зашифровану файлову систему,</span> чи не буде використано взагалі. Інші параметри включають точку монтування, параметри монтування і прапорець завантажуваного розділу; які саме параметри буде показано, залежить від того, як буде використано розділ. Якщо вам не подобаються попередньо вибрані налаштування за замовчуванням, не соромтеся змінити їх на свій смак. Наприклад, вибравши пункт <span class="guimenuitem">Використовувати як:</span>, ви можете вибрати іншу файлову систему для цього розділу, зокрема використати розділ для підкачки,<span class="phrase"> програмного RAID, LVM,</span> або не використовувати його взагалі. Коли ви будете задоволені новим розділом, виберіть пункт <span class="guimenuitem">Завершення створення розділу</span> і ви повернетеся до головного екрана <span class="command"><strong>partman</strong></span>. </p>
<p>Якщо ви вирішите змінити щось у розділі, просто виберіть розділ, після чого з'явиться меню конфігурації розділу. Це той самий екран, що й під час створення нового розділу, тому ви можете змінити ті самі параметри. Одна річ, яка може бути не дуже очевидною на перший погляд, полягає в тому, що ви можете змінити розмір розділу, вибравши елемент, що відображає розмір розділу. Відомо, що працюють такі файлові системи: щонайменше fat16, fat32, ext2, ext3 та swap. Це меню також дозволяє видалити розділ. </p>
<p>Обов'язково створіть принаймні два розділи: один для файлової системи <span class="emphasis"><em>root</em></span> (який має бути змонтовано як <code class="filename">/</code>) і один для <span class="emphasis"><em>swap</em></span>. Якщо ви забули змонтувати кореневу файлову систему, <span class="command"><strong>partman</strong></span> не дозволить вам продовжити роботу, доки ви не виправите цю помилку. </p>
<p>Якщо ви завантажитеся у режимі EFI, але забудете вибрати і відформатувати системний розділ EFI, <span class="command"><strong>partman</strong></span> виявить це і не дозволить вам продовжити роботу, доки ви не виділите його. </p>
<p>Можливості <span class="command"><strong>partman</strong></span> можна розширити за допомогою модулів інсталятора, але це залежить від архітектури вашої системи. Тож, якщо ви не бачите всіх обіцяних можливостей, перевірте, чи ви завантажили всі необхідні модулі (наприклад, <code class="filename">partman-ext3</code>, <code class="filename">partman-xfs</code>, або <code class="filename">partman-lvm</code>). </p>
<p>Після того, як ви закінчите розбиття на розділи, виберіть <span class="guimenuitem">Закінчити розбиття на розділи і записати зміни на диск</span> у меню розбиття на розділи. Вам буде показано підсумок змін, зроблених на дисках, і запропоновано підтвердити, що файлові системи слід створити відповідно до запиту. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-md"></a>6.3.4.4. Налаштування багатодискових пристроїв (програмний RAID)</h4></div></div></div>
<p>Якщо у вас більше одного жорсткого диска<a href="#ftn.id2933" class="footnote" name="id2933"><sup class="footnote">[8]</sup></a> у вашому комп'ютері, ви можете скористатися <span class="command"><strong>partman-md</strong></span> для налаштування дисків для підвищення продуктивності та/або надійності ваших даних. Результат називається <em class="firstterm">Мультидисковий пристрій</em> (або за його найвідомішим варіантом <em class="firstterm">програмний RAID</em>). </p>
<p>MD - це, по суті, набір розділів, розташованих на різних дисках і об'єднаних разом, щоб сформувати <span class="emphasis"><em>логічний</em></span> пристрій. Потім цей пристрій можна використовувати як звичайний розділ (тобто у <span class="command"><strong>partman</strong></span> ви можете відформатувати його, призначити точку монтування тощо). </p>
<p>Які переваги це дає, залежить від типу MD-пристрою, який Ви створюєте. Зараз підтримуються: </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">RAID0</span></dt>
<dd>
<p> Переважно спрямований на продуктивність. RAID0 розбиває усі вхідні дані на <em class="firstterm">смуги</em> і розподіляє їх порівну на кожен диск у масиві. Це може збільшити швидкість операцій читання/запису, але якщо один з дисків вийде з ладу, Ви втратите <span class="emphasis"><em>все</em></span> (частина інформації залишиться на цілому(их) диску(ах), а інша частина <span class="emphasis"><em>була</em></span> на несправному диску). </p>
<p> Типовим використанням RAID0 є розділ для редагування відео. </p>
</dd>
<dt><span class="term">RAID1</span></dt>
<dd>
<p> Підходить для систем, де надійність на першому місці. Він складається з декількох (зазвичай двох) розділів однакового розміру, кожен з яких містить абсолютно однакові дані. По суті, це означає три речі. По-перше, якщо один з Ваших дисків вийде з ладу, у Вас все одно буде дзеркальна копія даних на інших дисках. По-друге, Ви можете використовувати лише частину доступної місткості (точніше, розмір найменшого розділу в RAID-масиві). По-третє, читання файлів розподіляє навантаження між дисками, що може підвищити продуктивність, наприклад, для файлового сервера, який, як правило, завантажений більше зчитуванням з диска, ніж записом. </p>
<p> За бажанням Ви можете мати в масиві запасний диск, яким можна замінити збійний. </p>
</dd>
<dt><span class="term">RAID5</span></dt>
<dd>
<p> Це гарний компроміс між швидкістю, надійністю та надлишковістю даних. RAID5 розбиває всі вхідні дані на смуги та розподіляє їх порівну на всі диски, крім одного (подібно до RAID0). На відміну від RAID0, RAID5 також обчислює <em class="firstterm">парність</em> даних, які записуються на останній диск. Диск парності не є статичним (це можна було б назвати RAID4), а періодично змінюється, тому інформація про парність розподіляється рівномірно на усіх дисках. Коли один з дисків виходить з ладу, відсутню частину інформації можна обчислити на основі даних, що залишилися, та їх парності. RAID5 повинен складатися щонайменше з трьох активних розділів. За бажанням можна мати в масиві запасний диск, який замінить збійний. </p>
<p> Як видно, RAID5 має такий самий ступінь надійності, як і RAID1, але при цьому досягає меншого надлишку. З іншого боку, він може бути трохи повільнішим при операціях запису за RAID0, через обчислення інформації про парність. </p>
</dd>
<dt><span class="term">RAID6</span></dt>
<dd>
<p> Схожий на RAID5, за винятком того, що використовує два пристрої парності замість одного. </p>
<p> Масив RAID6 може витримати до відмови двох дисків. </p>
</dd>
<dt><span class="term">RAID10</span></dt>
<dd>
<p> RAID10 поєднує в собі чергування (як у RAID0) та дзеркальний запис (як у RAID1). Він створює <em class="replaceable"><code>n</code></em> копій вхідних даних та розподіляє їх між розділами таким чином, щоб жодна з копій тих самих даних не знаходилася на одному пристрої. Стандартне значення <em class="replaceable"><code>n</code></em> дорівнює 2, але його можна змінити в експертному режимі. Кількість використовуваних розділів має бути не менше <em class="replaceable"><code>n</code></em>. RAID10 має різні схеми розподілу копій. Стандартно це ближні копії. Вони мають приблизно однаковий зсув на усіх дисках. Дальні копії містять копії з різним зсувом. Копії зсуву копіюють смугу, а не окремі копії. </p>
<p> RAID10 можна використовувати для досягнення надійності та надлишковості без необхідності обчислювати парність. </p>
</dd>
</dl></div>
<p> Підбиваючи підсумки: </p>
<div class="informaltable"><table class="informaltable" border="1">
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Тип</th>
<th>Мінімум пристроїв</th>
<th>Запасний пристрій</th>
<th>Чи витримує відмову диска?</th>
<th>Доступний простір</th>
</tr></thead>
<tbody>
<tr>
<td>RAID0</td>
<td>2</td>
<td>ні</td>
<td>ні</td>
<td>Розмір найменшого розділу помножений на кількість пристроїв у RAID</td>
</tr>
<tr>
<td>RAID1</td>
<td>2</td>
<td>за бажанням</td>
<td>так</td>
<td>Розмір найменшого розділу в RAID</td>
</tr>
<tr>
<td>RAID5</td>
<td>3</td>
<td>за бажанням</td>
<td>так</td>
<td>Розмір найменшого розділу помножений на (кількість пристроїв у RAID мінус один) </td>
</tr>
<tr>
<td>RAID6</td>
<td>4</td>
<td>за бажанням</td>
<td>так</td>
<td>Розмір найменшого розділу помножений на (кількість пристроїв у RAID мінус два) </td>
</tr>
<tr>
<td>RAID10</td>
<td>2</td>
<td>за бажанням</td>
<td>так</td>
<td>Сума всіх розділів, поділена на кількість копій chunk (за замовчуванням - дві) </td>
</tr>
</tbody>
</table></div>
<p>

</p>
<p>Якщо ви хочете дізнатися більше про програмний RAID, перегляньте <a class="ulink" href="http://www.tldp.org/HOWTO/Software-RAID-HOWTO.html" target="_top">Програмний RAID HOWTO</a>. </p>
<p>Для створення MD-пристрою потрібно, щоб потрібні розділи, з яких він має складатися, були позначені для використання в RAID. (Це робиться за допомогою <span class="command"><strong>partman</strong></span> у меню <span class="guimenu">Параметри розділу</span>, де слід вибрати <span class="guimenu">Використовувати як:</span> → <span class="guimenuitem">фізичний том для RAID</span>.) </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>Переконайтеся, що систему можна завантажити зі схемою розбиття на розділи, яку ви плануєте. Загалом при використанні RAID для кореневої файлової системи (<code class="filename">/boot</code>) потрібно створити окрему файлову систему для <code class="filename">/boot</code>. Більшість завантажувачів <span class="phrase">(зокрема grub)</span> підтримують дзеркальний (не смугастий!) RAID1, тому використання, наприклад, RAID5 для <code class="filename">/</code> і RAID1 для <code class="filename">/boot</code> може бути варіантом. </p></td></tr>
</table></div>
<p>Далі слід вибрати <span class="guimenuitem">Налаштувати програмний RAID</span> з головного меню <span class="command"><strong>partman</strong></span>. (Меню з'явиться лише після того, як ви позначите принаймні один розділ для використання як <span class="guimenuitem">фізичний том для RAID</span>.) На першому екрані <span class="command"><strong>partman-md</strong></span> просто виберіть <span class="guimenuitem">Створити пристрій MD</span>. На екрані з'явиться список підтримуваних типів MD-пристроїв, з якого ви повинні вибрати один (наприклад, RAID1). Те, що буде далі, залежить від обраного вами типу MD. </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p>RAID0 простий — вам буде видано список доступних розділів RAID, і ваше завдання - вибрати розділи, з яких буде сформовано MD. </p></li>
<li class="listitem"><p>RAID1 трохи складніший. Спочатку, вам буде запропоновано ввести кількість активних пристроїв та кількість резервних пристроїв, які будуть формувати MD. Далі потрібно вибрати зі списку доступних розділів RAID ті, які будуть активними, а потім ті, які будуть резервними. Кількість вибраних розділів має дорівнювати кількості, вказаній раніше. Не турбуйтеся. Якщо ви помилитеся і виберете іншу кількість розділів, <code class="classname">debian-installer</code> не дозволить вам продовжити, поки ви не виправите помилку. </p></li>
<li class="listitem"><p>Процедура налаштування RAID5 схожа на процедуру налаштування RAID1, за винятком того, що вам потрібно використовувати принаймні <span class="emphasis"><em>три</em></span> активних розділи. </p></li>
<li class="listitem"><p>Процедура налаштування RAID6 також схожа на процедуру налаштування RAID1, за винятком того, що потрібно щонайменше <span class="emphasis"><em>чотири</em></span> активних розділи. </p></li>
<li class="listitem"><p>Процедура налаштування RAID10 знову ж таки схожа на процедуру налаштування RAID1, за винятком експертного режиму. В експертному режимі <code class="classname">debian-installer</code> запитає вас про макет. Макет складається з двох частин. Перша частина - це тип макета. Це або <code class="literal">n</code> (для ближніх копій), або <code class="literal">f</code> (для дальніх копій), або <code class="literal">o</code> (для зміщених копій). Друга частина - це кількість копій, які потрібно зробити з даних. Активних пристроїв має бути принаймні стільки, щоб усі копії можна було розподілити на різні диски. </p></li>
</ul></div>
<p>Цілком можливо мати кілька типів MD одночасно. Наприклад, якщо у вас є три жорсткі диски по 200 ГБ, призначені для MD, кожен з яких містить два розділи по 100 ГБ, ви можете об'єднати перші розділи на всіх трьох дисках у RAID0 (швидкий розділ 300 ГБ для редагування відео), а інші три розділи (2 активних і 1 запасний) використати для RAID1 (досить надійний розділ 100 ГБ для <code class="filename">/home</code>). </p>
<p>Після того, як ви налаштували MD-пристрої на свій смак, ви можете <span class="guimenuitem">Завершити</span> <span class="command"><strong>partman-md</strong></span> повернутися до <span class="command"><strong>partman</strong></span>, щоб створити файлові системи на ваших нових MD-пристроях і призначити їм звичайні атрибути, наприклад, точки монтування. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-lvm"></a>6.3.4.5. Налаштування диспетчера логічних томів (LVM)</h4></div></div></div>
<p>Якщо ви працюєте з комп'ютером на рівні системного адміністратора або <span class="quote">«<span class="quote">просунутого</span>»</span> користувача, вам напевно доводилося стикатися з ситуацією, коли на якомусь розділі диска (зазвичай найважливішому) не вистачало місця, в той час як інший розділ використовувався вкрай недостатньо, і вам доводилося вирішувати цю проблему, переміщуючи дані, об'єднуючи їх у симлінк тощо. </p>
<p>Щоб уникнути описаної ситуації, ви можете скористатися диспетчером логічних томів (LVM). Простіше кажучи, у LVM ви можете об'єднати ваші розділи (<em class="firstterm">фізичні томи</em> у термінології LVM) у віртуальний диск (так звану <em class="firstterm">групу томів</em>), який потім можна розбити на віртуальні розділи (<em class="firstterm">логічні томи</em>). Річ у тім, що логічні томи (і, звичайно, групи томів, що лежать в їх основі) можуть розташовуватися на кількох фізичних дисках. </p>
<p>Тепер, коли ви зрозумієте, що вам потрібно більше місця для вашого старого 160-гігабайтного розділу <code class="filename">/home</code>, ви можете просто додати до комп'ютера новий 300-гігабайтний диск, приєднати його до існуючої групи томів, а потім змінити розмір логічного тому, який містить вашу файлову систему <code class="filename">/home</code>, і вуаля - у ваших користувачів знову з'явилося місце на оновленому 460-гігабайтному розділі. Цей приклад, звичайно, дещо спрощений. Якщо ви ще не читали його, вам варто ознайомитися з <a class="ulink" href="http://www.tldp.org/HOWTO/LVM-HOWTO.html" target="_top">LVM HOWTO</a>. </p>
<p>Налаштування LVM у <code class="classname">debian-installer</code> досить просте і повністю підтримується у <span class="command"><strong>partman</strong></span>. По-перше, вам слід позначити розділ(и), які буде використано як фізичні томи для LVM. Це робиться у меню <span class="guimenu">Налаштування розділу</span>, де слід вибрати <span class="guimenu">Використовувати як:</span> → <span class="guimenuitem">фізичний том для LVM</span>. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Застереження]" src="images/warning.png"></td>
<th align="left">Застереження</th>
</tr>
<tr><td align="left" valign="top"><p>Зверніть увагу: нове налаштування LVM знищить усі дані на всіх розділах, позначених кодом типу LVM. Отже, якщо ви вже маєте LVM на якомусь з ваших дисків, і хочете встановити Debian додатково на цю машину, старий (вже існуючий) LVM буде знищено! Те саме стосується розділів, які (з якихось причин) помилково позначено кодом типу LVM, але які містять щось інше (наприклад, зашифрований том). Ви повинні видалити такі диски з системи, перш ніж виконувати нове налаштування LVM! </p></td></tr>
</table></div>
<p>Коли ви повернетеся до головного екрана <span class="command"><strong>partman</strong></span>, ви побачите новий пункт <span class="guimenuitem">Настроїти диспетчер логічних томів</span>. Коли ви виберете цей пункт, вам буде запропоновано підтвердити очікувані зміни у таблиці розділів (якщо такі є), після чого буде показано меню конфігурації LVM. Над меню показано коротку інформацію про конфігурацію LVM. Саме меню є контекстно-залежним і показує лише допустимі дії. Можливі дії такі: </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem"><p><span class="guimenuitem">Відобразити деталі конфігурації</span>: показує структуру LVM-пристроїв, назви та розміри логічних томів тощо </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">Створити групу томів</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">Створити логічний том</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">Видалити групу томів</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">Видалити логічний том</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">Розширити групу томів</span>
  </p></li>
<li class="listitem"><p>
    <span class="guimenuitem">Зменшити групу томів</span>
  </p></li>
<li class="listitem"><p><span class="guimenuitem">Завершити</span>: повернутися до головного екрана <span class="command"><strong>partman</strong></span> </p></li>
</ul></div>
<p>

</p>
<p>За допомогою пунктів цього меню спочатку створіть групу томів, а потім створіть логічні томи всередині неї. </p>
<p>Після повернення до головного екрана <span class="command"><strong>partman</strong></span>, будь-які створені логічні томи буде показано так само, як і звичайні розділи (і ви повинні поводитися з ними саме так). </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="partman-crypto"></a>6.3.4.6. Налаштування зашифрованих томів</h4></div></div></div>
<p><code class="classname">debian-installer</code> дозволяє створювати зашифровані розділи. Кожен файл, який ви записуєте в такий розділ, негайно зберігається на пристрої в зашифрованому вигляді. Доступ до зашифрованих даних надається лише після введення ключової фрази <em class="firstterm"></em>, яку було використано під час створення зашифрованого розділу. Ця функція корисна для захисту конфіденційних даних на випадок крадіжки ноутбука або жорсткого диска. Злодій може отримати фізичний доступ до жорсткого диска, але без знання правильної парольної фрази дані на ньому будуть виглядати як випадкові символи. </p>
<p>Два найважливіші розділи для шифрування: домашній розділ, де зберігаються ваші особисті дані, і розділ підкачки, де можуть тимчасово зберігатися конфіденційні дані під час роботи. Звичайно, ніщо не заважає вам зашифрувати будь-які інші розділи, які можуть представляти інтерес. Наприклад, <code class="filename">/var</code>, де сервери баз даних, поштові сервери або сервери друку зберігають свої дані, або <code class="filename">/tmp</code>, який використовується різними програмами для зберігання потенційно цікавих тимчасових файлів. Деякі люди можуть навіть захотіти зашифрувати всю свою систему. Загалом, єдиним винятком є розділ <code class="filename">/boot</code>, який має залишатися незашифрованим, оскільки історично не існувало способу завантажити ядро із зашифрованого розділу. (GRUB тепер може це робити, але наразі йому бракує вбудованої підтримки зашифрованого <code class="filename">/boot</code>. Тому налаштування описано в <a class="ulink" href="https://cryptsetup-team.pages.debian.net/cryptsetup/encrypted-boot.html" target="_top">окремому документі</a>.) </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>Зверніть увагу, що продуктивність зашифрованих розділів буде нижчою, ніж незашифрованих, оскільки дані потрібно розшифровувати або шифрувати при кожному читанні або записі. Вплив на продуктивність залежить від швидкості вашого процесора, обраного шифру та довжини ключа. </p></td></tr>
</table></div>
<p>Щоб використовувати шифрування, вам потрібно створити новий розділ, виділивши трохи вільного місця у головному меню розбиття на розділи. Інший варіант - вибрати наявний розділ (наприклад, звичайний розділ, логічний том LVM або том RAID). У меню <span class="guimenu">Налаштування розділу</span> потрібно вибрати <span class="guimenuitem">фізичний том для шифрування</span> у пункті <span class="guimenu">Використовувати як:</span>. Після цього меню зміниться і міститиме кілька варіантів криптографічного захисту розділу. </p>
<p>Методом шифрування, який підтримує <code class="classname">debian-installer</code>, є <em class="firstterm">dm-crypt</em> (включений у новіші ядра Linux, здатні розміщувати фізичні томи LVM). </p>
<p>Давайте подивимося на опції, доступні при виборі шифрування за допомогою <strong class="userinput"><code>Device-mapper (dm-crypt)</code></strong>. Як завжди: якщо ви сумніваєтеся, використовуйте значення за замовчуванням, оскільки вони були ретельно підібрані з урахуванням вимог безпеки. </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">Шифрування: <strong class="userinput"><code>aes</code></strong></span></dt>
<dd><p>За допомогою цього пункту ви можете вибрати алгоритм шифрування (<em class="firstterm">шифр</em>), який буде використано для шифрування даних на розділі. <code class="classname">debian-installer</code> наразі підтримує наступні блокові шифри: <em class="firstterm">aes</em>, <em class="firstterm">blowfish</em>, <em class="firstterm">serpent</em>, та <em class="firstterm">twofish</em>. Обговорення якостей цих різних алгоритмів виходить за рамки цього документа, однак, можливо, вам буде корисно знати, що в 2000 році <span class="emphasis"><em>AES</em></span> був обраний Американським національним інститутом стандартів і технологій як стандартний алгоритм шифрування для захисту конфіденційної інформації в 21 столітті. </p></dd>
<dt><span class="term">Розмір ключа: <strong class="userinput"><code>256</code></strong></span></dt>
<dd><p>Тут ви можете вказати довжину ключа шифрування. З більшим розміром ключа, як правило, підвищується стійкість шифрування. З іншого боку, збільшення довжини ключа зазвичай негативно впливає на продуктивність. Доступні розміри ключів залежать від шифру. </p></dd>
<dt><span class="term">IV алгоритм: <strong class="userinput"><code>xts-plain64</code></strong></span></dt>
<dd>
<p>Алгоритм <em class="firstterm">Initialization Vector</em> або <em class="firstterm">IV</em> використовується в криптографії для того, щоб гарантувати, що застосування шифру до тих самих <em class="firstterm">чистих даних</em> з тим самим ключем завжди призводить до отримання унікального <em class="firstterm">шифрованого тексту</em>. Ідея полягає в тому, щоб не дати зловмиснику витягти інформацію з повторюваних шаблонів у зашифрованих даних. </p>
<p>Із запропонованих альтернатив, стандартний <strong class="userinput"><code>xts-plain64</code></strong> наразі є найменш вразливим до відомих атак. Використовуйте інші альтернативи лише тоді, коли вам потрібно забезпечити сумісність з якоюсь раніше встановленою системою, яка не може використовувати новіші алгоритми. </p>
</dd>
<dt><span class="term">Ключ шифрування: <strong class="userinput"><code>Парольна фраза</code></strong></span></dt>
<dd>
<p>Тут ви можете вибрати тип ключа шифрування для цього розділу. </p>
<div class="variablelist"><dl class="variablelist">
<dt><span class="term">Парольна фраза</span></dt>
<dd><p>Ключ шифрування буде обчислено<a href="#ftn.id3175" class="footnote" name="id3175"><sup class="footnote">[9]</sup></a> на основі ключової фрази, яку ви зможете ввести пізніше. </p></dd>
<dt><span class="term">Випадковий ключ</span></dt>
<dd>
<p>Новий ключ шифрування буде згенеровано з випадкових даних щоразу, коли ви спробуєте відкрити зашифрований розділ. Іншими словами: при кожному вимкненні вміст розділу буде втрачено, оскільки ключ буде видалено з пам'яті. (Звичайно, можна спробувати вгадати ключ за допомогою атаки грубої сили, але якщо в алгоритмі шифру немає невідомої слабкості, то за нашого життя це недосяжно.) </p>
<p>Випадкові ключі корисні для розділів підкачки, оскільки вам не потрібно обтяжувати себе запам'ятовуванням парольної фрази або стиранням конфіденційної інформації з розділу підкачки перед вимкненням комп'ютера. Однак, це також означає, що ви <span class="emphasis"><em>не зможете</em></span> скористатися функцією <span class="quote">«<span class="quote">призупинення на диск</span>»</span>, яку пропонують новіші ядра Linux, оскільки відновити призупинені дані, записані на розділ підкачки, буде неможливо (під час наступного завантаження). </p>
</dd>
</dl></div>
<p>

</p>
</dd>
<dt><span class="term">Стерти дані: <strong class="userinput"><code>так</code></strong></span></dt>
<dd><p>Визначає, чи потрібно перезаписувати вміст цього розділу випадковими даними перед налаштуванням шифрування. Це рекомендується, оскільки в іншому випадку зловмисник може визначити, які частини розділу використовуються, а які ні. Крім того, це ускладнить відновлення залишків даних з попередніх інсталяцій<a href="#ftn.id3190" class="footnote" name="id3190"><sup class="footnote">[10]</sup></a>. </p></dd>
</dl></div>
<p>

</p>
<p>Після того, як ви вибрали потрібні параметри для ваших зашифрованих розділів, поверніться до головного меню розбиття на розділи. Тепер має з'явитися новий пункт меню з назвою <span class="guimenu">Налаштування зашифрованих томів</span>. Після вибору вам буде запропоновано підтвердити видалення даних на розділах, позначених як такі, що підлягають видаленню, і, можливо, інші дії, такі як запис нової таблиці розділів. Для великих розділів це може зайняти деякий час. </p>
<p>Далі вам буде запропоновано ввести парольну фразу для розділів, налаштованих на її використання. Хороші паролі повинні бути довшими за 8 символів, складатися з букв, цифр та інших символів і не містити загальновживаних слів зі словника або інформації, яка легко асоціюється з вами (наприклад, дати народження, хобі, клички домашніх тварин, імена членів сім'ї або родичів і т.д.). </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Застереження]" src="images/warning.png"></td>
<th align="left">Застереження</th>
</tr>
<tr><td align="left" valign="top"><p>Перш ніж вводити будь-які паролі, ви повинні переконатися, що ваша клавіатура налаштована правильно і генерує очікувані символи. Якщо ви не впевнені, ви можете переключитися на другу віртуальну консоль і ввести текст у відповідь на запит. Це гарантує, що згодом ви не будете здивовані, наприклад, спробою ввести парольну фразу за допомогою qwerty-розкладки клавіатури, коли під час інсталяції ви використовували розкладку azerty. Така ситуація може мати кілька причин. Можливо, ви переключилися на іншу розкладку клавіатури під час інсталяції, або вибрану розкладку клавіатури ще не було налаштовано під час введення ключової фрази для кореневої файлової системи. </p></td></tr>
</table></div>
<p>Якщо ви вибрали для створення ключів шифрування інші методи, окрім ключової фрази, їх буде згенеровано зараз. Оскільки ядро могло не зібрати достатньої кількості ентропії на цій ранній стадії встановлення, процес може зайняти багато часу. Ви можете допомогти прискорити процес, генеруючи ентропію: наприклад, натискаючи випадкові клавіші, або переключившись у командну оболонку на другій віртуальній консолі і генеруючи деякий мережевий і дисковий трафік (завантажуючи деякі файли, завантажуючи великі файли у <code class="filename">/dev/null</code> і т.д.). Це буде повторено для кожного розділу, який потрібно зашифрувати. </p>
<p>Після повернення до головного меню розбиття на розділи, ви побачите всі зашифровані томи як додаткові розділи, які можна налаштувати так само, як і звичайні розділи. У наступному прикладі показано том, зашифрований за допомогою dm-crypt. </p>
<div class="informalexample"><pre class="screen">
Зашифрований том (<em class="replaceable"><code>sda2_crypt</code></em>) - 115.1 ГБ Linux device-mapper
     #1 115.1 GB  F ext3
</pre></div>
<p> Настав час призначити точки монтування томам і за бажанням змінити типи файлових систем, якщо значення за замовчуванням вас не влаштовують. </p>
<p>Зверніть увагу на ідентифікатори у круглих дужках (у цьому випадку <em class="replaceable"><code>sda2_crypt</code></em>) і точки монтування, які ви призначили для кожного зашифрованого тому. Ця інформація знадобиться вам пізніше під час завантаження нової системи. Відмінності між звичайним процесом завантаження і процесом завантаження з шифруванням будуть розглянуті пізніше в <a class="xref" href="ch07s02.html" title="7.2. Монтування зашифрованих томів">Розділ 7.2, «Монтування зашифрованих томів»</a>. </p>
<p>Після того, як ви задоволені схемою розбиття на розділи, продовжуйте інсталяцію. </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-install-base"></a>6.3.5. Встановлення базової системи</h3></div></div></div>
<p>Хоча цей етап є найменш проблемним, він займає значну частину інсталяції, оскільки завантажує, перевіряє і розпаковує всю базову систему. Якщо у вас повільний комп'ютер або мережеве з'єднання, це може зайняти деякий час. </p>
<p>Під час встановлення базової системи, повідомлення про розпакування пакунків та встановлення перенаправляються на <strong class="userinput"><code>tty4</code></strong>. Ви можете отримати доступ до цього терміналу, натиснувши <span class="keycap"><strong>Left Alt</strong></span>+<span class="keycap"><strong>F4</strong></span>; поверніться до основного процесу встановлення за допомогою <span class="keycap"><strong>Left Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>. </p>
<p>Повідомлення про розпакування/встановлення, створені під час цієї фази, також зберігаються у <code class="filename">/var/log/syslog</code>. Ви можете перевірити їх там, якщо інсталяція виконується через послідовну консоль. </p>
<p>Під час інсталяції буде встановлено ядро Linux. За замовчуванням, програма встановлення вибере для вас той пріоритет, який найкраще відповідає вашому обладнанню. У режимах з нижчим пріоритетом, ви зможете вибирати зі списку доступних ядер. </p>
<p>Якщо пакунки встановлено за допомогою системи керування пакунками, за замовчуванням також буде встановлено пакунки, рекомендовані цими пакунками. Рекомендовані пакунки не є обов'язковими для основної функціональності вибраного програмного забезпечення, але вони покращують це програмне забезпечення і, на думку розробників пакунків, мають бути встановлені разом з цим програмним забезпеченням. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>З технічних причин пакунки, встановлені під час інсталяції базової системи, встановлюються без їхніх <span class="quote">«<span class="quote">рекомендацій</span>»</span>. Правило, описане вище, набуває чинності лише після цього моменту в процесі встановлення. </p></td></tr>
</table></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-install-software"></a>6.3.6. Встановлення додаткового програмного забезпечення</h3></div></div></div>
<p>На цьому етапі у вас є придатна для використання, але обмежена система. Більшість користувачів захочуть встановити додаткове програмне забезпечення на систему, щоб налаштувати її під свої потреби, та інсталятор дозволяє це зробити. Цей крок може зайняти навіть більше часу, ніж встановлення базової системи, якщо у вас повільний комп'ютер або мережеве з'єднання. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="apt-setup"></a>6.3.6.1. Налаштування apt</h4></div></div></div>
<p>Одним з інструментів для встановлення пакунків у системі Debian GNU/Linux є програма <span class="command"><strong>apt</strong></span>, з пакунка <code class="classname">apt</code> <a href="#ftn.id3233" class="footnote" name="id3233"><sup class="footnote">[11]</sup></a>. Також використовуються інші інтерфейси для керування пакунками, такі як <span class="command"><strong>aptitude</strong></span> та <span class="command"><strong>synaptic</strong></span>. Ці інтерфейси рекомендується використовувати новим користувачам, оскільки вони інтегрують деякі додаткові функції (пошук пакунків і перевірку статусу) у приємний користувацький інтерфейс. </p>
<p><span class="command"><strong>apt</strong></span> має бути налаштовано так, щоб він знав, звідки отримувати пакунки. Результати цієї конфігурації записуються у файл <code class="filename">/etc/apt/sources.list</code>. Ви можете переглянути і відредагувати цей файл на свій розсуд після завершення інсталяції. </p>
<p>Якщо ви встановлюєте систему з пріоритетом за замовчуванням, програма встановлення значною мірою подбає про конфігурацію автоматично, базуючись на методі встановлення, який ви використовуєте, і, можливо, використовуючи вибір, зроблений раніше під час інсталяції. У більшості випадків програма встановлення автоматично додасть дзеркало безпеки і, якщо ви встановлюєте стабільний дистрибутив, дзеркало для служби <span class="quote">«<span class="quote">stable-updates</span>»</span>. </p>
<p>Якщо ви встановлюєте з нижчим пріоритетом (наприклад, в експертному режимі), ви зможете приймати більше рішень самостійно. Ви можете вибрати, чи використовувати служби безпеки та/або стабільних оновлень, а також додати пакунки з розділів <span class="quote">«<span class="quote">contrib</span>»</span>, <span class="quote">«<span class="quote">non-free</span>»</span> та <span class="quote">«<span class="quote">non-free-firmware</span>»</span> архіву. </p>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="apt-setup-cdset"></a>6.3.6.1.1. Встановлення з кількох образів DVD</h5></div></div></div>
<p>Якщо ви встановлюєте з образу DVD, який є частиною більшого набору, програма встановлення запитає, чи потрібно відсканувати додаткові носії. Якщо у вас є такі додаткові носії, ви, ймовірно, захочете зробити це, щоб програма встановлення могла використовувати пакунки, що містяться на них. </p>
<p>Якщо у вас немає додаткових носіїв, це не проблема: їх використання не є обов'язковим. Якщо ви також не використовуєте мережеве дзеркало (як описано у наступному розділі), це може означати, що не всі пакунки, які належать до завдань, вибраних на наступному кроці встановлення, буде встановлено. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top">
<p>Пакунки включено до DVD-образів у порядку їхньої популярності. Це означає, що для більшості застосувань потрібен лише перший образ набору, і що дуже мало людей насправді використовують будь-які пакунки, що містяться на останніх образах набору. </p>
<p>Це також означає, що купувати або завантажувати і записувати повний набір DVD - марна трата грошей, оскільки ви ніколи не будете користуватися більшістю з них. У більшості випадків краще придбати лише перші 1-2 DVD-диски, а всі додаткові пакунки, які вам можуть знадобитися, встановити з Інтернету за допомогою дзеркала. </p>
</td></tr>
</table></div>
<p>Якщо ви проскануєте декілька носіїв, програма встановлення запропонує вам обміняти їх, коли їй знадобляться пакунки з одного з них, якого наразі немає у накопичувачі. Зауважте, що сканувати слід лише диски, які належать до одного набору. Порядок, в якому вони скануються, не має особливого значення, але сканування в порядку зростання зменшить ймовірність помилок. </p>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="apt-setup-mirror"></a>6.3.6.1.2. Використання мережевого дзеркала</h5></div></div></div>
<p>Одне з питань, яке виникатиме під час більшості інсталяцій, - чи варто використовувати мережеве дзеркало як джерело пакунків. У більшості випадків відповідь за замовчуванням має бути прийнятною, але є деякі винятки. </p>
<p>Якщо ви <span class="emphasis"><em>не</em></span> встановлюєте з образу DVD, вам слід скористатися мережевим дзеркалом, оскільки інакше ви отримаєте лише мінімальну систему. Однак, якщо у вас обмежене з'єднання з Інтернетом, краще <span class="emphasis"><em>не</em></span> вибирати <code class="literal">завдання на робочому столі</code> на наступному кроці інсталяції. </p>
<p>Якщо ви встановлюєте з DVD, усі пакунки, необхідні для встановлення, мають бути присутніми на першому образі DVD. Використання мережевого дзеркала не є обов'язковим. </p>
<p>Однією з переваг додавання мережевого дзеркала є те, що оновлення, які вийшли з моменту створення образів DVD і були включені в точковий реліз, стануть доступними для встановлення, таким чином продовжуючи термін служби вашого набору DVD без шкоди для безпеки або стабільності встановленої системи. </p>
<p>Підсумовуючи: вибір мережевого дзеркала, як правило, є гарною ідеєю, за винятком випадків, коли у вас поганий інтернет-зв'язок. Якщо поточна версія пакунка доступна на носії, програма встановлення завжди використовуватиме її. Таким чином, обсяг даних, які будуть завантажені, якщо ви виберете дзеркало, залежить від </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>завдання, які ви виберете на наступному кроці інсталяції, </p></li>
<li class="listitem"><p>які пакети потрібні для цих завдань, </p></li>
<li class="listitem"><p>які з цих пакунків присутні на відсканованому вами інсталяційному носії, та </p></li>
<li class="listitem"><p>чи доступні оновлені версії пакунків, що містяться на інсталяційному носії, на дзеркалі (звичайному дзеркалі пакунків, дзеркалі безпеки або стабільних оновлень). </p></li>
</ol></div>
<p>

</p>
<p>Зауважте, що останній пункт означає, що навіть якщо ви вирішите не використовувати мережеве дзеркало, деякі пакунки все одно можуть бути завантажені з Інтернету, якщо для них доступні оновлення безпеки або стабільних оновлень, і ці служби налаштовані. </p>
</div>
<div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="apt-setup-mirror-selection"></a>6.3.6.1.3. Вибір мережевого дзеркала</h5></div></div></div>
<p>Якщо ви не вирішили не використовувати мережеве дзеркало, вам буде представлено список мережевих дзеркал на основі обраної вами країни на початку процесу встановлення. Вибір запропонованого значення за замовчуванням, як правило, є нормальним. </p>
<p>За замовчуванням пропонується deb.debian.org, який не є дзеркалом, але буде перенаправляти на дзеркало, яке має бути актуальним і швидким. Ці дзеркала підтримують TLS (протокол https) і IPv6. Ця служба підтримується командою системного адміністрування Debian (DSA). </p>
<p>Дзеркало також можна вказати вручну, вибравши <span class="quote">«<span class="quote">ввести інформацію вручну</span>»</span> . Потім ви можете вказати ім'я дзеркального хоста і необов'язковий номер порту. Насправді це має бути база URL-адрес, тобто, вказуючи IPv6-адресу, потрібно взяти її у квадратні дужки, наприклад, <span class="quote">«<span class="quote">[2001:db8::1]</span>»</span>. </p>
<p>Якщо ваш комп'ютер перебуває в мережі з підтримкою лише IPv6 (що, ймовірно, не стосується переважної більшості користувачів), використання дзеркала за замовчуванням для вашої країни може не спрацювати. Всі дзеркала в списку доступні через IPv4, але тільки деякі з них можна використовувати через IPv6. Оскільки підключення окремих дзеркал може змінюватися з часом, ця інформація недоступна в інсталяторі. Якщо для дзеркала за замовчуванням для вашої країни немає IPv6-з'єднання, ви можете спробувати інші запропоновані вам дзеркала або вибрати опцію <span class="quote">«<span class="quote">ввести інформацію вручну</span>»</span>. Потім ви можете вказати <span class="quote">«<span class="quote">ftp.ipv6.debian.org</span>»</span> як назву дзеркала, яка є псевдонімом для дзеркала, доступного через IPv6, хоча вона, ймовірно, не буде найшвидшою з можливих. </p>
</div>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="pkgsel"></a>6.3.6.2. Вибір та встановлення програмного забезпечення</h4></div></div></div>
<p>Під час інсталяції вам буде надана можливість вибрати додаткове програмне забезпечення для встановлення. Замість того, щоб вибирати окремі пакунки програмного забезпечення з <span class="phrase">102687</span>
   
   
   
   
   
   
   
   
    доступних пакунків, цей етап процесу встановлення зосереджується на виборі та встановленні попередньо визначених наборів програмного забезпечення для швидкого налаштування комп'ютера для виконання різних завдань. </p>
<p>Ці завдання у загальному вигляді представляють низку різних завдань або речей, які ви хочете виконати на вашому комп'ютері, наприклад, <span class="quote">«<span class="quote">середовище робочого столу</span>»</span>, <span class="quote">«<span class="quote">веб сервер</span>»</span> або <span class="quote">«<span class="quote">SSH-сервер</span>»</span><a href="#ftn.id3295" class="footnote" name="id3295"><sup class="footnote">[12]</sup></a>. <a class="xref" href="apds02.html" title="D.2. Дисковий простір, необхідний для завдань">Розділ D.2, «Дисковий простір, необхідний для завдань»</a> перераховує вимоги до простору для доступних завдань. </p>
<p>Деякі завдання можуть бути попередньо вибрані на основі характеристик комп'ютера, який ви встановлюєте. Якщо ви не згодні з цим вибором, ви можете скасувати його. Ви навіть можете не встановлювати жодних завдань на цьому етапі. </p>
<div class="tip"><table border="0" summary="Tip">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Підказка]" src="images/tip.png"></td>
<th align="left">Підказка</th>
</tr>
<tr><td align="left" valign="top"><p>У стандартному інтерфейсі користувача програми встановлення ви можете використовувати клавішу пробіл для перемикання вибору завдання. </p></td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top">
<p>Завдання <span class="quote">«<span class="quote">Середовище робочого столу</span>»</span> встановить графічне середовище робочого столу. </p>
<p>За замовчуванням, <code class="classname">debian-installer</code> встановлює середовище робочого столу <span class="phrase">Gnome</span> . Під час інсталяції можна інтерактивно вибрати інше оточення робочого столу. Також можна встановити кілька робочих столів, але деякі комбінації робочих столів можуть бути не сумісними для спільного встановлення. </p>
<p>Зауважте, що це спрацює лише у тому випадку, якщо пакунки, необхідні для бажаного середовища робочого столу, дійсно доступні. Встановлення будь-якого з доступних стільничних середовищ у такий спосіб має спрацювати, якщо ви використовуєте образ DVD або будь-який інший спосіб встановлення за допомогою мережевого дзеркала. </p>
</td></tr>
</table></div>
<p>Різні завдання на сервері встановлюють програмне забезпечення приблизно наступним чином. Веб сервер: <code class="classname">apache2</code>; SSH сервер: <code class="classname">openssh</code>. </p>
<p>Завдання <span class="quote">«<span class="quote">Стандартні системні утиліти</span>»</span> встановить будь-який пакунок, який має пріоритет <span class="quote">«<span class="quote">стандартний</span>»</span>. Сюди входить багато поширених утиліт, які зазвичай доступні в будь-якій системі Linux або Unix. Вам слід залишити це завдання вибраним, якщо ви не знаєте, що ви робите, і не хочете отримати дійсно мінімальну систему. </p>
<p>Якщо під час вибору мови було обрано локаль за замовчуванням, відмінну від локалі <span class="quote">«<span class="quote">C</span>»</span>, <span class="command"><strong>tasksel</strong></span> перевірить, чи визначено завдання локалізації для цієї локалі, і автоматично спробує встановити відповідні пакунки з локалізацією. Сюди входять, наприклад, пакунки зі списками слів або спеціальними шрифтами для вашої мови. Якщо вибрано середовище робочого столу, буде також інстальовано відповідні пакунки локалізації для нього (якщо вони доступні). </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top">
<p>Починаючи з Debian Trixie, <code class="classname">debian-installer</code> дозволяє безпосередньо встановлювати Debian Pure Blends. У нижній частині списку завдань є запис <span class="quote">«<span class="quote">Виберіть суміш Debian для встановлення</span>»</span>, яка дає змогу відобразити додаткове діалогове вікно вибору після завершення <span class="command"><strong>tasksel</strong></span>. </p>
<p>У цьому діалоговому вікні (<span class="command"><strong>blendsel</strong></span>) ви можете вибрати, яку суміш встановити, подібно до цього вибору завдань. </p>
<p>Перегляньте <a class="ulink" href="https://www.debian.org/blends" target="_top">веб-сайт Debian</a>, щоб дізнатися більше про Debian Pure Blends. </p>
</td></tr>
</table></div>
<p>Після того, як ви вибрали завдання, натисніть <span class="guibutton">Continue</span>. У цей момент <span class="command"><strong>apt</strong></span> встановить пакунки, які є частиною вибраних завдань. Якщо певна програма потребує додаткової інформації від користувача, вона запитає вас про це під час цього процесу. </p>
<p>Ви повинні знати, що особливо завдання Робочого столу є дуже великими. Особливо під час встановлення з образу компакт-диска netinst у поєднанні з дзеркалом для пакунків, яких немає на netinst, програмі встановлення може знадобитися отримати багато пакунків через мережу. Якщо у вас відносно повільне інтернет-з'єднання, це може зайняти багато часу. Немає можливості скасувати встановлення пакунків після того, як його розпочато. </p>
<p>Навіть якщо пакунки включено до образу, програма встановлення може отримати їх із дзеркала, якщо версія, доступна на дзеркалі, є новішою за ту, що включено до образу. Якщо ви встановлюєте стабільний дистрибутив, це може статися після точкового випуску (оновлення початкового стабільного випуску); якщо ви встановлюєте тестовий дистрибутив, це станеться, якщо ви використовуєте старіший образ. </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-make-bootable"></a>6.3.7. Як зробити систему завантажувальною</h3></div></div></div>
<p>Якщо ви встановлюєте бездискову робочу станцію, очевидно, що завантаження з локального диска не має сенсу, і цей крок буде пропущено. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="os-prober"></a>6.3.7.1. Виявлення інших операційних систем</h4></div></div></div>
<p>Перед встановленням завантажувача програма встановлення спробує знайти інші операційні системи, встановлені на комп'ютері. Якщо він знайде підтримувану операційну систему, вам буде повідомлено про це під час встановлення завантажувача, і комп'ютер буде налаштовано на завантаження цієї іншої операційної системи на додаток до Debian. </p>
<p>Зауважте, що завантаження декількох операційних систем на одному комп'ютері все ще залишається чимось на кшталт чорного мистецтва. Автоматична підтримка виявлення та налаштування завантажувачів для завантаження інших операційних систем залежить від архітектури і навіть від підархітектури. Якщо це не спрацює, зверніться до документації до вашого менеджера завантаження для отримання додаткової інформації. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="id3343"></a>6.3.7.2. Встановіть завантажувач <span class="command"><strong>Grub</strong></span> на диск</h4></div></div></div>
<p>Завантажувач amd64 називається <span class="quote">«<span class="quote">grub</span>»</span>. Grub - це гнучкий і надійний завантажувач і хороший вибір за замовчуванням як для нових користувачів, так і для досвідчених. </p>
<p>За замовчуванням, grub буде встановлено на розділ UEFI/запис завантаження основного диска, де він повністю контролюватиме процес завантаження. За бажанням, ви можете встановити його в іншому місці. Повну інформацію див. у посібнику з експлуатації grub. </p>
<p>Якщо ви не бажаєте встановлювати grub, скористайтеся кнопкою <span class="guibutton">Go Back</span> для переходу до головного меню, а звідти виберіть будь-який завантажувач, який ви бажаєте використовувати. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="nobootloader"></a>6.3.7.3. Продовження без завантажувача</h4></div></div></div>
<p>Цей параметр можна використати для завершення встановлення, навіть якщо не потрібно встановлювати завантажувач, або тому, що у архіві/підархіві його не передбачено, або тому, що він не потрібен (наприклад, ви використовуватимете наявний завантажувач). </p>
<p>Якщо ви плануєте налаштувати завантажувач вручну, перевірте назву встановленого ядра у <code class="filename">/target/boot</code>. Вам також слід перевірити цей каталог на наявність <em class="firstterm">initrd</em>; якщо він присутній, вам, ймовірно, доведеться вказати завантажувачу використовувати його. Інша інформація, яка вам знадобиться, - це диск і розділ, який ви вибрали для вашої файлової системи <code class="filename">/</code>, і, якщо ви вирішили встановити <code class="filename">/boot</code> на окремий розділ, також ваша файлова система <code class="filename">/boot</code>. </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-finish"></a>6.3.8. Завершення встановлення</h3></div></div></div>
<p>Це останній крок у процесі встановлення Debian, під час якого програма встановлення виконує останні завдання. Здебільшого вона полягає у прибиранні після <code class="classname">debian-installer</code>. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="system-clock"></a>6.3.8.1. Налаштування системного годинника</h4></div></div></div>
<p>Програма встановлення може запитати вас, чи годинник на комп'ютері встановлено у часовому поясі UTC. Зазвичай цього питання уникають, якщо це можливо, і програма встановлення намагається з'ясувати, чи встановлено годинник за UTC, виходячи з того, які інші операційні системи встановлено. </p>
<p>В експертному режимі ви завжди зможете вибрати, встановлювати годинник на UTC чи ні.  <span class="phrase">Системи, які (також) працюють під управлінням Windows, зазвичай налаштовані на місцевий час. Якщо ви хочете використовувати подвійне завантаження, виберіть місцевий час замість UTC.</span> </p>
<p>У цей момент <code class="classname">debian-installer</code> також спробує зберегти поточний час у апаратному годиннику системи. Це буде зроблено або за UTC, або за місцевим часом, залежно від вибору, який ви щойно зробили. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="finish-install"></a>6.3.8.2. Перезавантажити систему</h4></div></div></div>
<p>Вам буде запропоновано витягнути завантажувальний носій (компакт-диск, флешку тощо), з якого ви завантажували програму встановлення. Після цього система буде перезавантажена у вашу нову Debian систему. </p>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="di-miscellaneous"></a>6.3.9. Усунення несправностей</h3></div></div></div>
<p>Компоненти, перелічені у цьому розділі, зазвичай не беруть участі у процесі встановлення, але чекають у фоновому режимі, щоб допомогти користувачеві, якщо щось піде не так. </p>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="save-logs"></a>6.3.9.1. Збереження журналів інсталяції</h4></div></div></div>
<p>Якщо встановлення пройшло успішно, файли журналів, створені під час процесу встановлення, буде автоматично збережено до каталогу <code class="filename">/var/log/installer/</code> у вашій новій системі Debian. </p>
<p>Вибір пункту <span class="guimenuitem">Зберегти журнали налагодження</span> у головному меню дозволить вам зберегти файли журналів на USB-накопичувач, мережу, жорсткий диск або інший носій. Це може бути корисно, якщо ви зіткнулися з фатальними проблемами під час інсталяції і хочете вивчити журнали на іншій системі або додати їх до звіту про інсталяцію. </p>
</div>
<div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="shell"></a>6.3.9.2. Використання оболонки та перегляд журналів</h4></div></div></div>
<p>Існує декілька способів отримати оболонку під час виконання інсталяції. На більшості систем, якщо ви не встановлюєте через послідовну консоль, найпростіший спосіб - переключитися на другу <span class="emphasis"><em>віртуальну консоль</em></span>, натиснувши <span class="keycap"><strong>Left Alt</strong></span>+<span class="keycap"><strong>F2</strong></span><a href="#ftn.id3390" class="footnote" name="id3390"><sup class="footnote">[13]</sup></a> (на клавіатурі Mac: <span class="keycap"><strong>Option</strong></span>+<span class="keycap"><strong>F2</strong></span>). Використовуйте <span class="keycap"><strong>Left Alt</strong></span>+<span class="keycap"><strong>F1</strong></span>, щоб повернутися до самої програми встановлення. </p>
<p>Про графічну програму встановлення див. також <a class="xref" href="ch06s01.html#gtk-using" title="6.1.1. Використання графічного інсталятора">Розділ 6.1.1, «Використання графічного інсталятора»</a>. </p>
<p>Якщо ви не можете перемикати консолі, у головному меню також є пункт <span class="guimenuitem">Виконати оболонку</span>, за допомогою якого можна запустити оболонку. Ви можете перейти до головного меню з більшості діалогових вікон, натиснувши кнопку <span class="guibutton">Go Back</span> один або декілька разів. Введіть <strong class="userinput"><code>exit</code></strong>, щоб закрити оболонку і повернутися до програми встановлення. </p>
<p>На цьому етапі ви завантажуєтеся з оперативної пам'яті, і вам доступний обмежений набір утиліт Unix. Ви можете побачити, які програми доступні за допомогою команди <span class="command"><strong>ls /bin /sbin /usr/bin /usr/sbin</strong></span> і набравши <span class="command"><strong>help</strong></span>. Це клон оболонки Борна під назвою <span class="command"><strong>ash</strong></span> і має деякі приємні можливості, такі як автозавершення та історія. </p>
<p>Для редагування та перегляду файлів використовуйте текстовий редактор <span class="command"><strong>nano</strong></span>. Файли журналів системи встановлення можна знайти у каталозі <code class="filename">/var/log</code>. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top">
<p>Хоча ви можете робити в оболонці практично все, що вам дозволяють доступні команди, можливість використання оболонки насправді існує лише на випадок, якщо щось піде не так, і для налагодження. </p>
<p>Виконання дій вручну з оболонки може завадити процесу встановлення і призвести до помилок або незавершеного встановлення. Зокрема, вам слід завжди дозволяти програмі встановлення активувати ваш розділ підкачки, а не робити це самостійно з командного рядка. </p>
</td></tr>
</table></div>
</div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="network-console"></a>6.3.10. Встановлення через мережеву консоль</h3></div></div></div>
<p>Одним з найцікавіших компонентів є <em class="firstterm">network-console</em>. Це дозволяє виконати більшу частину встановлення по мережі через SSH. Використання мережі передбачає, що вам доведеться виконувати перші кроки встановлення з консолі, принаймні до моменту налаштування мережі. (Хоча ви можете автоматизувати цю частину за допомогою <a class="xref" href="ch04s06.html" title="4.6. Автоматичне встановлення">Розділ 4.6, «Автоматичне встановлення»</a>.) </p>
<p>За замовчуванням цей компонент не завантажується у головне меню інсталяції, тому ви маєте явно попросити його про це. Якщо ви встановлюєте з оптичного носія, вам потрібно завантажитися із середнім пріоритетом або іншим чином викликати головне меню встановлення і вибрати <span class="guimenuitem">Завантажити компоненти інсталятора з інсталяційного носія</span> і зі списку додаткових компонентів вибрати <span class="guimenuitem">мережева консоль: Продовжити встановлення віддалено за допомогою SSH</span>. Про успішне завантаження свідчить новий пункт меню під назвою <span class="guimenuitem">Продовжити встановлення віддалено за допомогою SSH</span>. </p>
<p><span class="phrase">Після вибору цього нового запису, вам</span>  буде запропоновано ввести новий пароль, який буде використано для підключення до системи встановлення та його підтвердження. Це все. Тепер ви побачите екран, на якому вам буде запропоновано віддалено увійти від імені користувача <span class="emphasis"><em>installer</em></span> за допомогою пароля, який ви щойно вказали. Ще одна важлива деталь, яку слід помітити на цьому екрані, - це відбиток пальця цієї системи. Вам потрібно безпечно передати відбиток пальця людині, яка буде продовжувати встановлення віддалено. </p>
<p>Якщо ви вирішите продовжити встановлення локально, ви завжди можете натиснути <span class="keycap"><strong>Enter</strong></span>, що поверне вас до головного меню, де ви зможете вибрати інший компонент. </p>
<p>Тепер перейдемо на інший бік дроту. Перш за все, вам потрібно налаштувати ваш термінал на кодування UTF-8, оскільки саме його використовує система встановлення. Якщо ви цього не зробите, віддалене встановлення все одно буде можливим, але ви можете зіткнутися з дивними артефактами відображення, такими як зруйновані межі діалогових вікон або нечитабельні не ascii символи. Встановити з'єднання з інсталяційною системою так само просто, як і набрати текст: </p>
<div class="informalexample"><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>ssh -l installer <em class="replaceable"><code>install_host</code></em></code></strong>
</pre></div>
<p> Де <em class="replaceable"><code>install_host</code></em> - ім'я або IP-адреса комп'ютера, що встановлюється. Перед фактичним входом буде відображено відбиток пальця віддаленої системи, і вам потрібно буде підтвердити його правильність. </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top">
<p>Сервер <span class="command"><strong>ssh</strong></span> у програмі встановлення використовує конфігурацію за замовчуванням, яка не надсилає пакети keep-alive. В принципі, з'єднання із системою, що встановлюється, повинно залишатися відкритим на невизначений час. Однак, у деяких ситуаціях - залежно від налаштувань вашої локальної мережі - з'єднання може бути втрачено після певного періоду бездіяльності. Один з поширених випадків, коли це може статися, це коли між клієнтом і системою, що встановлюється, існує певна форма трансляції мережевих адрес (NAT). Залежно від того, на якому етапі інсталяції було втрачено з'єднання, ви зможете або не зможете відновити інсталяцію після повторного підключення. </p>
<p>Ви можете уникнути розриву з'єднання, додавши параметр <strong class="userinput"><code>-o ServerAliveInterval=<em class="replaceable"><code>value</code></em></code></strong> коли з'єднуєтеся через <span class="command"><strong>ssh</strong></span> або додавши цей параметр до свого конфігураційного файлу <span class="command"><strong>ssh</strong></span>. Але зверніть увагу, що у деяких випадках додавання цього параметра може також <span class="emphasis"><em>призвести</em></span> до розриву з'єднання (наприклад, якщо пакети keep-alive надсилаються під час короткого збою мережі, після якого <span class="command"><strong>ssh</strong></span> могла би відновити з'єднання), тому його краще використовувати лише у разі потреби. </p>
</td></tr>
</table></div>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Примітка]" src="images/note.png"></td>
<th align="left">Примітка</th>
</tr>
<tr><td align="left" valign="top"><p>Якщо ви встановлюєте кілька комп'ютерів по черзі і вони мають однакову IP-адресу або ім'я хоста, <span class="command"><strong>ssh</strong></span> відмовиться з'єднуватися з таким хостом. Причина в тому, що він матиме інший відбиток пальця, що зазвичай є ознакою спуфінг-атаки. Якщо ви впевнені, що це не так, вам потрібно видалити відповідний рядок з <code class="filename">~/.ssh/known_hosts</code><a href="#ftn.id3452" class="footnote" name="id3452"><sup class="footnote">[14]</sup></a> та спробуйте знову. </p></td></tr>
</table></div>
<p>Після входу ви побачите початковий екран, де у вас є дві можливості: <span class="guimenuitem">Стартове меню</span> і <span class="guimenuitem">Стартова оболонка</span>. Перший з них відкриває головне меню інсталятора, де ви можете продовжити інсталяцію у звичайному режимі. Останній запускає оболонку, з якої ви можете дослідити і, можливо, виправити віддалену систему. Ви повинні розпочати лише один сеанс SSH для меню встановлення, але можете розпочати декілька сеансів для командних оболонок. </p>
<div class="warning"><table border="0" summary="Warning">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Застереження]" src="images/warning.png"></td>
<th align="left">Застереження</th>
</tr>
<tr><td align="left" valign="top"><p>Після того, як ви розпочали встановлення віддалено через SSH, не слід повертатися до сеансу встановлення на локальній консолі. Це може призвести до пошкодження бази даних, яка містить конфігурацію нової системи. Це, в свою чергу, може призвести до невдалого встановлення або проблем зі встановленою системою. </p></td></tr>
</table></div>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div id="ftn.id2645" class="footnote"><p><a href="#id2645" class="para"><sup class="para">[4] </sup></a> З технічної точки зору: де для цієї мови існує кілька локалізацій з різними кодами країн. </p></div>
<div id="ftn.id2653" class="footnote"><p><a href="#id2653" class="para"><sup class="para">[5] </sup></a> За середнього і низького пріоритету ви завжди можете вибрати бажану локаль з тих, що доступні для вибраної мови (якщо їх більше однієї). </p></div>
<div id="ftn.id2659" class="footnote"><p><a href="#id2659" class="para"><sup class="para">[6] </sup></a>Застарілі локалі - це локалі, які використовують не UTF-8, а один зі старих стандартів кодування символів, таких як ISO 8859-1 (використовується у західноєвропейських мовах) або EUC-JP (використовується у японській мові). </p></div>
<div id="ftn.id2839" class="footnote"><p><a href="#id2839" class="para"><sup class="para">[7] </sup></a> Програма встановлення зашифрує групу томів LVM за допомогою 256-бітного ключа AES і скористається підтримкою <span class="quote">«<span class="quote">dm-crypt</span>»</span> у ядрі. </p></div>
<div id="ftn.id2933" class="footnote"><p><a href="#id2933" class="para"><sup class="para">[8] </sup></a>Щиро кажучи, ви можете створити MD-пристрій навіть з розділів, розташованих на одному фізичному диску, але це не дасть жодних переваг. </p></div>
<div id="ftn.id3175" class="footnote"><p><a href="#id3175" class="para"><sup class="para">[9] </sup></a> Використання ключової фрази як ключа наразі означає, що розділ буде створено за допомогою <a class="ulink" href="https://gitlab.com/cryptsetup/cryptsetup" target="_top">LUKS</a>. </p></div>
<div id="ftn.id3190" class="footnote"><p><a href="#id3190" class="para"><sup class="para">[10] </sup></a> Вважається, що хлопці з агентств з трьох букв можуть відновити дані навіть після кількох перезаписів магнітооптичних носіїв, хоча. </p></div>
<div id="ftn.id3233" class="footnote"><p><a href="#id3233" class="para"><sup class="para">[11] </sup></a> Зауважте, що програма, яка власне встановлює пакунки, називається <span class="command"><strong>dpkg</strong></span>. Однак, ця програма є скоріше низькорівневим інструментом. <span class="command"><strong>apt</strong></span> є інструментом вищого рівня, який викличе <span class="command"><strong>dpkg</strong></span> за необхідності. Він знає, як отримати пакунки з вашого інсталяційного носія, мережі або звідки завгодно. Він також може автоматично встановлювати інші пакунки, необхідні для коректної роботи пакунка, який ви намагаєтеся встановити. </p></div>
<div id="ftn.id3295" class="footnote"><p><a href="#id3295" class="para"><sup class="para">[12] </sup></a>Вам слід знати, що для показу цього списку програма встановлення просто викликає програму <span class="command"><strong>tasksel</strong></span>. Його можна запустити у будь-який час після встановлення, щоб встановити додаткові пакунки (або видалити їх), або скористатися більш тонким інструментом, таким як <span class="command"><strong>aptitude</strong></span>. Якщо ви шукаєте певний окремий пакунок, після завершення встановлення просто виконайте <strong class="userinput"><code>aptitude install <em class="replaceable"><code>package</code></em></code></strong>, де <em class="replaceable"><code>package</code></em> - це назва пакунка, який ви шукаєте. </p></div>
<div id="ftn.id3390" class="footnote"><p><a href="#id3390" class="para"><sup class="para">[13] </sup></a> Тобто: одночасно натисніть клавішу <span class="keycap"><strong>Alt</strong></span> ліворуч від <span class="keycap"><strong>пробіл</strong></span> і функціональну клавішу <span class="keycap"><strong>F2</strong></span>. </p></div>
<div id="ftn.id3452" class="footnote"><p><a href="#id3452" class="para"><sup class="para">[14] </sup></a> Наступна команда видалить наявний запис для хоста: <span class="command"><strong>ssh-keygen -R &lt;<em class="replaceable"><code>hostname</code></em>|<em class="replaceable"><code>IP address</code></em>&gt;</strong></span>. </p></div>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ch06s02.html"><img src="images/prev.png" alt="назад"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="ch06.html"><img src="images/up.png" alt="Догори"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="ch06s04.html"><img src="images/next.png" alt="далі"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">6.2. Вступ до компонентів </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Початок"></a></td>
<td width="40%" align="right" valign="top"> 6.4. Завантаження втраченої прошивки</td>
</tr>
</table>
</div>
</body>
</html>
