<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>B.5. Opsi tingkat lanjut</title>
<link rel="stylesheet" type="text/css" href="install.css">
<meta name="generator" content="DocBook XSL Stylesheets Vsnapshot">
<link rel="home" href="index.html" title="Panduan Instalasi Debian GNU/Linux">
<link rel="up" href="apb.html" title="Lampiran B. Mengotomatiskan instalasi menggunakan preseed">
<link rel="prev" href="apbs04.html" title="B.4. Isi berkas prakonfigurasi (untuk trixie)">
<link rel="next" href="apc.html" title="Lampiran C. Pemartisian untuk Debian">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">B.5. Opsi tingkat lanjut</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="apbs04.html"><img src="images/prev.png" alt="Sebelumnya"></a> </td>
<th width="60%" align="center">Lampiran B. Mengotomatiskan instalasi menggunakan preseed</th>
<td width="20%" align="right"> <a accesskey="n" href="apc.html"><img src="images/next.png" alt="Lanjut"></a>
</td>
</tr>
</table>
<hr>
</div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title">
<a name="preseed-advanced"></a>B.5. Opsi tingkat lanjut</h2></div></div></div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-hooks"></a>B.5.1. Menjalankan perintah ubahan selama instalasi</h3></div></div></div>
<p>Opsi yang sangat kuat dan fleksibel yang ditawarkan oleh alat prakonfigurasi adalah kemampuan untuk menjalankan perintah atau skrip pada titik-titik tertentu dalam instalasi. </p>
<p>Ketika sistem berkas dari sistem target dipasang, itu tersedia di <code class="filename">/target</code>. Jika CD/DVD instalasi digunakan, ketika dikait itu tersedia di <code class="filename">/cdrom</code>. </p>
<div class="informalexample"><pre class="screen"># d-i preseed secara inheren tidak aman. Tidak ada dalam pemasang yang
# memeriksa upaya buffer overflow atau eksploitasi lain dari nilai-nilai
# berkas prakonfigurasi seperti ini. Hanya gunakan berkas prakonfigurasi dari
# lokasi tepercaya! Untuk mengantarnya pulang, dan karena umumnya berguna,
# inilah cara untuk menjalankan perintah shell apa pun yang Anda inginkan
# di dalam pemasang, secara otomatis.

# Perintah pertama ini dijalankan sedini mungkin, tepat setelah
# preseed dibaca.
#d-i preseed/early_command string anna-install some-udeb
# Perintah ini dijalankan segera sebelum pemartisi dimulai. Mungkin saja
# berguna untuk menerapkan preseed partisi dinamis yang tergantung pada keadaan
# disk (yang mungkin tidak terlihat saat preseed/early_command berjalan).
#d-i partman/early_command \
#       string debconf-set partman-auto/disk "$(list-devices disk | head -n1)"
# Perintah ini dijalankan tepat sebelum instalasi selesai, tetapi ketika masih
# ada direktori /target yang dapat digunakan. Anda dapat chroot ke /target dan
# menggunakannya langsung, atau gunakan perintah apt-install dan in-target untuk
# memasang paket dengan mudah dan menjalankan perintah dalam sistem target.
#d-i preseed/late_command string apt-install zsh; in-target chsh -s /bin/zsh
</pre></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-seenflag"></a>B.5.2. Menggunakan preseed untuk mengubah nilai baku</h3></div></div></div>
<p>Dimungkinkan untuk menggunakan preseed agar mengubah jawaban baku untuk sebuah pertanyaan, tetapi masih memiliki pertanyaan yang diajukan. Untuk melakukan ini, bendera <em class="firstterm">seen</em> harus disetel ulang ke <span class="quote">“<span class="quote">false</span>”</span> setelah mengatur nilai untuk pertanyaan. </p>
<div class="informalexample"><pre class="screen">
d-i foo/bar string value
d-i foo/bar seen false
</pre></div>
<p> Efek yang sama dapat dicapai untuk <span class="emphasis"><em>semua</em></span> pertanyaan dengan mengatur parameter <code class="classname">preseed/interactive=true</code> pada prompt boot. Ini juga dapat berguna untuk menguji atau men-debug berkas prakonfigurasi Anda. </p>
<p>Perhatikan bahwa pemilik <span class="quote">“<span class="quote">d-i</span>”</span> hanya boleh digunakan untuk variabel yang digunakan dalam pemasang itu sendiri. Untuk variabel milik paket yang dipasang pada sistem target, Anda harus menggunakan nama paket itu sebagai gantinya. Lihat catatan kaki untuk <a class="xref" href="apbs02.html#preseed-bootparms" title="B.2.2. Menggunakan parameter boot untuk pertanyaan preseed">Bagian B.2.2, “Menggunakan parameter boot untuk pertanyaan preseed”</a>. </p>
<p>Jika Anda melakukan preseed menggunakan parameter boot, Anda dapat membuat pemasang mengajukan pertanyaan yang sesuai dengan menggunakan operator <span class="quote">“<span class="quote">?=</span>”</span>, yaitu <strong class="userinput"><code><em class="replaceable"><code>foo</code></em>/<em class="replaceable"><code>bar</code></em>?=<em class="replaceable"><code>nilai</code></em></code></strong> (atau <strong class="userinput"><code><em class="replaceable"><code>pemilik</code></em>:<em class="replaceable"><code>foo/bar</code></em>?=<em class="replaceable"><code>nilai</code></em></code></strong>). Hal ini tentu saja hanya akan berpengaruh pada parameter yang sesuai dengan pertanyaan yang sebenarnya ditampilkan selama instalasi dan bukan untuk parameter <span class="quote">“<span class="quote">internal</span>”</span>. </p>
<p>Untuk informasi debug lebih lanjut, gunakan parameter boot <code class="classname">DEBCONF_DEBUG=5</code>. Ini akan menyebabkan <code class="classname">debconf</code> mencetak lebih banyak detail tentang pengaturan saat ini dari setiap variabel dan tentang kemajuannya melalui skrip instalasi masing-masing paket. </p>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="preseed-chainload"></a>B.5.3. Memuat berkas prakonfigurasi berrantai</h3></div></div></div>
<p>Dimungkinkan untuk menyertakan berkas prakonfigurasi lain dari suatu berkas prakonfigurasi. Pengaturan apa pun dalam berkas tersebut akan menggantikan pengaturan yang sudah ada sebelumnya dari berkas yang dimuat sebelumnya. Ini memungkinkan untuk meletakkan, misalnya, pengaturan jaringan umum untuk lokasi Anda dalam satu berkas dan pengaturan yang lebih spesifik untuk konfigurasi tertentu dalam berkas lain. </p>
<div class="informalexample"><pre class="screen"># Lebih dari satu berkas dapat dicantumkan, dipisahkan oleh spasi; semua
# akan dimuat. Berkas yang disertakan dapat memiliki direktif preseed/include
# mereka sendiri juga. Perhatikan bahwa jika nama berkas itu relatif, mereka
# diambil dari direktori yang sama dengan berkas prakonfigurasi yang
# menyertakannya.
#d-i preseed/include string x.cfg

# Pemasang dapat secara opsional memverifikasi checksum berkas prakonfigurasi
# sebelum menggunakannya. Saat ini hanya md5sum yang didukung, buat daftar
# md5sums dalam urutan yang sama dengan daftar berkas yang akan disertakan.
#d-i preseed/include/checksum string 5da499872becccfeda2c4872f9171c3d

# Lebih fleksibel, ini menjalankan perintah shell dan jika mengeluarkan
# nama-nama berkas prakonfigurasi, sertakan berkas-berkas itu. 
#d-i preseed/include_command \
#      string if [ "`hostname`" = bob ]; then echo bob.cfg; fi

# Yang paling fleksibel dari semuanya, ini mengunduh program dan
# menjalankannya. Program dapat menggunakan perintah seperti debconf-set
# untuk memanipulasi basis data debconf. Lebih dari satu skrip dapat
# dicantumkan, dipisahkan oleh spasi. Perhatikan bahwa jika nama berkas
# itu relatif, mereka diambil dari direktori yang sama dengan berkas
# prakonfigurasi yang menjalankannya.
#d-i preseed/run string foo.sh
</pre></div>
<p>Dimungkinkan juga untuk chainload dari fase initrd atau berkas preseed, ke dalam preseed jaringan dengan mengatur preseed/url di berkas sebelumnya. Ini akan menyebabkan preseed jaringan dilakukan ketika jaringan muncul. Anda harus berhati-hati saat melakukan ini, karena akan ada dua eksekusi berbeda pada preseed, artinya misalnya Anda mendapatkan kesempatan lain untuk menjalankan perintah preseed/early, yang kedua terjadi setelah jaringan muncul. </p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="apbs04.html"><img src="images/prev.png" alt="Sebelumnya"></a> </td>
<td width="20%" align="center"><a accesskey="u" href="apb.html"><img src="images/up.png" alt="Induk"></a></td>
<td width="40%" align="right"> <a accesskey="n" href="apc.html"><img src="images/next.png" alt="Lanjut"></a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">B.4. Isi berkas prakonfigurasi (untuk trixie) </td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.png" alt="Depan"></a></td>
<td width="40%" align="right" valign="top"> Lampiran C. Pemartisian untuk Debian</td>
</tr>
</table>
</div>
</body>
</html>
